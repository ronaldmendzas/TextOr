{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file://C%3A/TextOr/src/i18n/en.ts"],"sourcesContent":["export interface TranslationKeys {\n  editor: {\n    beta: string;\n    untitled: string;\n    placeholder: string;\n  };\n  toolbar: {\n    undo: string;\n    redo: string;\n    bold: string;\n    italic: string;\n    underline: string;\n    strikethrough: string;\n    code: string;\n    link: string;\n    focusMode: string;\n    wordDensity: string;\n  };\n  slashMenu: {\n    title: string;\n    noResults: string;\n    commands: {\n      paragraph: { label: string; description: string };\n      heading1: { label: string; description: string };\n      heading2: { label: string; description: string };\n      heading3: { label: string; description: string };\n      code: { label: string; description: string };\n      table: { label: string; description: string };\n      calloutInfo: { label: string; description: string };\n      calloutWarning: { label: string; description: string };\n      calloutTip: { label: string; description: string };\n      calloutDanger: { label: string; description: string };\n      quote: { label: string; description: string };\n      bulletList: { label: string; description: string };\n      numberedList: { label: string; description: string };\n      checkboxList: { label: string; description: string };\n      divider: { label: string; description: string };\n      embed: { label: string; description: string };\n    };\n  };\n  blocks: {\n    code: {\n      run: string;\n      running: string;\n      output: string;\n      language: string;\n    };\n    table: {\n      addColumn: string;\n      addRow: string;\n      deleteColumn: string;\n      deleteRow: string;\n    };\n    callout: {\n      info: string;\n      warning: string;\n      tip: string;\n      danger: string;\n    };\n    embed: {\n      embedPrompt: string;\n      yes: string;\n      no: string;\n      loading: string;\n    };\n  };\n  stats: {\n    words: string;\n    characters: string;\n    sentences: string;\n    paragraphs: string;\n    readingTime: string;\n    wordCount: string;\n    sentiment: string;\n  };\n  save: {\n    saved: string;\n    saving: string;\n  };\n  wordDensity: {\n    title: string;\n    sentiment: string;\n    topWords: string;\n  };\n  common: {\n    save: string;\n  };\n  export: {\n    title: string;\n    pdf: string;\n    markdown: string;\n    json: string;\n    html: string;\n    copied: string;\n  };\n  language: {\n    en: string;\n    es: string;\n  };\n  actions: {\n    delete: string;\n    duplicate: string;\n    moveUp: string;\n    moveDown: string;\n  };\n}\n\nexport const en: TranslationKeys = {\n  editor: {\n    beta: \"Beta\",\n    untitled: \"Untitled Document\",\n    placeholder: \"Type '/' for commands or start writing...\",\n  },\n  toolbar: {\n    undo: \"Undo\",\n    redo: \"Redo\",\n    bold: \"Bold\",\n    italic: \"Italic\",\n    underline: \"Underline\",\n    strikethrough: \"Strikethrough\",\n    code: \"Code\",\n    link: \"Link\",\n    focusMode: \"Focus Mode\",\n    wordDensity: \"Word Density\",\n  },\n  slashMenu: {\n    title: \"Add Block\",\n    noResults: \"No results found\",\n    commands: {\n      paragraph: { label: \"Paragraph\", description: \"Plain text paragraph\" },\n      heading1: { label: \"Heading 1\", description: \"Large section heading\" },\n      heading2: { label: \"Heading 2\", description: \"Medium section heading\" },\n      heading3: { label: \"Heading 3\", description: \"Small section heading\" },\n      code: { label: \"Code Block\", description: \"Executable code with syntax highlighting\" },\n      table: { label: \"Table\", description: \"Dynamic sortable table\" },\n      calloutInfo: { label: \"Info Callout\", description: \"Informational notice\" },\n      calloutWarning: { label: \"Warning Callout\", description: \"Warning notice\" },\n      calloutTip: { label: \"Tip Callout\", description: \"Helpful tip\" },\n      calloutDanger: { label: \"Danger Callout\", description: \"Critical warning\" },\n      quote: { label: \"Quote\", description: \"Block quotation\" },\n      bulletList: { label: \"Bullet List\", description: \"Unordered list\" },\n      numberedList: { label: \"Numbered List\", description: \"Ordered list\" },\n      checkboxList: { label: \"Checkbox List\", description: \"Task list with checkboxes\" },\n      divider: { label: \"Divider\", description: \"Visual separator\" },\n      embed: { label: \"Embed\", description: \"YouTube, Spotify, Twitter embed\" },\n    },\n  },\n  blocks: {\n    code: {\n      run: \"Run\",\n      running: \"Running...\",\n      output: \"Output\",\n      language: \"Language\",\n    },\n    table: {\n      addColumn: \"Add Column\",\n      addRow: \"Add Row\",\n      deleteColumn: \"Delete Column\",\n      deleteRow: \"Delete Row\",\n    },\n    callout: {\n      info: \"Info\",\n      warning: \"Warning\",\n      tip: \"Tip\",\n      danger: \"Danger\",\n    },\n    embed: {\n      embedPrompt: \"Would you like to embed this content?\",\n      yes: \"Yes, embed\",\n      no: \"No, keep link\",\n      loading: \"Loading embed...\",\n    },\n  },\n  stats: {\n    words: \"words\",\n    characters: \"characters\",\n    sentences: \"sentences\",\n    paragraphs: \"paragraphs\",\n    readingTime: \"min read\",\n    wordCount: \"Word count\",\n    sentiment: \"Sentiment\",\n  },\n  save: {\n    saved: \"Saved\",\n    saving: \"Saving...\",\n  },\n  wordDensity: {\n    title: \"Word Density\",\n    sentiment: \"Sentiment\",\n    topWords: \"Top Words\",\n  },\n  common: {\n    save: \"Saved\",\n  },\n  export: {\n    title: \"Export\",\n    pdf: \"Export to PDF\",\n    markdown: \"Export to Markdown\",\n    json: \"Export to JSON\",\n    html: \"Copy as HTML\",\n    copied: \"Copied to clipboard!\",\n  },\n  language: {\n    en: \"English\",\n    es: \"Spanish\",\n  },\n  actions: {\n    delete: \"Delete\",\n    duplicate: \"Duplicate\",\n    moveUp: \"Move Up\",\n    moveDown: \"Move Down\",\n  },\n};\n"],"names":[],"mappings":";;;AA2GO,MAAM,KAAsB;IACjC,QAAQ;QACN,MAAM;QACN,UAAU;QACV,aAAa;IACf;IACA,SAAS;QACP,MAAM;QACN,MAAM;QACN,MAAM;QACN,QAAQ;QACR,WAAW;QACX,eAAe;QACf,MAAM;QACN,MAAM;QACN,WAAW;QACX,aAAa;IACf;IACA,WAAW;QACT,OAAO;QACP,WAAW;QACX,UAAU;YACR,WAAW;gBAAE,OAAO;gBAAa,aAAa;YAAuB;YACrE,UAAU;gBAAE,OAAO;gBAAa,aAAa;YAAwB;YACrE,UAAU;gBAAE,OAAO;gBAAa,aAAa;YAAyB;YACtE,UAAU;gBAAE,OAAO;gBAAa,aAAa;YAAwB;YACrE,MAAM;gBAAE,OAAO;gBAAc,aAAa;YAA2C;YACrF,OAAO;gBAAE,OAAO;gBAAS,aAAa;YAAyB;YAC/D,aAAa;gBAAE,OAAO;gBAAgB,aAAa;YAAuB;YAC1E,gBAAgB;gBAAE,OAAO;gBAAmB,aAAa;YAAiB;YAC1E,YAAY;gBAAE,OAAO;gBAAe,aAAa;YAAc;YAC/D,eAAe;gBAAE,OAAO;gBAAkB,aAAa;YAAmB;YAC1E,OAAO;gBAAE,OAAO;gBAAS,aAAa;YAAkB;YACxD,YAAY;gBAAE,OAAO;gBAAe,aAAa;YAAiB;YAClE,cAAc;gBAAE,OAAO;gBAAiB,aAAa;YAAe;YACpE,cAAc;gBAAE,OAAO;gBAAiB,aAAa;YAA4B;YACjF,SAAS;gBAAE,OAAO;gBAAW,aAAa;YAAmB;YAC7D,OAAO;gBAAE,OAAO;gBAAS,aAAa;YAAkC;QAC1E;IACF;IACA,QAAQ;QACN,MAAM;YACJ,KAAK;YACL,SAAS;YACT,QAAQ;YACR,UAAU;QACZ;QACA,OAAO;YACL,WAAW;YACX,QAAQ;YACR,cAAc;YACd,WAAW;QACb;QACA,SAAS;YACP,MAAM;YACN,SAAS;YACT,KAAK;YACL,QAAQ;QACV;QACA,OAAO;YACL,aAAa;YACb,KAAK;YACL,IAAI;YACJ,SAAS;QACX;IACF;IACA,OAAO;QACL,OAAO;QACP,YAAY;QACZ,WAAW;QACX,YAAY;QACZ,aAAa;QACb,WAAW;QACX,WAAW;IACb;IACA,MAAM;QACJ,OAAO;QACP,QAAQ;IACV;IACA,aAAa;QACX,OAAO;QACP,WAAW;QACX,UAAU;IACZ;IACA,QAAQ;QACN,MAAM;IACR;IACA,QAAQ;QACN,OAAO;QACP,KAAK;QACL,UAAU;QACV,MAAM;QACN,MAAM;QACN,QAAQ;IACV;IACA,UAAU;QACR,IAAI;QACJ,IAAI;IACN;IACA,SAAS;QACP,QAAQ;QACR,WAAW;QACX,QAAQ;QACR,UAAU;IACZ;AACF"}},
    {"offset": {"line": 167, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 173, "column": 0}, "map": {"version":3,"sources":["file://C%3A/TextOr/src/i18n/es.ts"],"sourcesContent":["import type { TranslationKeys } from \"./en\";\n\nexport const es: TranslationKeys = {\n  editor: {\n    beta: \"Beta\",\n    untitled: \"Documento sin t√≠tulo\",\n    placeholder: \"Escribe '/' para comandos o empieza a escribir...\",\n  },\n  toolbar: {\n    undo: \"Deshacer\",\n    redo: \"Rehacer\",\n    bold: \"Negrita\",\n    italic: \"Cursiva\",\n    underline: \"Subrayado\",\n    strikethrough: \"Tachado\",\n    code: \"C√≥digo\",\n    link: \"Enlace\",\n    focusMode: \"Modo Enfoque\",\n    wordDensity: \"Densidad de Palabras\",\n  },\n  slashMenu: {\n    title: \"Agregar Bloque\",\n    noResults: \"No se encontraron resultados\",\n    commands: {\n      paragraph: { label: \"P√°rrafo\", description: \"Texto plano\" },\n      heading1: { label: \"T√≠tulo 1\", description: \"Encabezado grande\" },\n      heading2: { label: \"T√≠tulo 2\", description: \"Encabezado mediano\" },\n      heading3: { label: \"T√≠tulo 3\", description: \"Encabezado peque√±o\" },\n      code: { label: \"Bloque de C√≥digo\", description: \"C√≥digo con resaltado de sintaxis\" },\n      table: { label: \"Tabla\", description: \"Tabla ordenable din√°mica\" },\n      calloutInfo: { label: \"Aviso Info\", description: \"Aviso informativo\" },\n      calloutWarning: { label: \"Aviso Advertencia\", description: \"Aviso de advertencia\" },\n      calloutTip: { label: \"Aviso Consejo\", description: \"Consejo √∫til\" },\n      calloutDanger: { label: \"Aviso Peligro\", description: \"Advertencia cr√≠tica\" },\n      quote: { label: \"Cita\", description: \"Cita en bloque\" },\n      bulletList: { label: \"Lista con Vi√±etas\", description: \"Lista desordenada\" },\n      numberedList: { label: \"Lista Numerada\", description: \"Lista ordenada\" },\n      checkboxList: { label: \"Lista de Tareas\", description: \"Lista con casillas de verificaci√≥n\" },\n      divider: { label: \"Divisor\", description: \"Separador visual\" },\n      embed: { label: \"Embed\", description: \"YouTube, Spotify, Twitter\" },\n    },\n  },\n  blocks: {\n    code: {\n      run: \"Ejecutar\",\n      running: \"Ejecutando...\",\n      output: \"Salida\",\n      language: \"Lenguaje\",\n    },\n    table: {\n      addColumn: \"Agregar Columna\",\n      addRow: \"Agregar Fila\",\n      deleteColumn: \"Eliminar Columna\",\n      deleteRow: \"Eliminar Fila\",\n    },\n    callout: {\n      info: \"Info\",\n      warning: \"Advertencia\",\n      tip: \"Consejo\",\n      danger: \"Peligro\",\n    },\n    embed: {\n      embedPrompt: \"¬øDeseas incrustar este contenido?\",\n      yes: \"S√≠, incrustar\",\n      no: \"No, mantener enlace\",\n      loading: \"Cargando embed...\",\n    },\n  },\n  stats: {\n    words: \"palabras\",\n    characters: \"caracteres\",\n    sentences: \"oraciones\",\n    paragraphs: \"p√°rrafos\",\n    readingTime: \"min de lectura\",\n    wordCount: \"Contador de palabras\",\n    sentiment: \"Sentimiento\",\n  },\n  save: {\n    saved: \"Guardado\",\n    saving: \"Guardando...\",\n  },\n  wordDensity: {\n    title: \"Densidad de Palabras\",\n    sentiment: \"Sentimiento\",\n    topWords: \"Palabras Frecuentes\",\n  },\n  common: {\n    save: \"Guardado\",\n  },\n  export: {\n    title: \"Exportar\",\n    pdf: \"Exportar a PDF\",\n    markdown: \"Exportar a Markdown\",\n    json: \"Exportar a JSON\",\n    html: \"Copiar como HTML\",\n    copied: \"¬°Copiado al portapapeles!\",\n  },\n  language: {\n    en: \"Ingl√©s\",\n    es: \"Espa√±ol\",\n  },\n  actions: {\n    delete: \"Eliminar\",\n    duplicate: \"Duplicar\",\n    moveUp: \"Mover Arriba\",\n    moveDown: \"Mover Abajo\",\n  },\n};\n"],"names":[],"mappings":";;;AAEO,MAAM,KAAsB;IACjC,QAAQ;QACN,MAAM;QACN,UAAU;QACV,aAAa;IACf;IACA,SAAS;QACP,MAAM;QACN,MAAM;QACN,MAAM;QACN,QAAQ;QACR,WAAW;QACX,eAAe;QACf,MAAM;QACN,MAAM;QACN,WAAW;QACX,aAAa;IACf;IACA,WAAW;QACT,OAAO;QACP,WAAW;QACX,UAAU;YACR,WAAW;gBAAE,OAAO;gBAAW,aAAa;YAAc;YAC1D,UAAU;gBAAE,OAAO;gBAAY,aAAa;YAAoB;YAChE,UAAU;gBAAE,OAAO;gBAAY,aAAa;YAAqB;YACjE,UAAU;gBAAE,OAAO;gBAAY,aAAa;YAAqB;YACjE,MAAM;gBAAE,OAAO;gBAAoB,aAAa;YAAmC;YACnF,OAAO;gBAAE,OAAO;gBAAS,aAAa;YAA2B;YACjE,aAAa;gBAAE,OAAO;gBAAc,aAAa;YAAoB;YACrE,gBAAgB;gBAAE,OAAO;gBAAqB,aAAa;YAAuB;YAClF,YAAY;gBAAE,OAAO;gBAAiB,aAAa;YAAe;YAClE,eAAe;gBAAE,OAAO;gBAAiB,aAAa;YAAsB;YAC5E,OAAO;gBAAE,OAAO;gBAAQ,aAAa;YAAiB;YACtD,YAAY;gBAAE,OAAO;gBAAqB,aAAa;YAAoB;YAC3E,cAAc;gBAAE,OAAO;gBAAkB,aAAa;YAAiB;YACvE,cAAc;gBAAE,OAAO;gBAAmB,aAAa;YAAqC;YAC5F,SAAS;gBAAE,OAAO;gBAAW,aAAa;YAAmB;YAC7D,OAAO;gBAAE,OAAO;gBAAS,aAAa;YAA4B;QACpE;IACF;IACA,QAAQ;QACN,MAAM;YACJ,KAAK;YACL,SAAS;YACT,QAAQ;YACR,UAAU;QACZ;QACA,OAAO;YACL,WAAW;YACX,QAAQ;YACR,cAAc;YACd,WAAW;QACb;QACA,SAAS;YACP,MAAM;YACN,SAAS;YACT,KAAK;YACL,QAAQ;QACV;QACA,OAAO;YACL,aAAa;YACb,KAAK;YACL,IAAI;YACJ,SAAS;QACX;IACF;IACA,OAAO;QACL,OAAO;QACP,YAAY;QACZ,WAAW;QACX,YAAY;QACZ,aAAa;QACb,WAAW;QACX,WAAW;IACb;IACA,MAAM;QACJ,OAAO;QACP,QAAQ;IACV;IACA,aAAa;QACX,OAAO;QACP,WAAW;QACX,UAAU;IACZ;IACA,QAAQ;QACN,MAAM;IACR;IACA,QAAQ;QACN,OAAO;QACP,KAAK;QACL,UAAU;QACV,MAAM;QACN,MAAM;QACN,QAAQ;IACV;IACA,UAAU;QACR,IAAI;QACJ,IAAI;IACN;IACA,SAAS;QACP,QAAQ;QACR,WAAW;QACX,QAAQ;QACR,UAAU;IACZ;AACF"}},
    {"offset": {"line": 333, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 339, "column": 0}, "map": {"version":3,"sources":["file://C%3A/TextOr/src/i18n/index.ts"],"sourcesContent":["import { create } from \"zustand\";\nimport { persist } from \"zustand/middleware\";\nimport { en, type TranslationKeys } from \"./en\";\nimport { es } from \"./es\";\n\nexport type { TranslationKeys };\nexport type Language = \"en\" | \"es\";\n\nconst translations: Record<Language, TranslationKeys> = {\n  en,\n  es,\n};\n\ninterface I18nStore {\n  language: Language;\n  setLanguage: (lang: Language) => void;\n  t: TranslationKeys;\n}\n\nexport const useI18nStore = create<I18nStore>()(\n  persist(\n    (set) => ({\n      language: \"en\",\n      setLanguage: (lang: Language) => {\n        set({ language: lang, t: translations[lang] });\n      },\n      t: translations[\"en\"],\n    }),\n    {\n      name: \"textor-language\",\n      partialize: (state) => ({ language: state.language }),\n      onRehydrateStorage: () => (state) => {\n        if (state) {\n          state.t = translations[state.language];\n        }\n      },\n    }\n  )\n);\n"],"names":[],"mappings":";;;AAEA;AACA;AAHA;AACA;;;;;AAOA,MAAM,eAAkD;IACtD,IAAA,oHAAA,CAAA,KAAE;IACF,IAAA,oHAAA,CAAA,KAAE;AACJ;AAQO,MAAM,eAAe,CAAA,GAAA,2IAAA,CAAA,SAAM,AAAD,IAC/B,CAAA,GAAA,gJAAA,CAAA,UAAO,AAAD,EACJ,CAAC,MAAQ,CAAC;QACR,UAAU;QACV,aAAa,CAAC;YACZ,IAAI;gBAAE,UAAU;gBAAM,GAAG,YAAY,CAAC,KAAK;YAAC;QAC9C;QACA,GAAG,YAAY,CAAC,KAAK;IACvB,CAAC,GACD;IACE,MAAM;IACN,YAAY,CAAC,QAAU,CAAC;YAAE,UAAU,MAAM,QAAQ;QAAC,CAAC;IACpD,oBAAoB,IAAM,CAAC;YACzB,IAAI,OAAO;gBACT,MAAM,CAAC,GAAG,YAAY,CAAC,MAAM,QAAQ,CAAC;YACxC;QACF;AACF"}},
    {"offset": {"line": 377, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 383, "column": 0}, "map": {"version":3,"sources":["file://C%3A/TextOr/src/hooks/useI18n.ts"],"sourcesContent":["import { useI18nStore } from \"@/i18n\";\n\nexport function useI18n() {\n  const { language, setLanguage, t } = useI18nStore();\n  return { language, setLanguage, t };\n}\n"],"names":[],"mappings":";;;AAAA;;;AAEO,SAAS;;IACd,MAAM,EAAE,QAAQ,EAAE,WAAW,EAAE,CAAC,EAAE,GAAG,CAAA,GAAA,uHAAA,CAAA,eAAY,AAAD;IAChD,OAAO;QAAE;QAAU;QAAa;IAAE;AACpC;GAHgB;;QACuB,uHAAA,CAAA,eAAY"}},
    {"offset": {"line": 406, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 412, "column": 0}, "map": {"version":3,"sources":["file://C%3A/TextOr/src/lib/utils.ts"],"sourcesContent":["import { clsx, type ClassValue } from \"clsx\";\nimport { twMerge } from \"tailwind-merge\";\n\nexport function cn(...inputs: ClassValue[]): string {\n  return twMerge(clsx(inputs));\n}\n"],"names":[],"mappings":";;;AAAA;AACA;;;AAEO,SAAS,GAAG,GAAG,MAAoB;IACxC,OAAO,CAAA,GAAA,8JAAA,CAAA,UAAO,AAAD,EAAE,CAAA,GAAA,wIAAA,CAAA,OAAI,AAAD,EAAE;AACtB"}},
    {"offset": {"line": 425, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 431, "column": 0}, "map": {"version":3,"sources":["file://C%3A/TextOr/src/lib/blocks.ts"],"sourcesContent":["import { v4 as uuidv4 } from \"uuid\";\nimport type {\n  Block,\n  BlockType,\n  BlockDataMap,\n  Document,\n  TextSegment,\n  TableColumn,\n  TableRow,\n  TableCell,\n  ListItem,\n  CalloutType,\n  HeadingLevel,\n  ListStyle,\n} from \"@/types\";\n\nexport function createId(): string {\n  return uuidv4();\n}\n\nexport function createTimestamp(): number {\n  return Date.now();\n}\n\nexport function createTextSegment(\n  text: string,\n  format?: TextSegment[\"format\"]\n): TextSegment {\n  return { text, format };\n}\n\nexport function createBlock<T extends BlockType>(\n  type: T,\n  data: BlockDataMap[T]\n): Block<T> {\n  const now = createTimestamp();\n  return {\n    id: createId(),\n    type,\n    data,\n    createdAt: now,\n    updatedAt: now,\n  };\n}\n\nexport function createParagraphBlock(text: string = \"\"): Block<\"paragraph\"> {\n  return createBlock(\"paragraph\", {\n    content: [createTextSegment(text)],\n  });\n}\n\nexport function createHeadingBlock(\n  text: string,\n  level: HeadingLevel = 1\n): Block<\"heading\"> {\n  return createBlock(\"heading\", {\n    level,\n    content: [createTextSegment(text)],\n  });\n}\n\nexport function createCodeBlock(\n  code: string = \"\",\n  language: string = \"javascript\"\n): Block<\"code\"> {\n  return createBlock(\"code\", {\n    language,\n    code,\n    output: undefined,\n    isRunning: false,\n  });\n}\n\nexport function createTableCell(text: string = \"\"): TableCell {\n  return {\n    id: createId(),\n    content: [createTextSegment(text)],\n  };\n}\n\nexport function createTableRow(columnCount: number): TableRow {\n  return {\n    id: createId(),\n    cells: Array.from({ length: columnCount }, () => createTableCell()),\n  };\n}\n\nexport function createTableColumn(header: string): TableColumn {\n  return {\n    id: createId(),\n    header,\n    width: 150,\n  };\n}\n\nexport function createTableBlock(\n  columns: string[] = [\"Column 1\", \"Column 2\", \"Column 3\"],\n  rowCount: number = 2\n): Block<\"table\"> {\n  const tableColumns = columns.map(createTableColumn);\n  const rows = Array.from({ length: rowCount }, () =>\n    createTableRow(columns.length)\n  );\n\n  return createBlock(\"table\", {\n    columns: tableColumns,\n    rows,\n    sortColumn: undefined,\n    sortDirection: \"none\",\n  });\n}\n\nexport function createCalloutBlock(\n  type: CalloutType = \"info\",\n  text: string = \"\",\n  title?: string\n): Block<\"callout\"> {\n  return createBlock(\"callout\", {\n    type,\n    title,\n    content: [createTextSegment(text)],\n  });\n}\n\nexport function createEmbedBlock(url: string): Block<\"embed\"> {\n  const embedType = detectEmbedType(url);\n  return createBlock(\"embed\", {\n    type: embedType,\n    url,\n    title: undefined,\n    thumbnailUrl: undefined,\n    isExpanded: false,\n  });\n}\n\nexport function createImageBlock(\n  url: string,\n  alt?: string,\n  caption?: string\n): Block<\"image\"> {\n  return createBlock(\"image\", {\n    url,\n    alt,\n    caption,\n    width: undefined,\n    height: undefined,\n  });\n}\n\nexport function createDividerBlock(): Block<\"divider\"> {\n  return createBlock(\"divider\", {});\n}\n\nexport function createQuoteBlock(text: string, author?: string): Block<\"quote\"> {\n  return createBlock(\"quote\", {\n    content: [createTextSegment(text)],\n    author,\n  });\n}\n\nexport function createListItem(text: string = \"\", checked?: boolean): ListItem {\n  return {\n    id: createId(),\n    content: [createTextSegment(text)],\n    checked,\n    children: undefined,\n  };\n}\n\nexport function createListBlock(\n  style: ListStyle = \"bullet\",\n  items: string[] = [\"\"]\n): Block<\"list\"> {\n  return createBlock(\"list\", {\n    style,\n    items: items.map((text) =>\n      createListItem(text, style === \"checkbox\" ? false : undefined)\n    ),\n  });\n}\n\nexport function createDocument(\n  title: string = \"Untitled Document\"\n): Document {\n  const now = createTimestamp();\n  return {\n    id: createId(),\n    title,\n    blocks: [createParagraphBlock()],\n    version: 1,\n    createdAt: now,\n    updatedAt: now,\n    metadata: {\n      language: \"en\",\n    },\n  };\n}\n\nexport function detectEmbedType(url: string): Block<\"embed\">[\"data\"][\"type\"] {\n  const lowerUrl = url.toLowerCase();\n\n  if (\n    lowerUrl.includes(\"youtube.com\") ||\n    lowerUrl.includes(\"youtu.be\")\n  ) {\n    return \"youtube\";\n  }\n\n  if (lowerUrl.includes(\"spotify.com\")) {\n    return \"spotify\";\n  }\n\n  if (lowerUrl.includes(\"figma.com\")) {\n    return \"figma\";\n  }\n\n  if (\n    lowerUrl.includes(\"twitter.com\") ||\n    lowerUrl.includes(\"x.com\")\n  ) {\n    return \"twitter\";\n  }\n\n  return \"generic\";\n}\n\nexport function extractYouTubeId(url: string): string | null {\n  const patterns = [\n    /(?:youtube\\.com\\/watch\\?v=|youtu\\.be\\/|youtube\\.com\\/embed\\/)([^&\\n?#]+)/,\n  ];\n\n  for (const pattern of patterns) {\n    const match = url.match(pattern);\n    if (match?.[1]) {\n      return match[1];\n    }\n  }\n\n  return null;\n}\n\nexport function extractSpotifyId(url: string): { type: string; id: string } | null {\n  const match = url.match(/spotify\\.com\\/(track|album|playlist|episode)\\/([^?]+)/);\n  if (match?.[1] && match[2]) {\n    return { type: match[1], id: match[2] };\n  }\n  return null;\n}\n\nexport function extractTwitterId(url: string): string | null {\n  const match = url.match(/(?:twitter\\.com|x\\.com)\\/\\w+\\/status\\/(\\d+)/);\n  return match?.[1] ?? null;\n}\n\nexport function cloneBlock<T extends BlockType>(block: Block<T>): Block<T> {\n  return {\n    ...block,\n    id: createId(),\n    data: JSON.parse(JSON.stringify(block.data)) as BlockDataMap[T],\n    createdAt: createTimestamp(),\n    updatedAt: createTimestamp(),\n  };\n}\n\nexport function updateBlockData<T extends BlockType>(\n  block: Block<T>,\n  data: Partial<BlockDataMap[T]>\n): Block<T> {\n  return {\n    ...block,\n    data: { ...block.data, ...data },\n    updatedAt: createTimestamp(),\n  };\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;;AAgBO,SAAS;IACd,OAAO,CAAA,GAAA,wLAAA,CAAA,KAAM,AAAD;AACd;AAEO,SAAS;IACd,OAAO,KAAK,GAAG;AACjB;AAEO,SAAS,kBACd,IAAY,EACZ,MAA8B;IAE9B,OAAO;QAAE;QAAM;IAAO;AACxB;AAEO,SAAS,YACd,IAAO,EACP,IAAqB;IAErB,MAAM,MAAM;IACZ,OAAO;QACL,IAAI;QACJ;QACA;QACA,WAAW;QACX,WAAW;IACb;AACF;AAEO,SAAS,qBAAqB,OAAe,EAAE;IACpD,OAAO,YAAY,aAAa;QAC9B,SAAS;YAAC,kBAAkB;SAAM;IACpC;AACF;AAEO,SAAS,mBACd,IAAY,EACZ,QAAsB,CAAC;IAEvB,OAAO,YAAY,WAAW;QAC5B;QACA,SAAS;YAAC,kBAAkB;SAAM;IACpC;AACF;AAEO,SAAS,gBACd,OAAe,EAAE,EACjB,WAAmB,YAAY;IAE/B,OAAO,YAAY,QAAQ;QACzB;QACA;QACA,QAAQ;QACR,WAAW;IACb;AACF;AAEO,SAAS,gBAAgB,OAAe,EAAE;IAC/C,OAAO;QACL,IAAI;QACJ,SAAS;YAAC,kBAAkB;SAAM;IACpC;AACF;AAEO,SAAS,eAAe,WAAmB;IAChD,OAAO;QACL,IAAI;QACJ,OAAO,MAAM,IAAI,CAAC;YAAE,QAAQ;QAAY,GAAG,IAAM;IACnD;AACF;AAEO,SAAS,kBAAkB,MAAc;IAC9C,OAAO;QACL,IAAI;QACJ;QACA,OAAO;IACT;AACF;AAEO,SAAS,iBACd,UAAoB;IAAC;IAAY;IAAY;CAAW,EACxD,WAAmB,CAAC;IAEpB,MAAM,eAAe,QAAQ,GAAG,CAAC;IACjC,MAAM,OAAO,MAAM,IAAI,CAAC;QAAE,QAAQ;IAAS,GAAG,IAC5C,eAAe,QAAQ,MAAM;IAG/B,OAAO,YAAY,SAAS;QAC1B,SAAS;QACT;QACA,YAAY;QACZ,eAAe;IACjB;AACF;AAEO,SAAS,mBACd,OAAoB,MAAM,EAC1B,OAAe,EAAE,EACjB,KAAc;IAEd,OAAO,YAAY,WAAW;QAC5B;QACA;QACA,SAAS;YAAC,kBAAkB;SAAM;IACpC;AACF;AAEO,SAAS,iBAAiB,GAAW;IAC1C,MAAM,YAAY,gBAAgB;IAClC,OAAO,YAAY,SAAS;QAC1B,MAAM;QACN;QACA,OAAO;QACP,cAAc;QACd,YAAY;IACd;AACF;AAEO,SAAS,iBACd,GAAW,EACX,GAAY,EACZ,OAAgB;IAEhB,OAAO,YAAY,SAAS;QAC1B;QACA;QACA;QACA,OAAO;QACP,QAAQ;IACV;AACF;AAEO,SAAS;IACd,OAAO,YAAY,WAAW,CAAC;AACjC;AAEO,SAAS,iBAAiB,IAAY,EAAE,MAAe;IAC5D,OAAO,YAAY,SAAS;QAC1B,SAAS;YAAC,kBAAkB;SAAM;QAClC;IACF;AACF;AAEO,SAAS,eAAe,OAAe,EAAE,EAAE,OAAiB;IACjE,OAAO;QACL,IAAI;QACJ,SAAS;YAAC,kBAAkB;SAAM;QAClC;QACA,UAAU;IACZ;AACF;AAEO,SAAS,gBACd,QAAmB,QAAQ,EAC3B,QAAkB;IAAC;CAAG;IAEtB,OAAO,YAAY,QAAQ;QACzB;QACA,OAAO,MAAM,GAAG,CAAC,CAAC,OAChB,eAAe,MAAM,UAAU,aAAa,QAAQ;IAExD;AACF;AAEO,SAAS,eACd,QAAgB,mBAAmB;IAEnC,MAAM,MAAM;IACZ,OAAO;QACL,IAAI;QACJ;QACA,QAAQ;YAAC;SAAuB;QAChC,SAAS;QACT,WAAW;QACX,WAAW;QACX,UAAU;YACR,UAAU;QACZ;IACF;AACF;AAEO,SAAS,gBAAgB,GAAW;IACzC,MAAM,WAAW,IAAI,WAAW;IAEhC,IACE,SAAS,QAAQ,CAAC,kBAClB,SAAS,QAAQ,CAAC,aAClB;QACA,OAAO;IACT;IAEA,IAAI,SAAS,QAAQ,CAAC,gBAAgB;QACpC,OAAO;IACT;IAEA,IAAI,SAAS,QAAQ,CAAC,cAAc;QAClC,OAAO;IACT;IAEA,IACE,SAAS,QAAQ,CAAC,kBAClB,SAAS,QAAQ,CAAC,UAClB;QACA,OAAO;IACT;IAEA,OAAO;AACT;AAEO,SAAS,iBAAiB,GAAW;IAC1C,MAAM,WAAW;QACf;KACD;IAED,KAAK,MAAM,WAAW,SAAU;QAC9B,MAAM,QAAQ,IAAI,KAAK,CAAC;QACxB,IAAI,OAAO,CAAC,EAAE,EAAE;YACd,OAAO,KAAK,CAAC,EAAE;QACjB;IACF;IAEA,OAAO;AACT;AAEO,SAAS,iBAAiB,GAAW;IAC1C,MAAM,QAAQ,IAAI,KAAK,CAAC;IACxB,IAAI,OAAO,CAAC,EAAE,IAAI,KAAK,CAAC,EAAE,EAAE;QAC1B,OAAO;YAAE,MAAM,KAAK,CAAC,EAAE;YAAE,IAAI,KAAK,CAAC,EAAE;QAAC;IACxC;IACA,OAAO;AACT;AAEO,SAAS,iBAAiB,GAAW;IAC1C,MAAM,QAAQ,IAAI,KAAK,CAAC;IACxB,OAAO,OAAO,CAAC,EAAE,IAAI;AACvB;AAEO,SAAS,WAAgC,KAAe;IAC7D,OAAO;QACL,GAAG,KAAK;QACR,IAAI;QACJ,MAAM,KAAK,KAAK,CAAC,KAAK,SAAS,CAAC,MAAM,IAAI;QAC1C,WAAW;QACX,WAAW;IACb;AACF;AAEO,SAAS,gBACd,KAAe,EACf,IAA8B;IAE9B,OAAO;QACL,GAAG,KAAK;QACR,MAAM;YAAE,GAAG,MAAM,IAAI;YAAE,GAAG,IAAI;QAAC;QAC/B,WAAW;IACb;AACF"}},
    {"offset": {"line": 681, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 687, "column": 0}, "map": {"version":3,"sources":["file://C%3A/TextOr/src/lib/text-analysis.ts"],"sourcesContent":["import type {\n  Block,\n  TextSegment,\n  ListItem,\n  TableColumn,\n  TableRow,\n} from \"@/types\";\n\ntype ParagraphBlock = Block<\"paragraph\">;\ntype HeadingBlock = Block<\"heading\">;\ntype CodeBlock = Block<\"code\">;\ntype TableBlock = Block<\"table\">;\ntype CalloutBlock = Block<\"callout\">;\ntype EmbedBlock = Block<\"embed\">;\ntype ImageBlock = Block<\"image\">;\ntype QuoteBlock = Block<\"quote\">;\ntype ListBlock = Block<\"list\">;\n\nconst WORDS_PER_MINUTE = 200;\n\nfunction extractTextFromSegments(segments: TextSegment[]): string {\n  return segments.map((segment) => segment.text).join(\"\");\n}\n\nfunction extractTextFromListItems(items: ListItem[]): string {\n  return items\n    .map((item) => {\n      const text = extractTextFromSegments(item.content);\n      const childrenText = item.children\n        ? extractTextFromListItems(item.children)\n        : \"\";\n      return text + \" \" + childrenText;\n    })\n    .join(\" \");\n}\n\nfunction extractTextFromTable(\n  columns: TableColumn[],\n  rows: TableRow[]\n): string {\n  const headerText = columns.map((col) => col.header).join(\" \");\n  const cellsText = rows\n    .map((row) =>\n      row.cells.map((cell) => extractTextFromSegments(cell.content)).join(\" \")\n    )\n    .join(\" \");\n  return headerText + \" \" + cellsText;\n}\n\nexport function extractTextFromBlock(block: Block): string {\n  switch (block.type) {\n    case \"paragraph\": {\n      const paragraphBlock = block as ParagraphBlock;\n      return extractTextFromSegments(paragraphBlock.data.content);\n    }\n\n    case \"heading\": {\n      const headingBlock = block as HeadingBlock;\n      return extractTextFromSegments(headingBlock.data.content);\n    }\n\n    case \"quote\": {\n      const quoteBlock = block as QuoteBlock;\n      return extractTextFromSegments(quoteBlock.data.content);\n    }\n\n    case \"callout\": {\n      const calloutBlock = block as CalloutBlock;\n      const calloutTitle = calloutBlock.data.title\n        ? calloutBlock.data.title + \" \"\n        : \"\";\n      return calloutTitle + extractTextFromSegments(calloutBlock.data.content);\n    }\n\n    case \"code\": {\n      const codeBlock = block as CodeBlock;\n      return codeBlock.data.code;\n    }\n\n    case \"list\": {\n      const listBlock = block as ListBlock;\n      return extractTextFromListItems(listBlock.data.items);\n    }\n\n    case \"table\": {\n      const tableBlock = block as TableBlock;\n      return extractTextFromTable(\n        tableBlock.data.columns,\n        tableBlock.data.rows\n      );\n    }\n\n    case \"image\": {\n      const imageBlock = block as ImageBlock;\n      return imageBlock.data.caption ?? \"\";\n    }\n\n    case \"embed\": {\n      const embedBlock = block as EmbedBlock;\n      return embedBlock.data.title ?? \"\";\n    }\n\n    case \"divider\":\n      return \"\";\n\n    default:\n      return \"\";\n  }\n}\n\nexport function extractAllText(blocks: Block[]): string {\n  return blocks.map(extractTextFromBlock).join(\"\\n\\n\");\n}\n\nexport function countWords(text: string): number {\n  const trimmed = text.trim();\n  if (!trimmed) return 0;\n  return trimmed.split(/\\s+/).filter((word) => word.length > 0).length;\n}\n\nexport function countCharacters(text: string): number {\n  return text.length;\n}\n\nexport function countSentences(text: string): number {\n  const matches = text.match(/[.!?]+/g);\n  return matches ? matches.length : 0;\n}\n\nexport function countParagraphs(blocks: Block[]): number {\n  return blocks.filter((block) => {\n    if (block.type !== \"paragraph\") return false;\n    const paragraphBlock = block as ParagraphBlock;\n    return extractTextFromSegments(paragraphBlock.data.content).trim().length > 0;\n  }).length;\n}\n\nexport function calculateReadingTime(wordCount: number): number {\n  return Math.ceil(wordCount / WORDS_PER_MINUTE);\n}\n\nexport interface WritingStats {\n  wordCount: number;\n  characterCount: number;\n  sentenceCount: number;\n  paragraphCount: number;\n  readingTime: number;\n}\n\nexport function calculateWritingStats(text: string): WritingStats {\n  const wordCount = countWords(text);\n\n  return {\n    wordCount,\n    characterCount: countCharacters(text),\n    sentenceCount: countSentences(text),\n    paragraphCount: 0,\n    readingTime: calculateReadingTime(wordCount),\n  };\n}\n\nconst STOP_WORDS_EN = new Set([\n  \"the\", \"a\", \"an\", \"and\", \"or\", \"but\", \"in\", \"on\", \"at\", \"to\", \"for\", \"of\",\n  \"with\", \"by\", \"from\", \"as\", \"is\", \"was\", \"are\", \"were\", \"been\", \"be\", \"have\",\n  \"has\", \"had\", \"do\", \"does\", \"did\", \"will\", \"would\", \"could\", \"should\", \"may\",\n  \"might\", \"must\", \"shall\", \"can\", \"need\", \"it\", \"its\", \"this\", \"that\", \"these\",\n  \"those\", \"i\", \"you\", \"he\", \"she\", \"we\", \"they\", \"them\", \"him\", \"her\", \"us\",\n  \"me\", \"my\", \"your\", \"his\", \"our\", \"their\", \"what\", \"which\", \"who\", \"whom\",\n  \"when\", \"where\", \"why\", \"how\", \"all\", \"each\", \"every\", \"both\", \"few\", \"more\",\n  \"most\", \"other\", \"some\", \"such\", \"no\", \"not\", \"only\", \"same\", \"so\", \"than\",\n  \"too\", \"very\", \"just\",\n]);\n\nconst STOP_WORDS_ES = new Set([\n  \"el\", \"la\", \"los\", \"las\", \"un\", \"una\", \"unos\", \"unas\", \"y\", \"o\", \"pero\",\n  \"en\", \"de\", \"del\", \"que\", \"es\", \"son\", \"est√°\", \"est√°n\", \"para\", \"por\",\n  \"con\", \"sin\", \"sobre\", \"entre\", \"como\", \"m√°s\", \"menos\", \"muy\", \"ya\",\n  \"tambi√©n\", \"solo\", \"se\", \"le\", \"lo\", \"me\", \"te\", \"nos\",\n]);\n\nexport function calculateWordFrequency(\n  text: string,\n  _locale: string = \"en\"\n): Record<string, number> {\n  const allStopWords = new Set([...STOP_WORDS_EN, ...STOP_WORDS_ES]);\n\n  const words = text\n    .toLowerCase()\n    .replace(/[^\\p{L}\\p{N}\\s]/gu, \"\")\n    .split(/\\s+/)\n    .filter((word) => word.length > 2 && !allStopWords.has(word));\n\n  const frequencyMap: Record<string, number> = {};\n  for (const word of words) {\n    frequencyMap[word] = (frequencyMap[word] ?? 0) + 1;\n  }\n\n  return frequencyMap;\n}\n\nexport interface SentimentResult {\n  score: number;\n  label: \"positive\" | \"negative\" | \"neutral\";\n}\n\nconst POSITIVE_WORDS = new Set([\n  \"good\", \"great\", \"excellent\", \"amazing\", \"wonderful\", \"fantastic\", \"awesome\",\n  \"love\", \"happy\", \"joy\", \"beautiful\", \"brilliant\", \"perfect\", \"best\",\n  \"incredible\", \"outstanding\", \"superb\", \"magnificent\", \"delightful\", \"pleasant\",\n  \"positive\", \"success\", \"successful\", \"win\", \"winning\", \"achieve\", \"accomplished\",\n  \"bueno\", \"excelente\", \"incre√≠ble\", \"maravilloso\", \"fant√°stico\", \"amor\",\n  \"feliz\", \"alegr√≠a\", \"hermoso\", \"brillante\", \"perfecto\", \"mejor\", \"√©xito\", \"logro\",\n]);\n\nconst NEGATIVE_WORDS = new Set([\n  \"bad\", \"terrible\", \"awful\", \"horrible\", \"poor\", \"worst\", \"hate\", \"sad\",\n  \"angry\", \"ugly\", \"fail\", \"failure\", \"wrong\", \"mistake\", \"error\", \"problem\",\n  \"issue\", \"difficult\", \"hard\", \"negative\", \"disappointing\", \"frustrated\",\n  \"annoying\", \"boring\",\n  \"malo\", \"terrible\", \"horrible\", \"pobre\", \"peor\", \"odio\", \"triste\", \"enojado\",\n  \"feo\", \"fracaso\", \"error\", \"problema\", \"dif√≠cil\", \"negativo\", \"decepcionante\",\n  \"frustrante\", \"aburrido\",\n]);\n\nexport function analyzeSentiment(text: string): SentimentResult {\n  const words = text\n    .toLowerCase()\n    .replace(/[^\\p{L}\\p{N}\\s]/gu, \"\")\n    .split(/\\s+/)\n    .filter((word) => word.length > 0);\n\n  let positiveCount = 0;\n  let negativeCount = 0;\n\n  for (const word of words) {\n    if (POSITIVE_WORDS.has(word)) {\n      positiveCount++;\n    }\n    if (NEGATIVE_WORDS.has(word)) {\n      negativeCount++;\n    }\n  }\n\n  const score =\n    words.length > 0 ? (positiveCount - negativeCount) / words.length : 0;\n\n  let label: SentimentResult[\"label\"];\n  if (score > 0.05) {\n    label = \"positive\";\n  } else if (score < -0.05) {\n    label = \"negative\";\n  } else {\n    label = \"neutral\";\n  }\n\n  return { score, label };\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1060, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 1066, "column": 0}, "map": {"version":3,"sources":["file://C%3A/TextOr/src/lib/dynamic-variables.ts"],"sourcesContent":["import type { DynamicVariable, CalculatorResult } from \"@/types\";\nimport { format } from \"date-fns\";\n\nexport const DYNAMIC_VARIABLES: DynamicVariable[] = [\n  {\n    pattern: /\\{\\{date\\}\\}/g,\n    name: \"date\",\n    description: \"Current date (YYYY-MM-DD)\",\n    resolver: () => format(new Date(), \"yyyy-MM-dd\"),\n  },\n  {\n    pattern: /\\{\\{time\\}\\}/g,\n    name: \"time\",\n    description: \"Current time (HH:mm)\",\n    resolver: () => format(new Date(), \"HH:mm\"),\n  },\n  {\n    pattern: /\\{\\{datetime\\}\\}/g,\n    name: \"datetime\",\n    description: \"Current date and time\",\n    resolver: () => format(new Date(), \"yyyy-MM-dd HH:mm\"),\n  },\n  {\n    pattern: /\\{\\{year\\}\\}/g,\n    name: \"year\",\n    description: \"Current year\",\n    resolver: () => format(new Date(), \"yyyy\"),\n  },\n  {\n    pattern: /\\{\\{month\\}\\}/g,\n    name: \"month\",\n    description: \"Current month name\",\n    resolver: () => format(new Date(), \"MMMM\"),\n  },\n  {\n    pattern: /\\{\\{day\\}\\}/g,\n    name: \"day\",\n    description: \"Current day of week\",\n    resolver: () => format(new Date(), \"EEEE\"),\n  },\n  {\n    pattern: /\\{\\{timestamp\\}\\}/g,\n    name: \"timestamp\",\n    description: \"Unix timestamp\",\n    resolver: () => Date.now().toString(),\n  },\n  {\n    pattern: /\\{\\{random\\}\\}/g,\n    name: \"random\",\n    description: \"Random number (1-100)\",\n    resolver: () => Math.floor(Math.random() * 100 + 1).toString(),\n  },\n  {\n    pattern: /\\{\\{uuid\\}\\}/g,\n    name: \"uuid\",\n    description: \"Random UUID\",\n    resolver: () => crypto.randomUUID(),\n  },\n];\n\nexport function resolveDynamicVariables(text: string): string {\n  let result = text;\n\n  for (const variable of DYNAMIC_VARIABLES) {\n    result = result.replace(variable.pattern, variable.resolver());\n  }\n\n  return result;\n}\n\nexport function detectDynamicVariable(\n  text: string\n): DynamicVariable | undefined {\n  for (const variable of DYNAMIC_VARIABLES) {\n    if (text.match(variable.pattern)) {\n      return variable;\n    }\n  }\n  return undefined;\n}\n\nconst CALCULATOR_PATTERN = /^=([0-9+\\-*/().\\s]+)$/;\n\nexport function detectCalculatorExpression(text: string): string | null {\n  const match = text.match(CALCULATOR_PATTERN);\n  return match ? match[1]?.trim() ?? null : null;\n}\n\nexport function evaluateExpression(expression: string): CalculatorResult {\n  try {\n    const sanitized = expression.replace(/[^0-9+\\-*/().]/g, \"\");\n\n    if (!sanitized || sanitized !== expression.replace(/\\s/g, \"\")) {\n      return { expression, result: 0, isValid: false };\n    }\n\n    const result = Function(`\"use strict\"; return (${sanitized})`)() as number;\n\n    if (typeof result !== \"number\" || !isFinite(result)) {\n      return { expression, result: 0, isValid: false };\n    }\n\n    return {\n      expression,\n      result: Math.round(result * 1000000) / 1000000,\n      isValid: true,\n    };\n  } catch {\n    return { expression, result: 0, isValid: false };\n  }\n}\n\nexport function processInlineCalculation(text: string): string | null {\n  const expression = detectCalculatorExpression(text);\n  if (!expression) return null;\n\n  const result = evaluateExpression(expression);\n  if (!result.isValid) return null;\n\n  return result.result.toString();\n}\n\nexport interface ProcessedText {\n  text: string;\n  hasVariables: boolean;\n  hasCalculation: boolean;\n  calculationResult?: number;\n}\n\nexport function processText(text: string): ProcessedText {\n  let processedText = text;\n  let hasVariables = false;\n  let hasCalculation = false;\n  let calculationResult: number | undefined;\n\n  for (const variable of DYNAMIC_VARIABLES) {\n    if (variable.pattern.test(processedText)) {\n      hasVariables = true;\n      processedText = processedText.replace(variable.pattern, variable.resolver());\n    }\n    variable.pattern.lastIndex = 0;\n  }\n\n  const expression = detectCalculatorExpression(processedText);\n  if (expression) {\n    const result = evaluateExpression(expression);\n    if (result.isValid) {\n      hasCalculation = true;\n      calculationResult = result.result;\n    }\n  }\n\n  return {\n    text: processedText,\n    hasVariables,\n    hasCalculation,\n    calculationResult,\n  };\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1221, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 1227, "column": 0}, "map": {"version":3,"sources":["file://C%3A/TextOr/src/lib/export.ts"],"sourcesContent":["import type {\n  Block,\n  TextSegment,\n  TableColumn,\n  TableRow,\n  ListItem,\n} from \"@/types\";\n\ntype ParagraphBlock = Block<\"paragraph\">;\ntype HeadingBlock = Block<\"heading\">;\ntype CodeBlock = Block<\"code\">;\ntype TableBlock = Block<\"table\">;\ntype CalloutBlock = Block<\"callout\">;\ntype EmbedBlock = Block<\"embed\">;\ntype ImageBlock = Block<\"image\">;\ntype QuoteBlock = Block<\"quote\">;\ntype ListBlock = Block<\"list\">;\n\nfunction getTextFromSegments(segments: TextSegment[]): string {\n  return segments.map((s) => s.text).join(\"\");\n}\n\nfunction applyStyles(\n  text: string,\n  format?: { bold?: boolean; italic?: boolean; strikethrough?: boolean }\n): string {\n  let result = text;\n  if (format?.bold) result = `**${result}**`;\n  if (format?.italic) result = `*${result}*`;\n  if (format?.strikethrough) result = `~~${result}~~`;\n  return result;\n}\n\nfunction getCalloutIcon(type: string): string {\n  switch (type) {\n    case \"info\":\n      return \"‚ÑπÔ∏è\";\n    case \"warning\":\n      return \"‚ö†Ô∏è\";\n    case \"tip\":\n      return \"üí°\";\n    case \"danger\":\n      return \"üö®\";\n    default:\n      return \"üìù\";\n  }\n}\n\nfunction getListPrefix(style: string, index: number, checked?: boolean): string {\n  switch (style) {\n    case \"bullet\":\n      return \"- \";\n    case \"numbered\":\n      return `${index + 1}. `;\n    case \"checkbox\":\n      return checked ? \"- [x] \" : \"- [ ] \";\n    default:\n      return \"- \";\n  }\n}\n\nfunction escapeHtml(text: string): string {\n  return text\n    .replace(/&/g, \"&amp;\")\n    .replace(/</g, \"&lt;\")\n    .replace(/>/g, \"&gt;\")\n    .replace(/\"/g, \"&quot;\")\n    .replace(/'/g, \"&#039;\");\n}\n\nfunction spanToHTML(span: TextSegment): string {\n  let result = escapeHtml(span.text);\n  if (span.format?.bold) result = `<strong>${result}</strong>`;\n  if (span.format?.italic) result = `<em>${result}</em>`;\n  if (span.format?.underline) result = `<u>${result}</u>`;\n  if (span.format?.strikethrough) result = `<s>${result}</s>`;\n  if (span.format?.link) result = `<a href=\"${escapeHtml(span.format.link)}\">${result}</a>`;\n  return result;\n}\n\nfunction paragraphToMarkdown(block: ParagraphBlock): string {\n  return block.data.content.map((s) => applyStyles(s.text, s.format)).join(\"\");\n}\n\nfunction headingToMarkdown(block: HeadingBlock): string {\n  const text = getTextFromSegments(block.data.content);\n  const hashes = \"#\".repeat(block.data.level);\n  return `${hashes} ${text}`;\n}\n\nfunction codeToMarkdown(block: CodeBlock): string {\n  return `\\`\\`\\`${block.data.language}\\n${block.data.code}\\n\\`\\`\\``;\n}\n\nfunction tableToMarkdown(block: TableBlock): string {\n  const { columns, rows } = block.data;\n  const headerRow = `| ${columns.map((c: TableColumn) => c.header).join(\" | \")} |`;\n  const separator = `| ${columns.map(() => \"---\").join(\" | \")} |`;\n  const dataRows = rows.map(\n    (row: TableRow) =>\n      `| ${row.cells.map((cell) => getTextFromSegments(cell.content)).join(\" | \")} |`\n  );\n  return [headerRow, separator, ...dataRows].join(\"\\n\");\n}\n\nfunction calloutToMarkdown(block: CalloutBlock): string {\n  const icon = getCalloutIcon(block.data.type);\n  const title = block.data.title ? `**${block.data.title}**\\n` : \"\";\n  const text = getTextFromSegments(block.data.content);\n  return `> ${icon} ${title}${text}`;\n}\n\nfunction embedToMarkdown(block: EmbedBlock): string {\n  return `[${block.data.url}](${block.data.url})`;\n}\n\nfunction imageToMarkdown(block: ImageBlock): string {\n  return `![${block.data.alt ?? \"Image\"}](${block.data.url})`;\n}\n\nfunction quoteToMarkdown(block: QuoteBlock): string {\n  const text = getTextFromSegments(block.data.content);\n  const author = block.data.author ? `\\n> ‚Äî *${block.data.author}*` : \"\";\n  return `> ${text}${author}`;\n}\n\nfunction listToMarkdown(block: ListBlock): string {\n  return block.data.items\n    .map((item: ListItem, index: number) => {\n      const prefix = getListPrefix(block.data.style, index, item.checked);\n      const text = getTextFromSegments(item.content);\n      return `${prefix}${text}`;\n    })\n    .join(\"\\n\");\n}\n\nfunction blockToMarkdown(block: Block): string {\n  switch (block.type) {\n    case \"paragraph\":\n      return paragraphToMarkdown(block as ParagraphBlock);\n    case \"heading\":\n      return headingToMarkdown(block as HeadingBlock);\n    case \"code\":\n      return codeToMarkdown(block as CodeBlock);\n    case \"table\":\n      return tableToMarkdown(block as TableBlock);\n    case \"callout\":\n      return calloutToMarkdown(block as CalloutBlock);\n    case \"embed\":\n      return embedToMarkdown(block as EmbedBlock);\n    case \"image\":\n      return imageToMarkdown(block as ImageBlock);\n    case \"divider\":\n      return \"---\";\n    case \"quote\":\n      return quoteToMarkdown(block as QuoteBlock);\n    case \"list\":\n      return listToMarkdown(block as ListBlock);\n    default:\n      return \"\";\n  }\n}\n\nexport function exportToMarkdown(blocks: Block[]): string {\n  return blocks.map(blockToMarkdown).join(\"\\n\\n\");\n}\n\nexport function exportToJSON(blocks: Block[], title: string): string {\n  const document = {\n    title,\n    version: \"1.0\",\n    createdAt: new Date().toISOString(),\n    blocks,\n  };\n  return JSON.stringify(document, null, 2);\n}\n\nfunction paragraphToHTML(block: ParagraphBlock): string {\n  const text = block.data.content.map((s) => spanToHTML(s)).join(\"\");\n  return `<p>${text}</p>`;\n}\n\nfunction headingToHTML(block: HeadingBlock): string {\n  const text = getTextFromSegments(block.data.content);\n  return `<h${block.data.level}>${escapeHtml(text)}</h${block.data.level}>`;\n}\n\nfunction codeToHTML(block: CodeBlock): string {\n  return `<pre><code class=\"language-${block.data.language}\">${escapeHtml(block.data.code)}</code></pre>`;\n}\n\nfunction tableToHTML(block: TableBlock): string {\n  const headerCells = block.data.columns\n    .map((c: TableColumn) => `<th>${escapeHtml(c.header)}</th>`)\n    .join(\"\");\n  const rows = block.data.rows\n    .map(\n      (row: TableRow) =>\n        `<tr>${row.cells.map((cell) => `<td>${escapeHtml(getTextFromSegments(cell.content))}</td>`).join(\"\")}</tr>`\n    )\n    .join(\"\\n\");\n  return `<table><thead><tr>${headerCells}</tr></thead><tbody>${rows}</tbody></table>`;\n}\n\nfunction calloutToHTML(block: CalloutBlock): string {\n  const title = block.data.title\n    ? `<strong>${escapeHtml(block.data.title)}</strong><br>`\n    : \"\";\n  const text = getTextFromSegments(block.data.content);\n  return `<div class=\"callout callout-${block.data.type}\">${title}${escapeHtml(text)}</div>`;\n}\n\nfunction embedToHTML(block: EmbedBlock): string {\n  return `<a href=\"${escapeHtml(block.data.url)}\" target=\"_blank\" rel=\"noopener\">${escapeHtml(block.data.url)}</a>`;\n}\n\nfunction imageToHTML(block: ImageBlock): string {\n  return `<img src=\"${escapeHtml(block.data.url)}\" alt=\"${escapeHtml(block.data.alt ?? \"\")}\" style=\"max-width: 100%;\">`;\n}\n\nfunction quoteToHTML(block: QuoteBlock): string {\n  const text = getTextFromSegments(block.data.content);\n  const author = block.data.author\n    ? `<footer>‚Äî ${escapeHtml(block.data.author)}</footer>`\n    : \"\";\n  return `<blockquote>${escapeHtml(text)}${author}</blockquote>`;\n}\n\nfunction listToHTML(block: ListBlock): string {\n  const tag = block.data.style === \"numbered\" ? \"ol\" : \"ul\";\n  const className = block.data.style === \"checkbox\" ? ' class=\"checkbox\"' : \"\";\n  const items = block.data.items\n    .map((item: ListItem) => {\n      const checkedClass = item.checked ? ' class=\"checked\"' : \"\";\n      const text = getTextFromSegments(item.content);\n      return `<li${checkedClass}>${escapeHtml(text)}</li>`;\n    })\n    .join(\"\\n\");\n  return `<${tag}${className}>${items}</${tag}>`;\n}\n\nfunction blockToHTML(block: Block): string {\n  switch (block.type) {\n    case \"paragraph\":\n      return paragraphToHTML(block as ParagraphBlock);\n    case \"heading\":\n      return headingToHTML(block as HeadingBlock);\n    case \"code\":\n      return codeToHTML(block as CodeBlock);\n    case \"table\":\n      return tableToHTML(block as TableBlock);\n    case \"callout\":\n      return calloutToHTML(block as CalloutBlock);\n    case \"embed\":\n      return embedToHTML(block as EmbedBlock);\n    case \"image\":\n      return imageToHTML(block as ImageBlock);\n    case \"divider\":\n      return \"<hr>\";\n    case \"quote\":\n      return quoteToHTML(block as QuoteBlock);\n    case \"list\":\n      return listToHTML(block as ListBlock);\n    default:\n      return \"\";\n  }\n}\n\nexport function exportToHTML(blocks: Block[], title: string): string {\n  const content = blocks.map(blockToHTML).join(\"\\n\");\n\n  return `<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n  <meta charset=\"UTF-8\">\n  <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n  <title>${escapeHtml(title)}</title>\n  <style>\n    body {\n      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, sans-serif;\n      max-width: 800px;\n      margin: 0 auto;\n      padding: 2rem;\n      line-height: 1.6;\n      color: #1a1a1a;\n    }\n    h1, h2, h3, h4, h5, h6 { margin-top: 1.5em; margin-bottom: 0.5em; }\n    pre { background: #f4f4f4; padding: 1rem; border-radius: 8px; overflow-x: auto; }\n    code { font-family: 'Fira Code', Consolas, monospace; }\n    blockquote { border-left: 4px solid #6366f1; padding-left: 1rem; margin: 1rem 0; font-style: italic; }\n    table { border-collapse: collapse; width: 100%; margin: 1rem 0; }\n    th, td { border: 1px solid #ddd; padding: 0.5rem 1rem; text-align: left; }\n    th { background: #f4f4f4; }\n    .callout { padding: 1rem; border-radius: 8px; margin: 1rem 0; }\n    .callout-info { background: #dbeafe; border-left: 4px solid #3b82f6; }\n    .callout-warning { background: #fef3c7; border-left: 4px solid #f59e0b; }\n    .callout-tip { background: #d1fae5; border-left: 4px solid #10b981; }\n    .callout-danger { background: #fee2e2; border-left: 4px solid #ef4444; }\n    hr { border: none; border-top: 1px solid #ddd; margin: 2rem 0; }\n    ul, ol { padding-left: 1.5rem; }\n    .checkbox { list-style: none; padding-left: 0; }\n    .checkbox li::before { content: '‚òê '; }\n    .checkbox li.checked::before { content: '‚òë '; }\n  </style>\n</head>\n<body>\n  <h1>${escapeHtml(title)}</h1>\n  ${content}\n</body>\n</html>`;\n}\n\nexport async function exportToPDF(blocks: Block[], title: string): Promise<void> {\n  const { jsPDF } = await import(\"jspdf\");\n\n  const doc = new jsPDF({\n    orientation: \"portrait\",\n    unit: \"mm\",\n    format: \"a4\",\n  });\n\n  const pageWidth = doc.internal.pageSize.getWidth();\n  const margin = 20;\n  const maxWidth = pageWidth - margin * 2;\n  let y = margin;\n  const lineHeight = 7;\n\n  doc.setFont(\"helvetica\", \"bold\");\n  doc.setFontSize(24);\n  doc.text(title, margin, y);\n  y += 15;\n\n  doc.setFont(\"helvetica\", \"normal\");\n  doc.setFontSize(12);\n\n  for (const block of blocks) {\n    if (y > doc.internal.pageSize.getHeight() - margin) {\n      doc.addPage();\n      y = margin;\n    }\n\n    switch (block.type) {\n      case \"paragraph\": {\n        const paragraphBlock = block as ParagraphBlock;\n        const text = getTextFromSegments(paragraphBlock.data.content);\n        const lines = doc.splitTextToSize(text, maxWidth);\n        doc.text(lines as string[], margin, y);\n        y += (lines as string[]).length * lineHeight + 5;\n        break;\n      }\n\n      case \"heading\": {\n        const headingBlock = block as HeadingBlock;\n        const text = getTextFromSegments(headingBlock.data.content);\n        const fontSize = 24 - (headingBlock.data.level - 1) * 2;\n        doc.setFont(\"helvetica\", \"bold\");\n        doc.setFontSize(fontSize);\n        const lines = doc.splitTextToSize(text, maxWidth);\n        doc.text(lines as string[], margin, y);\n        y += (lines as string[]).length * (lineHeight + 2) + 5;\n        doc.setFont(\"helvetica\", \"normal\");\n        doc.setFontSize(12);\n        break;\n      }\n\n      case \"code\": {\n        const codeBlock = block as CodeBlock;\n        doc.setFont(\"courier\", \"normal\");\n        doc.setFontSize(10);\n        const lines = codeBlock.data.code.split(\"\\n\");\n        for (const line of lines) {\n          if (y > doc.internal.pageSize.getHeight() - margin) {\n            doc.addPage();\n            y = margin;\n          }\n          doc.text(line, margin, y);\n          y += lineHeight;\n        }\n        y += 5;\n        doc.setFont(\"helvetica\", \"normal\");\n        doc.setFontSize(12);\n        break;\n      }\n\n      case \"quote\": {\n        const quoteBlock = block as QuoteBlock;\n        doc.setFont(\"helvetica\", \"italic\");\n        const text = getTextFromSegments(quoteBlock.data.content);\n        const lines = doc.splitTextToSize(`\"${text}\"`, maxWidth - 10);\n        doc.text(lines as string[], margin + 10, y);\n        y += (lines as string[]).length * lineHeight;\n        if (quoteBlock.data.author) {\n          doc.text(`‚Äî ${quoteBlock.data.author}`, margin + 10, y);\n          y += lineHeight;\n        }\n        y += 5;\n        doc.setFont(\"helvetica\", \"normal\");\n        break;\n      }\n\n      case \"divider\": {\n        doc.setDrawColor(200);\n        doc.line(margin, y, pageWidth - margin, y);\n        y += 10;\n        break;\n      }\n\n      case \"list\": {\n        const listBlock = block as ListBlock;\n        for (let i = 0; i < listBlock.data.items.length; i++) {\n          if (y > doc.internal.pageSize.getHeight() - margin) {\n            doc.addPage();\n            y = margin;\n          }\n          const item = listBlock.data.items[i];\n          if (!item) continue;\n          const text = getTextFromSegments(item.content);\n          let prefix = \"‚Ä¢ \";\n          if (listBlock.data.style === \"numbered\") prefix = `${i + 1}. `;\n          if (listBlock.data.style === \"checkbox\")\n            prefix = item.checked ? \"‚òë \" : \"‚òê \";\n          doc.text(`${prefix}${text}`, margin, y);\n          y += lineHeight;\n        }\n        y += 5;\n        break;\n      }\n\n      default:\n        break;\n    }\n  }\n\n  doc.save(\n    `${title.replace(/[^a-z0-9]/gi, \"_\").toLowerCase() || \"document\"}.pdf`\n  );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1593, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 1599, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":""}},
    {"offset": {"line": 1608, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 1627, "column": 0}, "map": {"version":3,"sources":["file://C%3A/TextOr/src/stores/editorStore.ts"],"sourcesContent":["import { create } from \"zustand\";\nimport { immer } from \"zustand/middleware/immer\";\nimport { persist } from \"zustand/middleware\";\nimport type {\n  Document,\n  Block,\n  BlockType,\n  BlockDataMap,\n  EditorState,\n  SlashMenuState,\n  EmojiPickerState,\n  FloatingToolbarState,\n  FocusModeState,\n  SaveState,\n  HistoryEntry,\n  UndoRedoState,\n} from \"@/types\";\nimport {\n  createDocument,\n  createParagraphBlock,\n  createHeadingBlock,\n  createCodeBlock,\n  createTableBlock,\n  createCalloutBlock,\n  createDividerBlock,\n  createQuoteBlock,\n  createListBlock,\n  createTimestamp,\n} from \"@/lib\";\n\ninterface EditorStore {\n  document: Document;\n  editor: EditorState;\n  slashMenu: SlashMenuState;\n  emojiPicker: EmojiPickerState;\n  floatingToolbar: FloatingToolbarState;\n  focusMode: FocusModeState;\n  saveState: SaveState;\n  history: UndoRedoState;\n  wordDensityPanelOpen: boolean;\n\n  initializeDocument: (doc?: Document) => void;\n  updateDocumentTitle: (title: string) => void;\n\n  addBlock: (blockType: BlockType, afterBlockId?: string) => string;\n  updateBlock: <T extends BlockType>(\n    blockId: string,\n    data: Partial<BlockDataMap[T]>\n  ) => void;\n  deleteBlock: (blockId: string) => void;\n  moveBlock: (blockId: string, targetIndex: number) => void;\n  duplicateBlock: (blockId: string) => void;\n\n  setFocusedBlock: (blockId: string | null) => void;\n  setSelection: (selection: EditorState[\"selection\"]) => void;\n  setCursor: (cursor: EditorState[\"cursor\"]) => void;\n\n  openSlashMenu: (\n    position: { x: number; y: number },\n    blockId: string\n  ) => void;\n  closeSlashMenu: () => void;\n  updateSlashMenuQuery: (query: string) => void;\n  setSlashMenuSelectedIndex: (index: number) => void;\n\n  openEmojiPicker: (\n    position: { x: number; y: number },\n    blockId: string\n  ) => void;\n  closeEmojiPicker: () => void;\n  updateEmojiPickerQuery: (query: string) => void;\n\n  showFloatingToolbar: (position: { x: number; y: number }) => void;\n  hideFloatingToolbar: () => void;\n\n  toggleFocusMode: () => void;\n  setFocusModeBlock: (blockId: string | null) => void;\n\n  toggleWordDensityPanel: () => void;\n\n  setSaveState: (state: SaveState[\"status\"]) => void;\n\n  pushToHistory: (description: string) => void;\n  undo: () => void;\n  redo: () => void;\n  canUndo: () => boolean;\n  canRedo: () => boolean;\n\n  getBlockById: (blockId: string) => Block | undefined;\n  getBlockIndex: (blockId: string) => number;\n}\n\nconst MAX_HISTORY_SIZE = 50;\n\nconst createDefaultDocument = (): Document => createDocument(\"Untitled Document\");\n\nconst createDefaultEditorState = (): EditorState => ({\n  focusedBlockId: null,\n  selection: null,\n  cursor: null,\n  isComposing: false,\n  isDragging: false,\n});\n\nconst createDefaultSlashMenuState = (): SlashMenuState => ({\n  isOpen: false,\n  position: { x: 0, y: 0 },\n  query: \"\",\n  selectedIndex: 0,\n  triggerBlockId: null,\n});\n\nconst createDefaultEmojiPickerState = (): EmojiPickerState => ({\n  isOpen: false,\n  position: { x: 0, y: 0 },\n  query: \"\",\n  triggerBlockId: null,\n});\n\nconst createDefaultFloatingToolbarState = (): FloatingToolbarState => ({\n  isVisible: false,\n  position: { x: 0, y: 0 },\n});\n\nconst createDefaultFocusModeState = (): FocusModeState => ({\n  isActive: false,\n  focusedBlockId: null,\n});\n\nconst createDefaultSaveState = (): SaveState => ({\n  status: \"idle\",\n  lastSavedAt: null,\n});\n\nconst createDefaultHistoryState = (): UndoRedoState => ({\n  past: [],\n  future: [],\n  maxHistorySize: MAX_HISTORY_SIZE,\n});\n\nexport const useEditorStore = create<EditorStore>()(\n  persist(\n    immer((set, get) => ({\n      document: createDefaultDocument(),\n      editor: createDefaultEditorState(),\n      slashMenu: createDefaultSlashMenuState(),\n      emojiPicker: createDefaultEmojiPickerState(),\n      floatingToolbar: createDefaultFloatingToolbarState(),\n      focusMode: createDefaultFocusModeState(),\n      saveState: createDefaultSaveState(),\n      history: createDefaultHistoryState(),\n      wordDensityPanelOpen: false,\n\n      initializeDocument: (doc) => {\n        set((state) => {\n          state.document = doc ?? createDefaultDocument();\n          state.history = createDefaultHistoryState();\n        });\n      },\n\n      updateDocumentTitle: (title) => {\n        set((state) => {\n          state.document.title = title;\n          state.document.updatedAt = createTimestamp();\n        });\n      },\n\n      addBlock: (blockType, afterBlockId) => {\n        let newBlock: Block;\n\n        switch (blockType) {\n          case \"paragraph\":\n            newBlock = createParagraphBlock();\n            break;\n          case \"heading\":\n            newBlock = createHeadingBlock(\"\", 2);\n            break;\n          case \"code\":\n            newBlock = createCodeBlock();\n            break;\n          case \"table\":\n            newBlock = createTableBlock();\n            break;\n          case \"callout\":\n            newBlock = createCalloutBlock(\"info\");\n            break;\n          case \"divider\":\n            newBlock = createDividerBlock();\n            break;\n          case \"quote\":\n            newBlock = createQuoteBlock(\"\");\n            break;\n          case \"list\":\n            newBlock = createListBlock(\"bullet\");\n            break;\n          default:\n            newBlock = createParagraphBlock();\n        }\n\n        set((state) => {\n          const index = afterBlockId\n            ? state.document.blocks.findIndex((b) => b.id === afterBlockId) + 1\n            : state.document.blocks.length;\n\n          state.document.blocks.splice(index, 0, newBlock);\n          state.document.updatedAt = createTimestamp();\n          state.document.version += 1;\n          state.editor.focusedBlockId = newBlock.id;\n        });\n\n        return newBlock.id;\n      },\n\n      updateBlock: (blockId, data) => {\n        set((state) => {\n          const block = state.document.blocks.find((b) => b.id === blockId);\n          if (block) {\n            Object.assign(block.data, data);\n            block.updatedAt = createTimestamp();\n            state.document.updatedAt = createTimestamp();\n          }\n        });\n      },\n\n      deleteBlock: (blockId) => {\n        set((state) => {\n          const index = state.document.blocks.findIndex(\n            (b) => b.id === blockId\n          );\n          if (index !== -1 && state.document.blocks.length > 1) {\n            state.document.blocks.splice(index, 1);\n            state.document.updatedAt = createTimestamp();\n            state.document.version += 1;\n\n            if (state.editor.focusedBlockId === blockId) {\n              const newFocusIndex = Math.max(0, index - 1);\n              state.editor.focusedBlockId =\n                state.document.blocks[newFocusIndex]?.id ?? null;\n            }\n          }\n        });\n      },\n\n      moveBlock: (blockId, targetIndex) => {\n        set((state) => {\n          const currentIndex = state.document.blocks.findIndex(\n            (b) => b.id === blockId\n          );\n          if (currentIndex !== -1 && currentIndex !== targetIndex) {\n            const [block] = state.document.blocks.splice(currentIndex, 1);\n            if (block) {\n              state.document.blocks.splice(targetIndex, 0, block);\n              state.document.updatedAt = createTimestamp();\n            }\n          }\n        });\n      },\n\n      duplicateBlock: (blockId) => {\n        set((state) => {\n          const index = state.document.blocks.findIndex(\n            (b) => b.id === blockId\n          );\n          const block = state.document.blocks[index];\n          if (block) {\n            const clonedBlock: Block = {\n              ...JSON.parse(JSON.stringify(block)),\n              id: crypto.randomUUID(),\n              createdAt: createTimestamp(),\n              updatedAt: createTimestamp(),\n            };\n            state.document.blocks.splice(index + 1, 0, clonedBlock);\n            state.document.updatedAt = createTimestamp();\n            state.document.version += 1;\n          }\n        });\n      },\n\n      setFocusedBlock: (blockId) => {\n        set((state) => {\n          state.editor.focusedBlockId = blockId;\n          if (state.focusMode.isActive) {\n            state.focusMode.focusedBlockId = blockId;\n          }\n        });\n      },\n\n      setSelection: (selection) => {\n        set((state) => {\n          state.editor.selection = selection;\n        });\n      },\n\n      setCursor: (cursor) => {\n        set((state) => {\n          state.editor.cursor = cursor;\n        });\n      },\n\n      openSlashMenu: (position, blockId) => {\n        set((state) => {\n          state.slashMenu.isOpen = true;\n          state.slashMenu.position = position;\n          state.slashMenu.triggerBlockId = blockId;\n          state.slashMenu.query = \"\";\n          state.slashMenu.selectedIndex = 0;\n        });\n      },\n\n      closeSlashMenu: () => {\n        set((state) => {\n          state.slashMenu.isOpen = false;\n          state.slashMenu.query = \"\";\n          state.slashMenu.selectedIndex = 0;\n          state.slashMenu.triggerBlockId = null;\n        });\n      },\n\n      updateSlashMenuQuery: (query) => {\n        set((state) => {\n          state.slashMenu.query = query;\n          state.slashMenu.selectedIndex = 0;\n        });\n      },\n\n      setSlashMenuSelectedIndex: (index) => {\n        set((state) => {\n          state.slashMenu.selectedIndex = index;\n        });\n      },\n\n      openEmojiPicker: (position, blockId) => {\n        set((state) => {\n          state.emojiPicker.isOpen = true;\n          state.emojiPicker.position = position;\n          state.emojiPicker.triggerBlockId = blockId;\n          state.emojiPicker.query = \"\";\n        });\n      },\n\n      closeEmojiPicker: () => {\n        set((state) => {\n          state.emojiPicker.isOpen = false;\n          state.emojiPicker.query = \"\";\n          state.emojiPicker.triggerBlockId = null;\n        });\n      },\n\n      updateEmojiPickerQuery: (query) => {\n        set((state) => {\n          state.emojiPicker.query = query;\n        });\n      },\n\n      showFloatingToolbar: (position) => {\n        set((state) => {\n          state.floatingToolbar.isVisible = true;\n          state.floatingToolbar.position = position;\n        });\n      },\n\n      hideFloatingToolbar: () => {\n        set((state) => {\n          state.floatingToolbar.isVisible = false;\n        });\n      },\n\n      toggleFocusMode: () => {\n        set((state) => {\n          state.focusMode.isActive = !state.focusMode.isActive;\n          if (state.focusMode.isActive) {\n            state.focusMode.focusedBlockId = state.editor.focusedBlockId;\n          } else {\n            state.focusMode.focusedBlockId = null;\n          }\n        });\n      },\n\n      setFocusModeBlock: (blockId) => {\n        set((state) => {\n          state.focusMode.focusedBlockId = blockId;\n        });\n      },\n\n      toggleWordDensityPanel: () => {\n        set((state) => {\n          state.wordDensityPanelOpen = !state.wordDensityPanelOpen;\n        });\n      },\n\n      setSaveState: (status) => {\n        set((state) => {\n          state.saveState.status = status;\n          if (status === \"saved\") {\n            state.saveState.lastSavedAt = createTimestamp();\n          }\n        });\n      },\n\n      pushToHistory: (description) => {\n        const { document } = get();\n        const snapshot: HistoryEntry = {\n          documentSnapshot: JSON.stringify(document),\n          timestamp: createTimestamp(),\n          description,\n        };\n\n        set((state) => {\n          state.history.past.push(snapshot);\n          if (state.history.past.length > MAX_HISTORY_SIZE) {\n            state.history.past.shift();\n          }\n          state.history.future = [];\n        });\n      },\n\n      undo: () => {\n        const { history, document } = get();\n        if (history.past.length === 0) return;\n\n        const previousState = history.past[history.past.length - 1];\n        if (!previousState) return;\n\n        set((state) => {\n          const currentSnapshot: HistoryEntry = {\n            documentSnapshot: JSON.stringify(document),\n            timestamp: createTimestamp(),\n            description: \"Current state\",\n          };\n\n          state.history.future.unshift(currentSnapshot);\n          state.history.past.pop();\n          state.document = JSON.parse(previousState.documentSnapshot);\n        });\n      },\n\n      redo: () => {\n        const { history, document } = get();\n        if (history.future.length === 0) return;\n\n        const nextState = history.future[0];\n        if (!nextState) return;\n\n        set((state) => {\n          const currentSnapshot: HistoryEntry = {\n            documentSnapshot: JSON.stringify(document),\n            timestamp: createTimestamp(),\n            description: \"Current state\",\n          };\n\n          state.history.past.push(currentSnapshot);\n          state.history.future.shift();\n          state.document = JSON.parse(nextState.documentSnapshot);\n        });\n      },\n\n      canUndo: () => get().history.past.length > 0,\n      canRedo: () => get().history.future.length > 0,\n\n      getBlockById: (blockId) =>\n        get().document.blocks.find((b) => b.id === blockId),\n\n      getBlockIndex: (blockId) =>\n        get().document.blocks.findIndex((b) => b.id === blockId),\n    })),\n    {\n      name: \"textor-document\",\n      partialize: (state) => ({\n        document: state.document,\n      }),\n    }\n  )\n);\n"],"names":[],"mappings":";;;AAiBA;AAAA;AAjBA;AAEA;AADA;;;;;AA2FA,MAAM,mBAAmB;AAEzB,MAAM,wBAAwB,IAAgB,CAAA,GAAA,uHAAA,CAAA,iBAAc,AAAD,EAAE;AAE7D,MAAM,2BAA2B,IAAmB,CAAC;QACnD,gBAAgB;QAChB,WAAW;QACX,QAAQ;QACR,aAAa;QACb,YAAY;IACd,CAAC;AAED,MAAM,8BAA8B,IAAsB,CAAC;QACzD,QAAQ;QACR,UAAU;YAAE,GAAG;YAAG,GAAG;QAAE;QACvB,OAAO;QACP,eAAe;QACf,gBAAgB;IAClB,CAAC;AAED,MAAM,gCAAgC,IAAwB,CAAC;QAC7D,QAAQ;QACR,UAAU;YAAE,GAAG;YAAG,GAAG;QAAE;QACvB,OAAO;QACP,gBAAgB;IAClB,CAAC;AAED,MAAM,oCAAoC,IAA4B,CAAC;QACrE,WAAW;QACX,UAAU;YAAE,GAAG;YAAG,GAAG;QAAE;IACzB,CAAC;AAED,MAAM,8BAA8B,IAAsB,CAAC;QACzD,UAAU;QACV,gBAAgB;IAClB,CAAC;AAED,MAAM,yBAAyB,IAAiB,CAAC;QAC/C,QAAQ;QACR,aAAa;IACf,CAAC;AAED,MAAM,4BAA4B,IAAqB,CAAC;QACtD,MAAM,EAAE;QACR,QAAQ,EAAE;QACV,gBAAgB;IAClB,CAAC;AAEM,MAAM,iBAAiB,CAAA,GAAA,2IAAA,CAAA,SAAM,AAAD,IACjC,CAAA,GAAA,gJAAA,CAAA,UAAO,AAAD,EACJ,CAAA,GAAA,yJAAA,CAAA,QAAK,AAAD,EAAE,CAAC,KAAK,MAAQ,CAAC;QACnB,UAAU;QACV,QAAQ;QACR,WAAW;QACX,aAAa;QACb,iBAAiB;QACjB,WAAW;QACX,WAAW;QACX,SAAS;QACT,sBAAsB;QAEtB,oBAAoB,CAAC;YACnB,IAAI,CAAC;gBACH,MAAM,QAAQ,GAAG,OAAO;gBACxB,MAAM,OAAO,GAAG;YAClB;QACF;QAEA,qBAAqB,CAAC;YACpB,IAAI,CAAC;gBACH,MAAM,QAAQ,CAAC,KAAK,GAAG;gBACvB,MAAM,QAAQ,CAAC,SAAS,GAAG,CAAA,GAAA,uHAAA,CAAA,kBAAe,AAAD;YAC3C;QACF;QAEA,UAAU,CAAC,WAAW;YACpB,IAAI;YAEJ,OAAQ;gBACN,KAAK;oBACH,WAAW,CAAA,GAAA,uHAAA,CAAA,uBAAoB,AAAD;oBAC9B;gBACF,KAAK;oBACH,WAAW,CAAA,GAAA,uHAAA,CAAA,qBAAkB,AAAD,EAAE,IAAI;oBAClC;gBACF,KAAK;oBACH,WAAW,CAAA,GAAA,uHAAA,CAAA,kBAAe,AAAD;oBACzB;gBACF,KAAK;oBACH,WAAW,CAAA,GAAA,uHAAA,CAAA,mBAAgB,AAAD;oBAC1B;gBACF,KAAK;oBACH,WAAW,CAAA,GAAA,uHAAA,CAAA,qBAAkB,AAAD,EAAE;oBAC9B;gBACF,KAAK;oBACH,WAAW,CAAA,GAAA,uHAAA,CAAA,qBAAkB,AAAD;oBAC5B;gBACF,KAAK;oBACH,WAAW,CAAA,GAAA,uHAAA,CAAA,mBAAgB,AAAD,EAAE;oBAC5B;gBACF,KAAK;oBACH,WAAW,CAAA,GAAA,uHAAA,CAAA,kBAAe,AAAD,EAAE;oBAC3B;gBACF;oBACE,WAAW,CAAA,GAAA,uHAAA,CAAA,uBAAoB,AAAD;YAClC;YAEA,IAAI,CAAC;gBACH,MAAM,QAAQ,eACV,MAAM,QAAQ,CAAC,MAAM,CAAC,SAAS,CAAC,CAAC,IAAM,EAAE,EAAE,KAAK,gBAAgB,IAChE,MAAM,QAAQ,CAAC,MAAM,CAAC,MAAM;gBAEhC,MAAM,QAAQ,CAAC,MAAM,CAAC,MAAM,CAAC,OAAO,GAAG;gBACvC,MAAM,QAAQ,CAAC,SAAS,GAAG,CAAA,GAAA,uHAAA,CAAA,kBAAe,AAAD;gBACzC,MAAM,QAAQ,CAAC,OAAO,IAAI;gBAC1B,MAAM,MAAM,CAAC,cAAc,GAAG,SAAS,EAAE;YAC3C;YAEA,OAAO,SAAS,EAAE;QACpB;QAEA,aAAa,CAAC,SAAS;YACrB,IAAI,CAAC;gBACH,MAAM,QAAQ,MAAM,QAAQ,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC,IAAM,EAAE,EAAE,KAAK;gBACzD,IAAI,OAAO;oBACT,OAAO,MAAM,CAAC,MAAM,IAAI,EAAE;oBAC1B,MAAM,SAAS,GAAG,CAAA,GAAA,uHAAA,CAAA,kBAAe,AAAD;oBAChC,MAAM,QAAQ,CAAC,SAAS,GAAG,CAAA,GAAA,uHAAA,CAAA,kBAAe,AAAD;gBAC3C;YACF;QACF;QAEA,aAAa,CAAC;YACZ,IAAI,CAAC;gBACH,MAAM,QAAQ,MAAM,QAAQ,CAAC,MAAM,CAAC,SAAS,CAC3C,CAAC,IAAM,EAAE,EAAE,KAAK;gBAElB,IAAI,UAAU,CAAC,KAAK,MAAM,QAAQ,CAAC,MAAM,CAAC,MAAM,GAAG,GAAG;oBACpD,MAAM,QAAQ,CAAC,MAAM,CAAC,MAAM,CAAC,OAAO;oBACpC,MAAM,QAAQ,CAAC,SAAS,GAAG,CAAA,GAAA,uHAAA,CAAA,kBAAe,AAAD;oBACzC,MAAM,QAAQ,CAAC,OAAO,IAAI;oBAE1B,IAAI,MAAM,MAAM,CAAC,cAAc,KAAK,SAAS;wBAC3C,MAAM,gBAAgB,KAAK,GAAG,CAAC,GAAG,QAAQ;wBAC1C,MAAM,MAAM,CAAC,cAAc,GACzB,MAAM,QAAQ,CAAC,MAAM,CAAC,cAAc,EAAE,MAAM;oBAChD;gBACF;YACF;QACF;QAEA,WAAW,CAAC,SAAS;YACnB,IAAI,CAAC;gBACH,MAAM,eAAe,MAAM,QAAQ,CAAC,MAAM,CAAC,SAAS,CAClD,CAAC,IAAM,EAAE,EAAE,KAAK;gBAElB,IAAI,iBAAiB,CAAC,KAAK,iBAAiB,aAAa;oBACvD,MAAM,CAAC,MAAM,GAAG,MAAM,QAAQ,CAAC,MAAM,CAAC,MAAM,CAAC,cAAc;oBAC3D,IAAI,OAAO;wBACT,MAAM,QAAQ,CAAC,MAAM,CAAC,MAAM,CAAC,aAAa,GAAG;wBAC7C,MAAM,QAAQ,CAAC,SAAS,GAAG,CAAA,GAAA,uHAAA,CAAA,kBAAe,AAAD;oBAC3C;gBACF;YACF;QACF;QAEA,gBAAgB,CAAC;YACf,IAAI,CAAC;gBACH,MAAM,QAAQ,MAAM,QAAQ,CAAC,MAAM,CAAC,SAAS,CAC3C,CAAC,IAAM,EAAE,EAAE,KAAK;gBAElB,MAAM,QAAQ,MAAM,QAAQ,CAAC,MAAM,CAAC,MAAM;gBAC1C,IAAI,OAAO;oBACT,MAAM,cAAqB;wBACzB,GAAG,KAAK,KAAK,CAAC,KAAK,SAAS,CAAC,OAAO;wBACpC,IAAI,OAAO,UAAU;wBACrB,WAAW,CAAA,GAAA,uHAAA,CAAA,kBAAe,AAAD;wBACzB,WAAW,CAAA,GAAA,uHAAA,CAAA,kBAAe,AAAD;oBAC3B;oBACA,MAAM,QAAQ,CAAC,MAAM,CAAC,MAAM,CAAC,QAAQ,GAAG,GAAG;oBAC3C,MAAM,QAAQ,CAAC,SAAS,GAAG,CAAA,GAAA,uHAAA,CAAA,kBAAe,AAAD;oBACzC,MAAM,QAAQ,CAAC,OAAO,IAAI;gBAC5B;YACF;QACF;QAEA,iBAAiB,CAAC;YAChB,IAAI,CAAC;gBACH,MAAM,MAAM,CAAC,cAAc,GAAG;gBAC9B,IAAI,MAAM,SAAS,CAAC,QAAQ,EAAE;oBAC5B,MAAM,SAAS,CAAC,cAAc,GAAG;gBACnC;YACF;QACF;QAEA,cAAc,CAAC;YACb,IAAI,CAAC;gBACH,MAAM,MAAM,CAAC,SAAS,GAAG;YAC3B;QACF;QAEA,WAAW,CAAC;YACV,IAAI,CAAC;gBACH,MAAM,MAAM,CAAC,MAAM,GAAG;YACxB;QACF;QAEA,eAAe,CAAC,UAAU;YACxB,IAAI,CAAC;gBACH,MAAM,SAAS,CAAC,MAAM,GAAG;gBACzB,MAAM,SAAS,CAAC,QAAQ,GAAG;gBAC3B,MAAM,SAAS,CAAC,cAAc,GAAG;gBACjC,MAAM,SAAS,CAAC,KAAK,GAAG;gBACxB,MAAM,SAAS,CAAC,aAAa,GAAG;YAClC;QACF;QAEA,gBAAgB;YACd,IAAI,CAAC;gBACH,MAAM,SAAS,CAAC,MAAM,GAAG;gBACzB,MAAM,SAAS,CAAC,KAAK,GAAG;gBACxB,MAAM,SAAS,CAAC,aAAa,GAAG;gBAChC,MAAM,SAAS,CAAC,cAAc,GAAG;YACnC;QACF;QAEA,sBAAsB,CAAC;YACrB,IAAI,CAAC;gBACH,MAAM,SAAS,CAAC,KAAK,GAAG;gBACxB,MAAM,SAAS,CAAC,aAAa,GAAG;YAClC;QACF;QAEA,2BAA2B,CAAC;YAC1B,IAAI,CAAC;gBACH,MAAM,SAAS,CAAC,aAAa,GAAG;YAClC;QACF;QAEA,iBAAiB,CAAC,UAAU;YAC1B,IAAI,CAAC;gBACH,MAAM,WAAW,CAAC,MAAM,GAAG;gBAC3B,MAAM,WAAW,CAAC,QAAQ,GAAG;gBAC7B,MAAM,WAAW,CAAC,cAAc,GAAG;gBACnC,MAAM,WAAW,CAAC,KAAK,GAAG;YAC5B;QACF;QAEA,kBAAkB;YAChB,IAAI,CAAC;gBACH,MAAM,WAAW,CAAC,MAAM,GAAG;gBAC3B,MAAM,WAAW,CAAC,KAAK,GAAG;gBAC1B,MAAM,WAAW,CAAC,cAAc,GAAG;YACrC;QACF;QAEA,wBAAwB,CAAC;YACvB,IAAI,CAAC;gBACH,MAAM,WAAW,CAAC,KAAK,GAAG;YAC5B;QACF;QAEA,qBAAqB,CAAC;YACpB,IAAI,CAAC;gBACH,MAAM,eAAe,CAAC,SAAS,GAAG;gBAClC,MAAM,eAAe,CAAC,QAAQ,GAAG;YACnC;QACF;QAEA,qBAAqB;YACnB,IAAI,CAAC;gBACH,MAAM,eAAe,CAAC,SAAS,GAAG;YACpC;QACF;QAEA,iBAAiB;YACf,IAAI,CAAC;gBACH,MAAM,SAAS,CAAC,QAAQ,GAAG,CAAC,MAAM,SAAS,CAAC,QAAQ;gBACpD,IAAI,MAAM,SAAS,CAAC,QAAQ,EAAE;oBAC5B,MAAM,SAAS,CAAC,cAAc,GAAG,MAAM,MAAM,CAAC,cAAc;gBAC9D,OAAO;oBACL,MAAM,SAAS,CAAC,cAAc,GAAG;gBACnC;YACF;QACF;QAEA,mBAAmB,CAAC;YAClB,IAAI,CAAC;gBACH,MAAM,SAAS,CAAC,cAAc,GAAG;YACnC;QACF;QAEA,wBAAwB;YACtB,IAAI,CAAC;gBACH,MAAM,oBAAoB,GAAG,CAAC,MAAM,oBAAoB;YAC1D;QACF;QAEA,cAAc,CAAC;YACb,IAAI,CAAC;gBACH,MAAM,SAAS,CAAC,MAAM,GAAG;gBACzB,IAAI,WAAW,SAAS;oBACtB,MAAM,SAAS,CAAC,WAAW,GAAG,CAAA,GAAA,uHAAA,CAAA,kBAAe,AAAD;gBAC9C;YACF;QACF;QAEA,eAAe,CAAC;YACd,MAAM,EAAE,QAAQ,EAAE,GAAG;YACrB,MAAM,WAAyB;gBAC7B,kBAAkB,KAAK,SAAS,CAAC;gBACjC,WAAW,CAAA,GAAA,uHAAA,CAAA,kBAAe,AAAD;gBACzB;YACF;YAEA,IAAI,CAAC;gBACH,MAAM,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC;gBACxB,IAAI,MAAM,OAAO,CAAC,IAAI,CAAC,MAAM,GAAG,kBAAkB;oBAChD,MAAM,OAAO,CAAC,IAAI,CAAC,KAAK;gBAC1B;gBACA,MAAM,OAAO,CAAC,MAAM,GAAG,EAAE;YAC3B;QACF;QAEA,MAAM;YACJ,MAAM,EAAE,OAAO,EAAE,QAAQ,EAAE,GAAG;YAC9B,IAAI,QAAQ,IAAI,CAAC,MAAM,KAAK,GAAG;YAE/B,MAAM,gBAAgB,QAAQ,IAAI,CAAC,QAAQ,IAAI,CAAC,MAAM,GAAG,EAAE;YAC3D,IAAI,CAAC,eAAe;YAEpB,IAAI,CAAC;gBACH,MAAM,kBAAgC;oBACpC,kBAAkB,KAAK,SAAS,CAAC;oBACjC,WAAW,CAAA,GAAA,uHAAA,CAAA,kBAAe,AAAD;oBACzB,aAAa;gBACf;gBAEA,MAAM,OAAO,CAAC,MAAM,CAAC,OAAO,CAAC;gBAC7B,MAAM,OAAO,CAAC,IAAI,CAAC,GAAG;gBACtB,MAAM,QAAQ,GAAG,KAAK,KAAK,CAAC,cAAc,gBAAgB;YAC5D;QACF;QAEA,MAAM;YACJ,MAAM,EAAE,OAAO,EAAE,QAAQ,EAAE,GAAG;YAC9B,IAAI,QAAQ,MAAM,CAAC,MAAM,KAAK,GAAG;YAEjC,MAAM,YAAY,QAAQ,MAAM,CAAC,EAAE;YACnC,IAAI,CAAC,WAAW;YAEhB,IAAI,CAAC;gBACH,MAAM,kBAAgC;oBACpC,kBAAkB,KAAK,SAAS,CAAC;oBACjC,WAAW,CAAA,GAAA,uHAAA,CAAA,kBAAe,AAAD;oBACzB,aAAa;gBACf;gBAEA,MAAM,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC;gBACxB,MAAM,OAAO,CAAC,MAAM,CAAC,KAAK;gBAC1B,MAAM,QAAQ,GAAG,KAAK,KAAK,CAAC,UAAU,gBAAgB;YACxD;QACF;QAEA,SAAS,IAAM,MAAM,OAAO,CAAC,IAAI,CAAC,MAAM,GAAG;QAC3C,SAAS,IAAM,MAAM,OAAO,CAAC,MAAM,CAAC,MAAM,GAAG;QAE7C,cAAc,CAAC,UACb,MAAM,QAAQ,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC,IAAM,EAAE,EAAE,KAAK;QAE7C,eAAe,CAAC,UACd,MAAM,QAAQ,CAAC,MAAM,CAAC,SAAS,CAAC,CAAC,IAAM,EAAE,EAAE,KAAK;IACpD,CAAC,IACD;IACE,MAAM;IACN,YAAY,CAAC,QAAU,CAAC;YACtB,UAAU,MAAM,QAAQ;QAC1B,CAAC;AACH"}},
    {"offset": {"line": 1966, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 1972, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":""}},
    {"offset": {"line": 1977, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 1992, "column": 0}, "map": {"version":3,"sources":["file://C%3A/TextOr/src/hooks/useAutoSave.ts"],"sourcesContent":["import { useEffect, useRef, useCallback } from \"react\";\nimport { useEditorStore } from \"@/stores\";\n\nconst AUTO_SAVE_DELAY = 5000;\n\nexport function useAutoSave() {\n  const document = useEditorStore((state) => state.document);\n  const setSaveState = useEditorStore((state) => state.setSaveState);\n  const timeoutRef = useRef<NodeJS.Timeout | null>(null);\n  const lastSavedRef = useRef<string>(\"\");\n\n  const saveDocument = useCallback(async () => {\n    const currentState = JSON.stringify(document);\n\n    if (currentState === lastSavedRef.current) {\n      return;\n    }\n\n    setSaveState(\"saving\");\n\n    try {\n      localStorage.setItem(\"textor-document-backup\", currentState);\n\n      await new Promise((resolve) => setTimeout(resolve, 500));\n\n      lastSavedRef.current = currentState;\n      setSaveState(\"saved\");\n    } catch (error) {\n      console.error(\"Failed to save document:\", error);\n      setSaveState(\"error\");\n    }\n  }, [document, setSaveState]);\n\n  useEffect(() => {\n    if (timeoutRef.current) {\n      clearTimeout(timeoutRef.current);\n    }\n\n    timeoutRef.current = setTimeout(saveDocument, AUTO_SAVE_DELAY);\n\n    return () => {\n      if (timeoutRef.current) {\n        clearTimeout(timeoutRef.current);\n      }\n    };\n  }, [document, saveDocument]);\n\n  return { saveDocument };\n}\n"],"names":[],"mappings":";;;AAAA;AACA;AAAA;;;;AAEA,MAAM,kBAAkB;AAEjB,SAAS;;IACd,MAAM,WAAW,CAAA,GAAA,+HAAA,CAAA,iBAAc,AAAD;gDAAE,CAAC,QAAU,MAAM,QAAQ;;IACzD,MAAM,eAAe,CAAA,GAAA,+HAAA,CAAA,iBAAc,AAAD;oDAAE,CAAC,QAAU,MAAM,YAAY;;IACjE,MAAM,aAAa,CAAA,GAAA,6JAAA,CAAA,SAAM,AAAD,EAAyB;IACjD,MAAM,eAAe,CAAA,GAAA,6JAAA,CAAA,SAAM,AAAD,EAAU;IAEpC,MAAM,eAAe,CAAA,GAAA,6JAAA,CAAA,cAAW,AAAD;iDAAE;YAC/B,MAAM,eAAe,KAAK,SAAS,CAAC;YAEpC,IAAI,iBAAiB,aAAa,OAAO,EAAE;gBACzC;YACF;YAEA,aAAa;YAEb,IAAI;gBACF,aAAa,OAAO,CAAC,0BAA0B;gBAE/C,MAAM,IAAI;6DAAQ,CAAC,UAAY,WAAW,SAAS;;gBAEnD,aAAa,OAAO,GAAG;gBACvB,aAAa;YACf,EAAE,OAAO,OAAO;gBACd,QAAQ,KAAK,CAAC,4BAA4B;gBAC1C,aAAa;YACf;QACF;gDAAG;QAAC;QAAU;KAAa;IAE3B,CAAA,GAAA,6JAAA,CAAA,YAAS,AAAD;iCAAE;YACR,IAAI,WAAW,OAAO,EAAE;gBACtB,aAAa,WAAW,OAAO;YACjC;YAEA,WAAW,OAAO,GAAG,WAAW,cAAc;YAE9C;yCAAO;oBACL,IAAI,WAAW,OAAO,EAAE;wBACtB,aAAa,WAAW,OAAO;oBACjC;gBACF;;QACF;gCAAG;QAAC;QAAU;KAAa;IAE3B,OAAO;QAAE;IAAa;AACxB;GA3CgB;;QACG,+HAAA,CAAA,iBAAc;QACV,+HAAA,CAAA,iBAAc"}},
    {"offset": {"line": 2066, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 2072, "column": 0}, "map": {"version":3,"sources":["file://C%3A/TextOr/src/hooks/useKeyboardShortcuts.ts"],"sourcesContent":["import { useEffect, useCallback } from \"react\";\nimport { useEditorStore } from \"@/stores\";\n\ninterface KeyboardShortcutConfig {\n  key: string;\n  ctrl?: boolean;\n  shift?: boolean;\n  alt?: boolean;\n  meta?: boolean;\n  action: () => void;\n  preventDefault?: boolean;\n}\n\nexport function useKeyboardShortcuts() {\n  const undo = useEditorStore((state) => state.undo);\n  const redo = useEditorStore((state) => state.redo);\n  const toggleFocusMode = useEditorStore((state) => state.toggleFocusMode);\n  const canUndo = useEditorStore((state) => state.canUndo);\n  const canRedo = useEditorStore((state) => state.canRedo);\n\n  const shortcuts: KeyboardShortcutConfig[] = [\n    {\n      key: \"z\",\n      ctrl: true,\n      shift: false,\n      action: () => {\n        if (canUndo()) undo();\n      },\n      preventDefault: true,\n    },\n    {\n      key: \"z\",\n      ctrl: true,\n      shift: true,\n      action: () => {\n        if (canRedo()) redo();\n      },\n      preventDefault: true,\n    },\n    {\n      key: \"y\",\n      ctrl: true,\n      action: () => {\n        if (canRedo()) redo();\n      },\n      preventDefault: true,\n    },\n    {\n      key: \"\\\\\",\n      ctrl: true,\n      action: toggleFocusMode,\n      preventDefault: true,\n    },\n  ];\n\n  const handleKeyDown = useCallback(\n    (event: KeyboardEvent) => {\n      for (const shortcut of shortcuts) {\n        const ctrlMatch = shortcut.ctrl\n          ? event.ctrlKey || event.metaKey\n          : !event.ctrlKey && !event.metaKey;\n        const shiftMatch = shortcut.shift ? event.shiftKey : !event.shiftKey;\n        const altMatch = shortcut.alt ? event.altKey : !event.altKey;\n        const keyMatch = event.key.toLowerCase() === shortcut.key.toLowerCase();\n\n        if (ctrlMatch && shiftMatch && altMatch && keyMatch) {\n          if (shortcut.preventDefault) {\n            event.preventDefault();\n          }\n          shortcut.action();\n          return;\n        }\n      }\n    },\n    [shortcuts]\n  );\n\n  useEffect(() => {\n    window.addEventListener(\"keydown\", handleKeyDown);\n    return () => window.removeEventListener(\"keydown\", handleKeyDown);\n  }, [handleKeyDown]);\n}\n"],"names":[],"mappings":";;;AAAA;AACA;AAAA;;;;AAYO,SAAS;;IACd,MAAM,OAAO,CAAA,GAAA,+HAAA,CAAA,iBAAc,AAAD;qDAAE,CAAC,QAAU,MAAM,IAAI;;IACjD,MAAM,OAAO,CAAA,GAAA,+HAAA,CAAA,iBAAc,AAAD;qDAAE,CAAC,QAAU,MAAM,IAAI;;IACjD,MAAM,kBAAkB,CAAA,GAAA,+HAAA,CAAA,iBAAc,AAAD;gEAAE,CAAC,QAAU,MAAM,eAAe;;IACvE,MAAM,UAAU,CAAA,GAAA,+HAAA,CAAA,iBAAc,AAAD;wDAAE,CAAC,QAAU,MAAM,OAAO;;IACvD,MAAM,UAAU,CAAA,GAAA,+HAAA,CAAA,iBAAc,AAAD;wDAAE,CAAC,QAAU,MAAM,OAAO;;IAEvD,MAAM,YAAsC;QAC1C;YACE,KAAK;YACL,MAAM;YACN,OAAO;YACP,QAAQ;gBACN,IAAI,WAAW;YACjB;YACA,gBAAgB;QAClB;QACA;YACE,KAAK;YACL,MAAM;YACN,OAAO;YACP,QAAQ;gBACN,IAAI,WAAW;YACjB;YACA,gBAAgB;QAClB;QACA;YACE,KAAK;YACL,MAAM;YACN,QAAQ;gBACN,IAAI,WAAW;YACjB;YACA,gBAAgB;QAClB;QACA;YACE,KAAK;YACL,MAAM;YACN,QAAQ;YACR,gBAAgB;QAClB;KACD;IAED,MAAM,gBAAgB,CAAA,GAAA,6JAAA,CAAA,cAAW,AAAD;2DAC9B,CAAC;YACC,KAAK,MAAM,YAAY,UAAW;gBAChC,MAAM,YAAY,SAAS,IAAI,GAC3B,MAAM,OAAO,IAAI,MAAM,OAAO,GAC9B,CAAC,MAAM,OAAO,IAAI,CAAC,MAAM,OAAO;gBACpC,MAAM,aAAa,SAAS,KAAK,GAAG,MAAM,QAAQ,GAAG,CAAC,MAAM,QAAQ;gBACpE,MAAM,WAAW,SAAS,GAAG,GAAG,MAAM,MAAM,GAAG,CAAC,MAAM,MAAM;gBAC5D,MAAM,WAAW,MAAM,GAAG,CAAC,WAAW,OAAO,SAAS,GAAG,CAAC,WAAW;gBAErE,IAAI,aAAa,cAAc,YAAY,UAAU;oBACnD,IAAI,SAAS,cAAc,EAAE;wBAC3B,MAAM,cAAc;oBACtB;oBACA,SAAS,MAAM;oBACf;gBACF;YACF;QACF;0DACA;QAAC;KAAU;IAGb,CAAA,GAAA,6JAAA,CAAA,YAAS,AAAD;0CAAE;YACR,OAAO,gBAAgB,CAAC,WAAW;YACnC;kDAAO,IAAM,OAAO,mBAAmB,CAAC,WAAW;;QACrD;yCAAG;QAAC;KAAc;AACpB;GApEgB;;QACD,+HAAA,CAAA,iBAAc;QACd,+HAAA,CAAA,iBAAc;QACH,+HAAA,CAAA,iBAAc;QACtB,+HAAA,CAAA,iBAAc;QACd,+HAAA,CAAA,iBAAc"}},
    {"offset": {"line": 2174, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 2180, "column": 0}, "map": {"version":3,"sources":["file://C%3A/TextOr/src/hooks/useTextAnalysis.ts"],"sourcesContent":["import { useMemo } from \"react\";\nimport { useEditorStore } from \"@/stores\";\nimport {\n  calculateWritingStats,\n  calculateWordFrequency,\n  analyzeSentiment,\n  extractAllText,\n} from \"@/lib\";\nimport type { WritingStats, SentimentResult } from \"@/lib/text-analysis\";\n\ninterface WordFrequencyItem {\n  word: string;\n  count: number;\n}\n\ninterface TextAnalysisResult {\n  stats: WritingStats;\n  wordFrequency: WordFrequencyItem[];\n  sentiment: SentimentResult;\n}\n\nexport function useTextAnalysis(): TextAnalysisResult {\n  const document = useEditorStore((state) => state.document);\n\n  const analysis = useMemo(() => {\n    const fullText = extractAllText(document.blocks);\n    const stats = calculateWritingStats(fullText);\n    const wordFrequencyMap = calculateWordFrequency(fullText, \"en\");\n    const sentiment = analyzeSentiment(fullText);\n\n    const wordFrequency: WordFrequencyItem[] = Object.entries(wordFrequencyMap)\n      .map(([word, count]) => ({ word, count }))\n      .sort((a, b) => b.count - a.count)\n      .slice(0, 15);\n\n    return {\n      stats,\n      wordFrequency,\n      sentiment,\n    };\n  }, [document]);\n\n  return analysis;\n}\n"],"names":[],"mappings":";;;AAAA;AACA;AACA;AADA;AACA;;;;;AAmBO,SAAS;;IACd,MAAM,WAAW,CAAA,GAAA,+HAAA,CAAA,iBAAc,AAAD;oDAAE,CAAC,QAAU,MAAM,QAAQ;;IAEzD,MAAM,WAAW,CAAA,GAAA,6JAAA,CAAA,UAAO,AAAD;6CAAE;YACvB,MAAM,WAAW,CAAA,GAAA,iIAAA,CAAA,iBAAc,AAAD,EAAE,SAAS,MAAM;YAC/C,MAAM,QAAQ,CAAA,GAAA,iIAAA,CAAA,wBAAqB,AAAD,EAAE;YACpC,MAAM,mBAAmB,CAAA,GAAA,iIAAA,CAAA,yBAAsB,AAAD,EAAE,UAAU;YAC1D,MAAM,YAAY,CAAA,GAAA,iIAAA,CAAA,mBAAgB,AAAD,EAAE;YAEnC,MAAM,gBAAqC,OAAO,OAAO,CAAC,kBACvD,GAAG;mEAAC,CAAC,CAAC,MAAM,MAAM,GAAK,CAAC;wBAAE;wBAAM;oBAAM,CAAC;kEACvC,IAAI;mEAAC,CAAC,GAAG,IAAM,EAAE,KAAK,GAAG,EAAE,KAAK;kEAChC,KAAK,CAAC,GAAG;YAEZ,OAAO;gBACL;gBACA;gBACA;YACF;QACF;4CAAG;QAAC;KAAS;IAEb,OAAO;AACT;GAtBgB;;QACG,+HAAA,CAAA,iBAAc"}},
    {"offset": {"line": 2230, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 2236, "column": 0}, "map": {"version":3,"sources":["file://C%3A/TextOr/src/hooks/useCalculator.ts"],"sourcesContent":["import { useState, useCallback } from \"react\";\nimport { evaluateExpression } from \"@/lib\";\n\ninterface CalculatorState {\n  expression: string;\n  result: number | null;\n  isValid: boolean;\n}\n\nexport function useCalculator() {\n  const [state, setState] = useState<CalculatorState>({\n    expression: \"\",\n    result: null,\n    isValid: false,\n  });\n\n  const calculate = useCallback((expression: string) => {\n    const cleanExpression = expression.replace(/^=/, \"\").trim();\n\n    if (!cleanExpression) {\n      setState({ expression: \"\", result: null, isValid: false });\n      return null;\n    }\n\n    const result = evaluateExpression(cleanExpression);\n\n    setState({\n      expression: cleanExpression,\n      result: result.isValid ? result.result : null,\n      isValid: result.isValid,\n    });\n\n    return result.isValid ? result.result : null;\n  }, []);\n\n  const reset = useCallback(() => {\n    setState({ expression: \"\", result: null, isValid: false });\n  }, []);\n\n  return {\n    ...state,\n    calculate,\n    reset,\n  };\n}\n"],"names":[],"mappings":";;;AAAA;AACA;AAAA;;;;AAQO,SAAS;;IACd,MAAM,CAAC,OAAO,SAAS,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAmB;QAClD,YAAY;QACZ,QAAQ;QACR,SAAS;IACX;IAEA,MAAM,YAAY,CAAA,GAAA,6JAAA,CAAA,cAAW,AAAD;gDAAE,CAAC;YAC7B,MAAM,kBAAkB,WAAW,OAAO,CAAC,MAAM,IAAI,IAAI;YAEzD,IAAI,CAAC,iBAAiB;gBACpB,SAAS;oBAAE,YAAY;oBAAI,QAAQ;oBAAM,SAAS;gBAAM;gBACxD,OAAO;YACT;YAEA,MAAM,SAAS,CAAA,GAAA,qIAAA,CAAA,qBAAkB,AAAD,EAAE;YAElC,SAAS;gBACP,YAAY;gBACZ,QAAQ,OAAO,OAAO,GAAG,OAAO,MAAM,GAAG;gBACzC,SAAS,OAAO,OAAO;YACzB;YAEA,OAAO,OAAO,OAAO,GAAG,OAAO,MAAM,GAAG;QAC1C;+CAAG,EAAE;IAEL,MAAM,QAAQ,CAAA,GAAA,6JAAA,CAAA,cAAW,AAAD;4CAAE;YACxB,SAAS;gBAAE,YAAY;gBAAI,QAAQ;gBAAM,SAAS;YAAM;QAC1D;2CAAG,EAAE;IAEL,OAAO;QACL,GAAG,KAAK;QACR;QACA;IACF;AACF;GAnCgB"}},
    {"offset": {"line": 2291, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 2297, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":""}},
    {"offset": {"line": 2306, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 2325, "column": 0}, "map": {"version":3,"sources":["file://C%3A/TextOr/src/components/editor/EditorProvider.tsx"],"sourcesContent":["\"use client\";\n\nimport { useEffect } from \"react\";\nimport { useAutoSave, useKeyboardShortcuts } from \"@/hooks\";\n\ninterface EditorProviderProps {\n  children: React.ReactNode;\n}\n\nexport function EditorProvider({ children }: EditorProviderProps) {\n  useAutoSave();\n  useKeyboardShortcuts();\n\n  useEffect(() => {\n    document.documentElement.classList.add(\"dark\");\n  }, []);\n\n  return <>{children}</>;\n}\n"],"names":[],"mappings":";;;;AAEA;AACA;AAAA;AAAA;;;AAHA;;;AASO,SAAS,eAAe,EAAE,QAAQ,EAAuB;;IAC9D,CAAA,GAAA,8HAAA,CAAA,cAAW,AAAD;IACV,CAAA,GAAA,uIAAA,CAAA,uBAAoB,AAAD;IAEnB,CAAA,GAAA,6JAAA,CAAA,YAAS,AAAD;oCAAE;YACR,SAAS,eAAe,CAAC,SAAS,CAAC,GAAG,CAAC;QACzC;mCAAG,EAAE;IAEL,qBAAO;kBAAG;;AACZ;GATgB;;QACd,8HAAA,CAAA,cAAW;QACX,uIAAA,CAAA,uBAAoB;;;KAFN"}},
    {"offset": {"line": 2363, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 2369, "column": 0}, "map": {"version":3,"sources":["file://C%3A/TextOr/src/components/editor/blocks/ParagraphBlock.tsx"],"sourcesContent":["\"use client\";\n\nimport { useRef, useEffect, useCallback } from \"react\";\nimport { useEditorStore } from \"@/stores\";\nimport { useI18n } from \"@/hooks\";\nimport type { Block } from \"@/types\";\nimport { resolveDynamicVariables, processInlineCalculation } from \"@/lib\";\n\ninterface ParagraphBlockProps {\n  block: Block<\"paragraph\">;\n}\n\nexport function ParagraphBlock({ block }: ParagraphBlockProps) {\n  const { t } = useI18n();\n  const ref = useRef<HTMLDivElement>(null);\n  const updateBlock = useEditorStore((state) => state.updateBlock);\n  const openSlashMenu = useEditorStore((state) => state.openSlashMenu);\n  const openEmojiPicker = useEditorStore((state) => state.openEmojiPicker);\n  const addBlock = useEditorStore((state) => state.addBlock);\n  const pushToHistory = useEditorStore((state) => state.pushToHistory);\n  const focusedBlockId = useEditorStore((state) => state.editor.focusedBlockId);\n\n  const currentText = block.data.content.map((s) => s.text).join(\"\");\n\n  useEffect(() => {\n    if (focusedBlockId === block.id && ref.current && !ref.current.textContent) {\n      ref.current.focus();\n    }\n  }, [focusedBlockId, block.id]);\n\n  const handleInput = useCallback(\n    (e: React.FormEvent<HTMLDivElement>) => {\n      const text = e.currentTarget.textContent ?? \"\";\n\n      const processedText = resolveDynamicVariables(text);\n\n      if (processedText !== text && ref.current) {\n        ref.current.textContent = processedText;\n        const range = document.createRange();\n        const sel = window.getSelection();\n        range.selectNodeContents(ref.current);\n        range.collapse(false);\n        sel?.removeAllRanges();\n        sel?.addRange(range);\n      }\n\n      updateBlock<\"paragraph\">(block.id, {\n        content: [{ text: processedText }],\n      });\n    },\n    [block.id, updateBlock]\n  );\n\n  const handleKeyDown = useCallback(\n    (e: React.KeyboardEvent<HTMLDivElement>) => {\n      const text = ref.current?.textContent ?? \"\";\n\n      if (e.key === \"/\") {\n        if (text === \"\" || text.endsWith(\" \")) {\n          const rect = ref.current?.getBoundingClientRect();\n          if (rect) {\n            openSlashMenu({ x: rect.left, y: rect.bottom + 4 }, block.id);\n          }\n        }\n      }\n\n      if (e.key === \":\") {\n        setTimeout(() => {\n          const currentText = ref.current?.textContent ?? \"\";\n          if (currentText.match(/:[\\w]{2,}$/)) {\n            const rect = ref.current?.getBoundingClientRect();\n            if (rect) {\n              openEmojiPicker({ x: rect.left, y: rect.bottom + 4 }, block.id);\n            }\n          }\n        }, 50);\n      }\n\n      if (e.key === \" \") {\n        if (text.startsWith(\"=\")) {\n          const result = processInlineCalculation(text);\n          if (result !== null) {\n            e.preventDefault();\n            const newText = `${text} = ${result}`;\n            if (ref.current) {\n              ref.current.textContent = newText;\n            }\n            updateBlock<\"paragraph\">(block.id, {\n              content: [{ text: newText }],\n            });\n          }\n        }\n      }\n\n      if (e.key === \"Enter\" && !e.shiftKey) {\n        e.preventDefault();\n        pushToHistory(\"Add paragraph\");\n        addBlock(\"paragraph\", block.id);\n      }\n    },\n    [block.id, openSlashMenu, openEmojiPicker, updateBlock, addBlock, pushToHistory]\n  );\n\n  return (\n    <div\n      ref={ref}\n      contentEditable\n      suppressContentEditableWarning\n      onInput={handleInput}\n      onKeyDown={handleKeyDown}\n      className=\"min-h-[1.5em] outline-none\"\n      data-placeholder={t.editor.placeholder}\n      role=\"textbox\"\n      aria-multiline=\"false\"\n      style={{\n        position: \"relative\",\n      }}\n    >\n      {currentText || (\n        <span className=\"pointer-events-none absolute text-editor-muted\">\n          {t.editor.placeholder}\n        </span>\n      )}\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2552, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 2558, "column": 0}, "map": {"version":3,"sources":["file://C%3A/TextOr/src/components/editor/blocks/HeadingBlock.tsx"],"sourcesContent":["\"use client\";\n\nimport { useRef, useCallback, createElement } from \"react\";\nimport { useEditorStore } from \"@/stores\";\nimport type { Block, HeadingLevel } from \"@/types\";\nimport { cn } from \"@/lib\";\n\ninterface HeadingBlockProps {\n  block: Block<\"heading\">;\n}\n\nexport function HeadingBlock({ block }: HeadingBlockProps) {\n  const ref = useRef<HTMLDivElement>(null);\n  const updateBlock = useEditorStore((state) => state.updateBlock);\n  const addBlock = useEditorStore((state) => state.addBlock);\n  const pushToHistory = useEditorStore((state) => state.pushToHistory);\n\n  const currentText = block.data.content.map((s) => s.text).join(\"\");\n\n  const handleInput = useCallback(\n    (e: React.FormEvent<HTMLDivElement>) => {\n      const text = e.currentTarget.textContent ?? \"\";\n      updateBlock<\"heading\">(block.id, {\n        content: [{ text }],\n      });\n    },\n    [block.id, updateBlock]\n  );\n\n  const handleKeyDown = useCallback(\n    (e: React.KeyboardEvent<HTMLDivElement>) => {\n      if (e.key === \"Enter\" && !e.shiftKey) {\n        e.preventDefault();\n        pushToHistory(\"Add paragraph after heading\");\n        addBlock(\"paragraph\", block.id);\n      }\n    },\n    [block.id, addBlock, pushToHistory]\n  );\n\n  const headingClasses: Record<HeadingLevel, string> = {\n    1: \"text-4xl font-bold\",\n    2: \"text-3xl font-bold\",\n    3: \"text-2xl font-semibold\",\n    4: \"text-xl font-semibold\",\n    5: \"text-lg font-medium\",\n    6: \"text-base font-medium\",\n  };\n\n  const headingTag = `h${block.data.level}` as \"h1\" | \"h2\" | \"h3\" | \"h4\" | \"h5\" | \"h6\";\n\n  return createElement(\n    headingTag,\n    {\n      className: cn(headingClasses[block.data.level], \"outline-none\"),\n    },\n    <div\n      ref={ref}\n      contentEditable\n      suppressContentEditableWarning\n      onInput={handleInput}\n      onKeyDown={handleKeyDown}\n      className=\"min-h-[1em]\"\n      data-placeholder={`Heading ${block.data.level}`}\n      role=\"textbox\"\n      aria-label={`Heading level ${block.data.level}`}\n    >\n      {currentText || (\n        <span className=\"pointer-events-none text-editor-muted\">\n          Heading {block.data.level}\n        </span>\n      )}\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;AAEA;AACA;AAEA;AAFA;AAEA;;;AALA;;;;AAWO,SAAS,aAAa,EAAE,KAAK,EAAqB;;IACvD,MAAM,MAAM,CAAA,GAAA,6JAAA,CAAA,SAAM,AAAD,EAAkB;IACnC,MAAM,cAAc,CAAA,GAAA,+HAAA,CAAA,iBAAc,AAAD;oDAAE,CAAC,QAAU,MAAM,WAAW;;IAC/D,MAAM,WAAW,CAAA,GAAA,+HAAA,CAAA,iBAAc,AAAD;iDAAE,CAAC,QAAU,MAAM,QAAQ;;IACzD,MAAM,gBAAgB,CAAA,GAAA,+HAAA,CAAA,iBAAc,AAAD;sDAAE,CAAC,QAAU,MAAM,aAAa;;IAEnE,MAAM,cAAc,MAAM,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC,IAAM,EAAE,IAAI,EAAE,IAAI,CAAC;IAE/D,MAAM,cAAc,CAAA,GAAA,6JAAA,CAAA,cAAW,AAAD;iDAC5B,CAAC;YACC,MAAM,OAAO,EAAE,aAAa,CAAC,WAAW,IAAI;YAC5C,YAAuB,MAAM,EAAE,EAAE;gBAC/B,SAAS;oBAAC;wBAAE;oBAAK;iBAAE;YACrB;QACF;gDACA;QAAC,MAAM,EAAE;QAAE;KAAY;IAGzB,MAAM,gBAAgB,CAAA,GAAA,6JAAA,CAAA,cAAW,AAAD;mDAC9B,CAAC;YACC,IAAI,EAAE,GAAG,KAAK,WAAW,CAAC,EAAE,QAAQ,EAAE;gBACpC,EAAE,cAAc;gBAChB,cAAc;gBACd,SAAS,aAAa,MAAM,EAAE;YAChC;QACF;kDACA;QAAC,MAAM,EAAE;QAAE;QAAU;KAAc;IAGrC,MAAM,iBAA+C;QACnD,GAAG;QACH,GAAG;QACH,GAAG;QACH,GAAG;QACH,GAAG;QACH,GAAG;IACL;IAEA,MAAM,aAAa,CAAC,CAAC,EAAE,MAAM,IAAI,CAAC,KAAK,EAAE;IAEzC,qBAAO,CAAA,GAAA,6JAAA,CAAA,gBAAa,AAAD,EACjB,YACA;QACE,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,cAAc,CAAC,MAAM,IAAI,CAAC,KAAK,CAAC,EAAE;IAClD,iBACA,6LAAC;QACC,KAAK;QACL,eAAe;QACf,8BAA8B;QAC9B,SAAS;QACT,WAAW;QACX,WAAU;QACV,oBAAkB,CAAC,QAAQ,EAAE,MAAM,IAAI,CAAC,KAAK,EAAE;QAC/C,MAAK;QACL,cAAY,CAAC,cAAc,EAAE,MAAM,IAAI,CAAC,KAAK,EAAE;kBAE9C,6BACC,6LAAC;YAAK,WAAU;;gBAAwC;gBAC7C,MAAM,IAAI,CAAC,KAAK;;;;;;;;;;;;AAKnC;GA/DgB;;QAEM,+HAAA,CAAA,iBAAc;QACjB,+HAAA,CAAA,iBAAc;QACT,+HAAA,CAAA,iBAAc;;;KAJtB"}},
    {"offset": {"line": 2665, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 2671, "column": 0}, "map": {"version":3,"sources":["file://C%3A/TextOr/src/components/editor/blocks/CodeBlock.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState, useCallback } from \"react\";\nimport dynamic from \"next/dynamic\";\nimport { useEditorStore } from \"@/stores\";\nimport { useI18n } from \"@/hooks\";\nimport type { Block } from \"@/types\";\nimport { cn } from \"@/lib\";\nimport { Play, Loader2 } from \"lucide-react\";\n\nconst MonacoEditor = dynamic(\n  () => import(\"@monaco-editor/react\").then((mod) => mod.default),\n  { ssr: false, loading: () => <div className=\"h-40 animate-pulse bg-editor-hover\" /> }\n);\n\ninterface CodeBlockProps {\n  block: Block<\"code\">;\n}\n\nconst SUPPORTED_LANGUAGES = [\n  \"javascript\",\n  \"typescript\",\n  \"python\",\n  \"html\",\n  \"css\",\n  \"json\",\n  \"markdown\",\n  \"sql\",\n  \"shell\",\n];\n\nexport function CodeBlock({ block }: CodeBlockProps) {\n  const { t } = useI18n();\n  const updateBlock = useEditorStore((state) => state.updateBlock);\n  const pushToHistory = useEditorStore((state) => state.pushToHistory);\n  const [isRunning, setIsRunning] = useState(false);\n\n  const handleCodeChange = useCallback(\n    (value: string | undefined) => {\n      updateBlock<\"code\">(block.id, {\n        code: value ?? \"\",\n      });\n    },\n    [block.id, updateBlock]\n  );\n\n  const handleLanguageChange = useCallback(\n    (e: React.ChangeEvent<HTMLSelectElement>) => {\n      pushToHistory(\"Change code language\");\n      updateBlock<\"code\">(block.id, {\n        language: e.target.value,\n      });\n    },\n    [block.id, updateBlock, pushToHistory]\n  );\n\n  const handleRunCode = useCallback(async () => {\n    if (block.data.language !== \"javascript\") {\n      updateBlock<\"code\">(block.id, {\n        output: `Execution only supported for JavaScript`,\n      });\n      return;\n    }\n\n    setIsRunning(true);\n    updateBlock<\"code\">(block.id, {\n      isRunning: true,\n      output: undefined,\n    });\n\n    try {\n      const logs: string[] = [];\n      const originalLog = console.log;\n      console.log = (...args) => {\n        logs.push(args.map((arg) => String(arg)).join(\" \"));\n      };\n\n      let result: unknown;\n      try {\n        result = new Function(block.data.code)();\n      } catch (error) {\n        if (error instanceof Error) {\n          logs.push(`Error: ${error.message}`);\n        }\n      }\n\n      console.log = originalLog;\n\n      const output =\n        logs.length > 0\n          ? logs.join(\"\\n\")\n          : result !== undefined\n          ? String(result)\n          : \"No output\";\n\n      updateBlock<\"code\">(block.id, {\n        output,\n        isRunning: false,\n      });\n    } catch (error) {\n      updateBlock<\"code\">(block.id, {\n        output: `Error: ${error instanceof Error ? error.message : \"Unknown error\"}`,\n        isRunning: false,\n      });\n    } finally {\n      setIsRunning(false);\n    }\n  }, [block.id, block.data.code, block.data.language, updateBlock]);\n\n  return (\n    <div className=\"code-block\">\n      <div className=\"code-block-header\">\n        <select\n          value={block.data.language}\n          onChange={handleLanguageChange}\n          className={cn(\n            \"rounded border-none bg-transparent text-sm text-editor-muted\",\n            \"focus:outline-none focus:ring-1 focus:ring-editor-accent\"\n          )}\n          aria-label={t.blocks.code.language}\n        >\n          {SUPPORTED_LANGUAGES.map((lang) => (\n            <option key={lang} value={lang}>\n              {lang}\n            </option>\n          ))}\n        </select>\n\n        <button\n          onClick={handleRunCode}\n          disabled={isRunning}\n          className={cn(\n            \"flex items-center gap-1 rounded-md px-3 py-1 text-sm\",\n            \"bg-green-500 text-white hover:bg-green-600\",\n            \"disabled:opacity-50\",\n            \"transition-colors duration-150\"\n          )}\n          aria-label={isRunning ? t.blocks.code.running : t.blocks.code.run}\n        >\n          {isRunning ? (\n            <>\n              <Loader2 className=\"h-4 w-4 animate-spin\" />\n              <span>{t.blocks.code.running}</span>\n            </>\n          ) : (\n            <>\n              <Play className=\"h-4 w-4\" />\n              <span>{t.blocks.code.run}</span>\n            </>\n          )}\n        </button>\n      </div>\n\n      <div className=\"h-40\">\n        <MonacoEditor\n          height=\"100%\"\n          language={block.data.language}\n          value={block.data.code}\n          onChange={handleCodeChange}\n          theme=\"vs-dark\"\n          options={{\n            minimap: { enabled: false },\n            fontSize: 14,\n            lineNumbers: \"on\",\n            scrollBeyondLastLine: false,\n            automaticLayout: true,\n            tabSize: 2,\n            wordWrap: \"on\",\n            padding: { top: 8, bottom: 8 },\n          }}\n        />\n      </div>\n\n      {block.data.output && (\n        <div className=\"code-block-output\">\n          <div className=\"mb-1 text-xs text-gray-400\">\n            {t.blocks.code.output}:\n          </div>\n          <pre className=\"whitespace-pre-wrap font-mono text-sm\">\n            {block.data.output}\n          </pre>\n        </div>\n      )}\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2962, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 2968, "column": 0}, "map": {"version":3,"sources":["file://C%3A/TextOr/src/components/editor/blocks/TableBlock.tsx"],"sourcesContent":["\"use client\";\n\nimport { useCallback, useMemo } from \"react\";\nimport { useEditorStore } from \"@/stores\";\nimport { useI18n } from \"@/hooks\";\nimport type { Block, SortDirection } from \"@/types\";\nimport { cn, createTableCell, createTableRow, createTableColumn } from \"@/lib\";\nimport { Plus, Trash2, ArrowUpDown, ArrowUp, ArrowDown } from \"lucide-react\";\n\ninterface TableBlockProps {\n  block: Block<\"table\">;\n}\n\nexport function TableBlock({ block }: TableBlockProps) {\n  const { t } = useI18n();\n  const updateBlock = useEditorStore((state) => state.updateBlock);\n  const pushToHistory = useEditorStore((state) => state.pushToHistory);\n\n  const { columns, rows, sortColumn, sortDirection } = block.data;\n\n  const sortedRows = useMemo(() => {\n    if (!sortColumn || sortDirection === \"none\") {\n      return rows;\n    }\n\n    const columnIndex = columns.findIndex((col) => col.id === sortColumn);\n    if (columnIndex === -1) return rows;\n\n    return [...rows].sort((a, b) => {\n      const cellA = a.cells[columnIndex];\n      const cellB = b.cells[columnIndex];\n      const textA = cellA?.content.map((s) => s.text).join(\"\") ?? \"\";\n      const textB = cellB?.content.map((s) => s.text).join(\"\") ?? \"\";\n\n      const comparison = textA.localeCompare(textB, undefined, { numeric: true });\n      return sortDirection === \"asc\" ? comparison : -comparison;\n    });\n  }, [rows, columns, sortColumn, sortDirection]);\n\n  const handleCellChange = useCallback(\n    (rowId: string, cellIndex: number, text: string) => {\n      const newRows = rows.map((row) => {\n        if (row.id !== rowId) return row;\n        const newCells = [...row.cells];\n        const cell = newCells[cellIndex];\n        if (cell) {\n          newCells[cellIndex] = {\n            ...cell,\n            content: [{ text }],\n          };\n        }\n        return { ...row, cells: newCells };\n      });\n\n      updateBlock<\"table\">(block.id, { rows: newRows });\n    },\n    [block.id, rows, updateBlock]\n  );\n\n  const handleHeaderChange = useCallback(\n    (columnId: string, header: string) => {\n      const newColumns = columns.map((col) =>\n        col.id === columnId ? { ...col, header } : col\n      );\n      updateBlock<\"table\">(block.id, { columns: newColumns });\n    },\n    [block.id, columns, updateBlock]\n  );\n\n  const handleSort = useCallback(\n    (columnId: string) => {\n      let newDirection: SortDirection = \"asc\";\n      if (sortColumn === columnId) {\n        if (sortDirection === \"asc\") newDirection = \"desc\";\n        else if (sortDirection === \"desc\") newDirection = \"none\";\n      }\n\n      updateBlock<\"table\">(block.id, {\n        sortColumn: newDirection === \"none\" ? undefined : columnId,\n        sortDirection: newDirection,\n      });\n    },\n    [block.id, sortColumn, sortDirection, updateBlock]\n  );\n\n  const handleAddColumn = useCallback(() => {\n    pushToHistory(\"Add table column\");\n    const newColumn = createTableColumn(`Column ${columns.length + 1}`);\n    const newRows = rows.map((row) => ({\n      ...row,\n      cells: [...row.cells, createTableCell()],\n    }));\n\n    updateBlock<\"table\">(block.id, {\n      columns: [...columns, newColumn],\n      rows: newRows,\n    });\n  }, [block.id, columns, rows, updateBlock, pushToHistory]);\n\n  const handleAddRow = useCallback(() => {\n    pushToHistory(\"Add table row\");\n    const newRow = createTableRow(columns.length);\n    updateBlock<\"table\">(block.id, {\n      rows: [...rows, newRow],\n    });\n  }, [block.id, columns.length, rows, updateBlock, pushToHistory]);\n\n  const handleDeleteColumn = useCallback(\n    (columnIndex: number) => {\n      if (columns.length <= 1) return;\n      pushToHistory(\"Delete table column\");\n\n      const newColumns = columns.filter((_, idx) => idx !== columnIndex);\n      const newRows = rows.map((row) => ({\n        ...row,\n        cells: row.cells.filter((_, idx) => idx !== columnIndex),\n      }));\n\n      updateBlock<\"table\">(block.id, {\n        columns: newColumns,\n        rows: newRows,\n      });\n    },\n    [block.id, columns, rows, updateBlock, pushToHistory]\n  );\n\n  const handleDeleteRow = useCallback(\n    (rowId: string) => {\n      if (rows.length <= 1) return;\n      pushToHistory(\"Delete table row\");\n\n      const newRows = rows.filter((row) => row.id !== rowId);\n      updateBlock<\"table\">(block.id, { rows: newRows });\n    },\n    [block.id, rows, updateBlock, pushToHistory]\n  );\n\n  const getSortIcon = (columnId: string) => {\n    if (sortColumn !== columnId) return <ArrowUpDown className=\"h-3 w-3\" />;\n    if (sortDirection === \"asc\") return <ArrowUp className=\"h-3 w-3\" />;\n    if (sortDirection === \"desc\") return <ArrowDown className=\"h-3 w-3\" />;\n    return <ArrowUpDown className=\"h-3 w-3\" />;\n  };\n\n  return (\n    <div className=\"dynamic-table overflow-x-auto\">\n      <table className=\"w-full\">\n        <thead>\n          <tr>\n            {columns.map((column, colIndex) => (\n              <th key={column.id} className=\"group relative\">\n                <div className=\"flex items-center gap-2\">\n                  <input\n                    type=\"text\"\n                    value={column.header}\n                    onChange={(e) =>\n                      handleHeaderChange(column.id, e.target.value)\n                    }\n                    className=\"w-full bg-transparent outline-none\"\n                    aria-label={`Column header ${colIndex + 1}`}\n                  />\n                  <button\n                    onClick={() => handleSort(column.id)}\n                    className=\"opacity-50 hover:opacity-100\"\n                    title=\"Sort column\"\n                  >\n                    {getSortIcon(column.id)}\n                  </button>\n                  <button\n                    onClick={() => handleDeleteColumn(colIndex)}\n                    className=\"opacity-0 group-hover:opacity-50 hover:opacity-100\"\n                    disabled={columns.length <= 1}\n                    title={t.blocks.table.deleteColumn}\n                  >\n                    <Trash2 className=\"h-3 w-3 text-red-400\" />\n                  </button>\n                </div>\n              </th>\n            ))}\n            <th className=\"w-8 border-none bg-transparent\">\n              <button\n                onClick={handleAddColumn}\n                className=\"flex h-6 w-6 items-center justify-center rounded hover:bg-editor-hover\"\n                title={t.blocks.table.addColumn}\n              >\n                <Plus className=\"h-4 w-4 text-editor-muted\" />\n              </button>\n            </th>\n          </tr>\n        </thead>\n        <tbody>\n          {sortedRows.map((row) => (\n            <tr key={row.id} className=\"group\">\n              {row.cells.map((cell, cellIndex) => (\n                <td key={cell.id}>\n                  <input\n                    type=\"text\"\n                    value={cell.content.map((s) => s.text).join(\"\")}\n                    onChange={(e) =>\n                      handleCellChange(row.id, cellIndex, e.target.value)\n                    }\n                    className=\"w-full bg-transparent outline-none\"\n                    aria-label={`Cell row ${rows.indexOf(row) + 1}, column ${cellIndex + 1}`}\n                  />\n                </td>\n              ))}\n              <td className=\"w-8 border-none\">\n                <button\n                  onClick={() => handleDeleteRow(row.id)}\n                  className=\"flex h-6 w-6 items-center justify-center rounded opacity-0 group-hover:opacity-50 hover:opacity-100\"\n                  disabled={rows.length <= 1}\n                  title={t.blocks.table.deleteRow}\n                >\n                  <Trash2 className=\"h-3 w-3 text-red-400\" />\n                </button>\n              </td>\n            </tr>\n          ))}\n        </tbody>\n      </table>\n\n      <button\n        onClick={handleAddRow}\n        className={cn(\n          \"mt-2 flex w-full items-center justify-center gap-1 py-2\",\n          \"text-sm text-editor-muted hover:bg-editor-hover\",\n          \"rounded-b-lg transition-colors duration-150\"\n        )}\n      >\n        <Plus className=\"h-4 w-4\" />\n        <span>{t.blocks.table.addRow}</span>\n      </button>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;AAEA;AACA;AACA;AAEA;AAFA;AADA;AAGA;AACA;AAAA;AAAA;AAAA;AAAA;AADA;;;AANA;;;;;;AAaO,SAAS,WAAW,EAAE,KAAK,EAAmB;;IACnD,MAAM,EAAE,CAAC,EAAE,GAAG,CAAA,GAAA,0HAAA,CAAA,UAAO,AAAD;IACpB,MAAM,cAAc,CAAA,GAAA,+HAAA,CAAA,iBAAc,AAAD;kDAAE,CAAC,QAAU,MAAM,WAAW;;IAC/D,MAAM,gBAAgB,CAAA,GAAA,+HAAA,CAAA,iBAAc,AAAD;oDAAE,CAAC,QAAU,MAAM,aAAa;;IAEnE,MAAM,EAAE,OAAO,EAAE,IAAI,EAAE,UAAU,EAAE,aAAa,EAAE,GAAG,MAAM,IAAI;IAE/D,MAAM,aAAa,CAAA,GAAA,6JAAA,CAAA,UAAO,AAAD;0CAAE;YACzB,IAAI,CAAC,cAAc,kBAAkB,QAAQ;gBAC3C,OAAO;YACT;YAEA,MAAM,cAAc,QAAQ,SAAS;8DAAC,CAAC,MAAQ,IAAI,EAAE,KAAK;;YAC1D,IAAI,gBAAgB,CAAC,GAAG,OAAO;YAE/B,OAAO;mBAAI;aAAK,CAAC,IAAI;kDAAC,CAAC,GAAG;oBACxB,MAAM,QAAQ,EAAE,KAAK,CAAC,YAAY;oBAClC,MAAM,QAAQ,EAAE,KAAK,CAAC,YAAY;oBAClC,MAAM,QAAQ,OAAO,QAAQ;0DAAI,CAAC,IAAM,EAAE,IAAI;yDAAE,KAAK,OAAO;oBAC5D,MAAM,QAAQ,OAAO,QAAQ;0DAAI,CAAC,IAAM,EAAE,IAAI;yDAAE,KAAK,OAAO;oBAE5D,MAAM,aAAa,MAAM,aAAa,CAAC,OAAO,WAAW;wBAAE,SAAS;oBAAK;oBACzE,OAAO,kBAAkB,QAAQ,aAAa,CAAC;gBACjD;;QACF;yCAAG;QAAC;QAAM;QAAS;QAAY;KAAc;IAE7C,MAAM,mBAAmB,CAAA,GAAA,6JAAA,CAAA,cAAW,AAAD;oDACjC,CAAC,OAAe,WAAmB;YACjC,MAAM,UAAU,KAAK,GAAG;oEAAC,CAAC;oBACxB,IAAI,IAAI,EAAE,KAAK,OAAO,OAAO;oBAC7B,MAAM,WAAW;2BAAI,IAAI,KAAK;qBAAC;oBAC/B,MAAM,OAAO,QAAQ,CAAC,UAAU;oBAChC,IAAI,MAAM;wBACR,QAAQ,CAAC,UAAU,GAAG;4BACpB,GAAG,IAAI;4BACP,SAAS;gCAAC;oCAAE;gCAAK;6BAAE;wBACrB;oBACF;oBACA,OAAO;wBAAE,GAAG,GAAG;wBAAE,OAAO;oBAAS;gBACnC;;YAEA,YAAqB,MAAM,EAAE,EAAE;gBAAE,MAAM;YAAQ;QACjD;mDACA;QAAC,MAAM,EAAE;QAAE;QAAM;KAAY;IAG/B,MAAM,qBAAqB,CAAA,GAAA,6JAAA,CAAA,cAAW,AAAD;sDACnC,CAAC,UAAkB;YACjB,MAAM,aAAa,QAAQ,GAAG;yEAAC,CAAC,MAC9B,IAAI,EAAE,KAAK,WAAW;wBAAE,GAAG,GAAG;wBAAE;oBAAO,IAAI;;YAE7C,YAAqB,MAAM,EAAE,EAAE;gBAAE,SAAS;YAAW;QACvD;qDACA;QAAC,MAAM,EAAE;QAAE;QAAS;KAAY;IAGlC,MAAM,aAAa,CAAA,GAAA,6JAAA,CAAA,cAAW,AAAD;8CAC3B,CAAC;YACC,IAAI,eAA8B;YAClC,IAAI,eAAe,UAAU;gBAC3B,IAAI,kBAAkB,OAAO,eAAe;qBACvC,IAAI,kBAAkB,QAAQ,eAAe;YACpD;YAEA,YAAqB,MAAM,EAAE,EAAE;gBAC7B,YAAY,iBAAiB,SAAS,YAAY;gBAClD,eAAe;YACjB;QACF;6CACA;QAAC,MAAM,EAAE;QAAE;QAAY;QAAe;KAAY;IAGpD,MAAM,kBAAkB,CAAA,GAAA,6JAAA,CAAA,cAAW,AAAD;mDAAE;YAClC,cAAc;YACd,MAAM,YAAY,CAAA,GAAA,uHAAA,CAAA,oBAAiB,AAAD,EAAE,CAAC,OAAO,EAAE,QAAQ,MAAM,GAAG,GAAG;YAClE,MAAM,UAAU,KAAK,GAAG;mEAAC,CAAC,MAAQ,CAAC;wBACjC,GAAG,GAAG;wBACN,OAAO;+BAAI,IAAI,KAAK;4BAAE,CAAA,GAAA,uHAAA,CAAA,kBAAe,AAAD;yBAAI;oBAC1C,CAAC;;YAED,YAAqB,MAAM,EAAE,EAAE;gBAC7B,SAAS;uBAAI;oBAAS;iBAAU;gBAChC,MAAM;YACR;QACF;kDAAG;QAAC,MAAM,EAAE;QAAE;QAAS;QAAM;QAAa;KAAc;IAExD,MAAM,eAAe,CAAA,GAAA,6JAAA,CAAA,cAAW,AAAD;gDAAE;YAC/B,cAAc;YACd,MAAM,SAAS,CAAA,GAAA,uHAAA,CAAA,iBAAc,AAAD,EAAE,QAAQ,MAAM;YAC5C,YAAqB,MAAM,EAAE,EAAE;gBAC7B,MAAM;uBAAI;oBAAM;iBAAO;YACzB;QACF;+CAAG;QAAC,MAAM,EAAE;QAAE,QAAQ,MAAM;QAAE;QAAM;QAAa;KAAc;IAE/D,MAAM,qBAAqB,CAAA,GAAA,6JAAA,CAAA,cAAW,AAAD;sDACnC,CAAC;YACC,IAAI,QAAQ,MAAM,IAAI,GAAG;YACzB,cAAc;YAEd,MAAM,aAAa,QAAQ,MAAM;yEAAC,CAAC,GAAG,MAAQ,QAAQ;;YACtD,MAAM,UAAU,KAAK,GAAG;sEAAC,CAAC,MAAQ,CAAC;wBACjC,GAAG,GAAG;wBACN,OAAO,IAAI,KAAK,CAAC,MAAM;kFAAC,CAAC,GAAG,MAAQ,QAAQ;;oBAC9C,CAAC;;YAED,YAAqB,MAAM,EAAE,EAAE;gBAC7B,SAAS;gBACT,MAAM;YACR;QACF;qDACA;QAAC,MAAM,EAAE;QAAE;QAAS;QAAM;QAAa;KAAc;IAGvD,MAAM,kBAAkB,CAAA,GAAA,6JAAA,CAAA,cAAW,AAAD;mDAChC,CAAC;YACC,IAAI,KAAK,MAAM,IAAI,GAAG;YACtB,cAAc;YAEd,MAAM,UAAU,KAAK,MAAM;mEAAC,CAAC,MAAQ,IAAI,EAAE,KAAK;;YAChD,YAAqB,MAAM,EAAE,EAAE;gBAAE,MAAM;YAAQ;QACjD;kDACA;QAAC,MAAM,EAAE;QAAE;QAAM;QAAa;KAAc;IAG9C,MAAM,cAAc,CAAC;QACnB,IAAI,eAAe,UAAU,qBAAO,6LAAC,2NAAA,CAAA,cAAW;YAAC,WAAU;;;;;;QAC3D,IAAI,kBAAkB,OAAO,qBAAO,6LAAC,+MAAA,CAAA,UAAO;YAAC,WAAU;;;;;;QACvD,IAAI,kBAAkB,QAAQ,qBAAO,6LAAC,mNAAA,CAAA,YAAS;YAAC,WAAU;;;;;;QAC1D,qBAAO,6LAAC,2NAAA,CAAA,cAAW;YAAC,WAAU;;;;;;IAChC;IAEA,qBACE,6LAAC;QAAI,WAAU;;0BACb,6LAAC;gBAAM,WAAU;;kCACf,6LAAC;kCACC,cAAA,6LAAC;;gCACE,QAAQ,GAAG,CAAC,CAAC,QAAQ,yBACpB,6LAAC;wCAAmB,WAAU;kDAC5B,cAAA,6LAAC;4CAAI,WAAU;;8DACb,6LAAC;oDACC,MAAK;oDACL,OAAO,OAAO,MAAM;oDACpB,UAAU,CAAC,IACT,mBAAmB,OAAO,EAAE,EAAE,EAAE,MAAM,CAAC,KAAK;oDAE9C,WAAU;oDACV,cAAY,CAAC,cAAc,EAAE,WAAW,GAAG;;;;;;8DAE7C,6LAAC;oDACC,SAAS,IAAM,WAAW,OAAO,EAAE;oDACnC,WAAU;oDACV,OAAM;8DAEL,YAAY,OAAO,EAAE;;;;;;8DAExB,6LAAC;oDACC,SAAS,IAAM,mBAAmB;oDAClC,WAAU;oDACV,UAAU,QAAQ,MAAM,IAAI;oDAC5B,OAAO,EAAE,MAAM,CAAC,KAAK,CAAC,YAAY;8DAElC,cAAA,6LAAC,6MAAA,CAAA,SAAM;wDAAC,WAAU;;;;;;;;;;;;;;;;;uCAxBf,OAAO,EAAE;;;;;8CA6BpB,6LAAC;oCAAG,WAAU;8CACZ,cAAA,6LAAC;wCACC,SAAS;wCACT,WAAU;wCACV,OAAO,EAAE,MAAM,CAAC,KAAK,CAAC,SAAS;kDAE/B,cAAA,6LAAC,qMAAA,CAAA,OAAI;4CAAC,WAAU;;;;;;;;;;;;;;;;;;;;;;;;;;;kCAKxB,6LAAC;kCACE,WAAW,GAAG,CAAC,CAAC,oBACf,6LAAC;gCAAgB,WAAU;;oCACxB,IAAI,KAAK,CAAC,GAAG,CAAC,CAAC,MAAM,0BACpB,6LAAC;sDACC,cAAA,6LAAC;gDACC,MAAK;gDACL,OAAO,KAAK,OAAO,CAAC,GAAG,CAAC,CAAC,IAAM,EAAE,IAAI,EAAE,IAAI,CAAC;gDAC5C,UAAU,CAAC,IACT,iBAAiB,IAAI,EAAE,EAAE,WAAW,EAAE,MAAM,CAAC,KAAK;gDAEpD,WAAU;gDACV,cAAY,CAAC,SAAS,EAAE,KAAK,OAAO,CAAC,OAAO,EAAE,SAAS,EAAE,YAAY,GAAG;;;;;;2CARnE,KAAK,EAAE;;;;;kDAYlB,6LAAC;wCAAG,WAAU;kDACZ,cAAA,6LAAC;4CACC,SAAS,IAAM,gBAAgB,IAAI,EAAE;4CACrC,WAAU;4CACV,UAAU,KAAK,MAAM,IAAI;4CACzB,OAAO,EAAE,MAAM,CAAC,KAAK,CAAC,SAAS;sDAE/B,cAAA,6LAAC,6MAAA,CAAA,SAAM;gDAAC,WAAU;;;;;;;;;;;;;;;;;+BArBf,IAAI,EAAE;;;;;;;;;;;;;;;;0BA6BrB,6LAAC;gBACC,SAAS;gBACT,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,2DACA,mDACA;;kCAGF,6LAAC,qMAAA,CAAA,OAAI;wBAAC,WAAU;;;;;;kCAChB,6LAAC;kCAAM,EAAE,MAAM,CAAC,KAAK,CAAC,MAAM;;;;;;;;;;;;;;;;;;AAIpC;GA7NgB;;QACA,0HAAA,CAAA,UAAO;QACD,+HAAA,CAAA,iBAAc;QACZ,+HAAA,CAAA,iBAAc;;;KAHtB"}},
    {"offset": {"line": 3429, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 3435, "column": 0}, "map": {"version":3,"sources":["file://C%3A/TextOr/src/components/editor/blocks/CalloutBlock.tsx"],"sourcesContent":["\"use client\";\n\nimport { useRef, useCallback } from \"react\";\nimport { useEditorStore } from \"@/stores\";\nimport { useI18n } from \"@/hooks\";\nimport type { Block, CalloutType } from \"@/types\";\nimport { cn } from \"@/lib\";\nimport { Info, AlertTriangle, Lightbulb, AlertOctagon } from \"lucide-react\";\n\ninterface CalloutBlockProps {\n  block: Block<\"callout\">;\n}\n\nconst CALLOUT_ICONS: Record<CalloutType, React.ComponentType<{ className?: string }>> = {\n  info: Info,\n  warning: AlertTriangle,\n  tip: Lightbulb,\n  danger: AlertOctagon,\n};\n\nconst CALLOUT_CLASSES: Record<CalloutType, string> = {\n  info: \"callout-info\",\n  warning: \"callout-warning\",\n  tip: \"callout-tip\",\n  danger: \"callout-danger\",\n};\n\nexport function CalloutBlock({ block }: CalloutBlockProps) {\n  const { t } = useI18n();\n  const ref = useRef<HTMLDivElement>(null);\n  const updateBlock = useEditorStore((state) => state.updateBlock);\n  const pushToHistory = useEditorStore((state) => state.pushToHistory);\n\n  const currentText = block.data.content.map((s) => s.text).join(\"\");\n  const Icon = CALLOUT_ICONS[block.data.type];\n\n  const handleContentChange = useCallback(\n    (e: React.FormEvent<HTMLDivElement>) => {\n      const text = e.currentTarget.textContent ?? \"\";\n      updateBlock<\"callout\">(block.id, {\n        content: [{ text }],\n      });\n    },\n    [block.id, updateBlock]\n  );\n\n  const handleTypeChange = useCallback(\n    (e: React.ChangeEvent<HTMLSelectElement>) => {\n      pushToHistory(\"Change callout type\");\n      updateBlock<\"callout\">(block.id, {\n        type: e.target.value as CalloutType,\n      });\n    },\n    [block.id, updateBlock, pushToHistory]\n  );\n\n  const handleTitleChange = useCallback(\n    (e: React.FormEvent<HTMLInputElement>) => {\n      updateBlock<\"callout\">(block.id, {\n        title: e.currentTarget.value,\n      });\n    },\n    [block.id, updateBlock]\n  );\n\n  return (\n    <div className={cn(\"callout\", CALLOUT_CLASSES[block.data.type])}>\n      <div className=\"mb-2 flex items-center gap-3\">\n        <Icon className=\"h-5 w-5 flex-shrink-0\" />\n        <select\n          value={block.data.type}\n          onChange={handleTypeChange}\n          className=\"rounded bg-transparent text-sm font-semibold focus:outline-none focus:ring-1 focus:ring-current\"\n          aria-label=\"Callout type\"\n        >\n          <option value=\"info\">{t.blocks.callout.info}</option>\n          <option value=\"warning\">{t.blocks.callout.warning}</option>\n          <option value=\"tip\">{t.blocks.callout.tip}</option>\n          <option value=\"danger\">{t.blocks.callout.danger}</option>\n        </select>\n        <input\n          type=\"text\"\n          value={block.data.title ?? \"\"}\n          onChange={handleTitleChange}\n          placeholder=\"Title (optional)\"\n          className=\"flex-1 bg-transparent text-sm font-semibold placeholder:opacity-50 focus:outline-none\"\n          aria-label=\"Callout title\"\n        />\n      </div>\n      <div\n        ref={ref}\n        contentEditable\n        suppressContentEditableWarning\n        onInput={handleContentChange}\n        className=\"ml-8 min-h-[1.5em] outline-none\"\n        role=\"textbox\"\n        aria-label=\"Callout content\"\n      >\n        {currentText || (\n          <span className=\"pointer-events-none opacity-50\">\n            Type your message here...\n          </span>\n        )}\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 3635, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 3641, "column": 0}, "map": {"version":3,"sources":["file://C%3A/TextOr/src/components/editor/blocks/EmbedBlock.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState, useCallback, useEffect } from \"react\";\nimport { useEditorStore } from \"@/stores\";\nimport { useI18n } from \"@/hooks\";\nimport type { Block } from \"@/types\";\nimport {\n  extractYouTubeId,\n  extractSpotifyId,\n  extractTwitterId,\n  detectEmbedType,\n} from \"@/lib\";\nimport { Link2, ExternalLink, ChevronUp } from \"lucide-react\";\n\ninterface EmbedBlockProps {\n  block: Block<\"embed\">;\n}\n\nexport function EmbedBlock({ block }: EmbedBlockProps) {\n  const { t } = useI18n();\n  const updateBlock = useEditorStore((state) => state.updateBlock);\n  const pushToHistory = useEditorStore((state) => state.pushToHistory);\n  const [showPrompt, setShowPrompt] = useState(!block.data.isExpanded);\n  const [inputUrl, setInputUrl] = useState(block.data.url);\n\n  useEffect(() => {\n    if (block.data.url && !block.data.isExpanded) {\n      setShowPrompt(true);\n    }\n  }, [block.data.url, block.data.isExpanded]);\n\n  const handleUrlChange = useCallback(\n    (e: React.ChangeEvent<HTMLInputElement>) => {\n      const url = e.target.value;\n      setInputUrl(url);\n    },\n    []\n  );\n\n  const handleUrlBlur = useCallback(() => {\n    if (inputUrl !== block.data.url) {\n      const embedType = detectEmbedType(inputUrl);\n      updateBlock<\"embed\">(block.id, {\n        url: inputUrl,\n        type: embedType,\n      });\n      setShowPrompt(true);\n    }\n  }, [block.id, block.data.url, inputUrl, updateBlock]);\n\n  const handleEmbed = useCallback(() => {\n    pushToHistory(\"Embed content\");\n    updateBlock<\"embed\">(block.id, {\n      isExpanded: true,\n    });\n    setShowPrompt(false);\n  }, [block.id, updateBlock, pushToHistory]);\n\n  const handleKeepLink = useCallback(() => {\n    setShowPrompt(false);\n  }, []);\n\n  const toggleExpand = useCallback(() => {\n    updateBlock<\"embed\">(block.id, {\n      isExpanded: !block.data.isExpanded,\n    });\n  }, [block.id, block.data.isExpanded, updateBlock]);\n\n  const renderEmbed = () => {\n    if (!block.data.isExpanded) {\n      return (\n        <a\n          href={block.data.url}\n          target=\"_blank\"\n          rel=\"noopener noreferrer\"\n          className=\"flex items-center gap-2 text-editor-accent hover:underline\"\n        >\n          <Link2 className=\"h-4 w-4\" />\n          <span className=\"truncate\">{block.data.url}</span>\n          <ExternalLink className=\"h-3 w-3\" />\n        </a>\n      );\n    }\n\n    switch (block.data.type) {\n      case \"youtube\": {\n        const videoId = extractYouTubeId(block.data.url);\n        if (!videoId) return <div>Invalid YouTube URL</div>;\n        return (\n          <div className=\"aspect-video w-full\">\n            <iframe\n              src={`https://www.youtube.com/embed/${videoId}`}\n              className=\"h-full w-full rounded-lg\"\n              allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\"\n              allowFullScreen\n              title=\"YouTube video\"\n            />\n          </div>\n        );\n      }\n\n      case \"spotify\": {\n        const spotifyData = extractSpotifyId(block.data.url);\n        if (!spotifyData) return <div>Invalid Spotify URL</div>;\n        return (\n          <iframe\n            src={`https://open.spotify.com/embed/${spotifyData.type}/${spotifyData.id}`}\n            className=\"h-20 w-full rounded-lg\"\n            allow=\"encrypted-media\"\n            title=\"Spotify embed\"\n          />\n        );\n      }\n\n      case \"twitter\": {\n        const tweetId = extractTwitterId(block.data.url);\n        if (!tweetId) return <div>Invalid Twitter/X URL</div>;\n        return (\n          <div className=\"rounded-lg border border-editor-border bg-editor-hover p-4\">\n            <div className=\"mb-2 flex items-center gap-2\">\n              <div className=\"h-10 w-10 rounded-full bg-editor-muted\" />\n              <div>\n                <div className=\"font-semibold\">Tweet</div>\n                <div className=\"text-sm text-editor-muted\">@user</div>\n              </div>\n            </div>\n            <p className=\"text-sm\">\n              Loading tweet... \n              <a \n                href={block.data.url} \n                target=\"_blank\" \n                rel=\"noopener noreferrer\"\n                className=\"text-editor-accent hover:underline\"\n              >\n                View on X\n              </a>\n            </p>\n          </div>\n        );\n      }\n\n      case \"figma\": {\n        return (\n          <div className=\"aspect-video w-full\">\n            <iframe\n              src={`https://www.figma.com/embed?embed_host=textor&url=${encodeURIComponent(block.data.url)}`}\n              className=\"h-full w-full rounded-lg\"\n              allowFullScreen\n              title=\"Figma embed\"\n            />\n          </div>\n        );\n      }\n\n      default:\n        return (\n          <div className=\"rounded-lg border border-editor-border bg-editor-hover p-4\">\n            <a\n              href={block.data.url}\n              target=\"_blank\"\n              rel=\"noopener noreferrer\"\n              className=\"flex items-center gap-2 text-editor-accent hover:underline\"\n            >\n              <Link2 className=\"h-4 w-4\" />\n              <span className=\"truncate\">{block.data.url}</span>\n              <ExternalLink className=\"h-3 w-3\" />\n            </a>\n          </div>\n        );\n    }\n  };\n\n  return (\n    <div className=\"embed-container\">\n      {!block.data.url ? (\n        <div className=\"p-4\">\n          <div className=\"flex items-center gap-2\">\n            <Link2 className=\"h-5 w-5 text-editor-muted\" />\n            <input\n              type=\"url\"\n              value={inputUrl}\n              onChange={handleUrlChange}\n              onBlur={handleUrlBlur}\n              placeholder=\"Paste a URL (YouTube, Spotify, Twitter, Figma...)\"\n              className=\"flex-1 bg-transparent text-sm outline-none placeholder:text-editor-muted\"\n              aria-label=\"Embed URL\"\n            />\n          </div>\n        </div>\n      ) : (\n        <>\n          {showPrompt && !block.data.isExpanded && (\n            <div className=\"embed-placeholder\">\n              <div className=\"flex items-center gap-2\">\n                <Link2 className=\"h-5 w-5 text-editor-muted\" />\n                <span className=\"text-sm\">{t.blocks.embed.embedPrompt}</span>\n              </div>\n              <div className=\"flex items-center gap-2\">\n                <button\n                  onClick={handleEmbed}\n                  className=\"rounded-md bg-editor-accent px-3 py-1 text-sm text-white hover:bg-editor-accent/90\"\n                >\n                  {t.blocks.embed.yes}\n                </button>\n                <button\n                  onClick={handleKeepLink}\n                  className=\"rounded-md bg-editor-hover px-3 py-1 text-sm hover:bg-editor-border\"\n                >\n                  {t.blocks.embed.no}\n                </button>\n              </div>\n            </div>\n          )}\n\n          {!showPrompt && (\n            <>\n              <div className=\"p-4\">{renderEmbed()}</div>\n              {block.data.isExpanded && (\n                <button\n                  onClick={toggleExpand}\n                  className=\"flex w-full items-center justify-center gap-1 border-t border-editor-border py-2 text-sm text-editor-muted hover:bg-editor-hover\"\n                >\n                  <ChevronUp className=\"h-4 w-4\" />\n                  <span>Collapse</span>\n                </button>\n              )}\n            </>\n          )}\n        </>\n      )}\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 4125, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 4131, "column": 0}, "map": {"version":3,"sources":["file://C%3A/TextOr/src/components/editor/blocks/DividerBlock.tsx"],"sourcesContent":["\"use client\";\n\nimport type { Block } from \"@/types\";\n\ninterface DividerBlockProps {\n  block: Block<\"divider\">;\n}\n\nexport function DividerBlock(_props: DividerBlockProps) {\n  return (\n    <div className=\"py-4\" role=\"separator\" aria-orientation=\"horizontal\">\n      <hr className=\"border-editor-border\" />\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;AAAA;;AAQO,SAAS,aAAa,MAAyB;IACpD,qBACE,6LAAC;QAAI,WAAU;QAAO,MAAK;QAAY,oBAAiB;kBACtD,cAAA,6LAAC;YAAG,WAAU;;;;;;;;;;;AAGpB;KANgB"}},
    {"offset": {"line": 4161, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 4167, "column": 0}, "map": {"version":3,"sources":["file://C%3A/TextOr/src/components/editor/blocks/QuoteBlock.tsx"],"sourcesContent":["\"use client\";\n\nimport { useRef, useCallback } from \"react\";\nimport { useEditorStore } from \"@/stores\";\nimport type { Block } from \"@/types\";\nimport { Quote } from \"lucide-react\";\n\ninterface QuoteBlockProps {\n  block: Block<\"quote\">;\n}\n\nexport function QuoteBlock({ block }: QuoteBlockProps) {\n  const contentRef = useRef<HTMLDivElement>(null);\n  const authorRef = useRef<HTMLInputElement>(null);\n  const updateBlock = useEditorStore((state) => state.updateBlock);\n\n  const currentText = block.data.content.map((s) => s.text).join(\"\");\n\n  const handleContentChange = useCallback(\n    (e: React.FormEvent<HTMLDivElement>) => {\n      const text = e.currentTarget.textContent ?? \"\";\n      updateBlock<\"quote\">(block.id, {\n        content: [{ text }],\n      });\n    },\n    [block.id, updateBlock]\n  );\n\n  const handleAuthorChange = useCallback(\n    (e: React.ChangeEvent<HTMLInputElement>) => {\n      updateBlock<\"quote\">(block.id, {\n        author: e.target.value,\n      });\n    },\n    [block.id, updateBlock]\n  );\n\n  return (\n    <blockquote className=\"my-4 border-l-4 border-editor-accent pl-4\">\n      <div className=\"flex gap-2\">\n        <Quote className=\"mt-1 h-5 w-5 flex-shrink-0 text-editor-muted\" />\n        <div className=\"flex-1\">\n          <div\n            ref={contentRef}\n            contentEditable\n            suppressContentEditableWarning\n            onInput={handleContentChange}\n            className=\"min-h-[1.5em] text-lg italic outline-none\"\n            role=\"textbox\"\n            aria-label=\"Quote content\"\n          >\n            {currentText || (\n              <span className=\"pointer-events-none not-italic text-editor-muted\">\n                Type your quote here...\n              </span>\n            )}\n          </div>\n          <div className=\"mt-2 flex items-center gap-2 text-sm text-editor-muted\">\n            <span>‚Äî</span>\n            <input\n              ref={authorRef}\n              type=\"text\"\n              value={block.data.author ?? \"\"}\n              onChange={handleAuthorChange}\n              placeholder=\"Author (optional)\"\n              className=\"bg-transparent outline-none placeholder:text-editor-muted/50\"\n              aria-label=\"Quote author\"\n            />\n          </div>\n        </div>\n      </div>\n    </blockquote>\n  );\n}\n"],"names":[],"mappings":";;;;AAEA;AACA;AAAA;AAEA;;;AALA;;;;AAWO,SAAS,WAAW,EAAE,KAAK,EAAmB;;IACnD,MAAM,aAAa,CAAA,GAAA,6JAAA,CAAA,SAAM,AAAD,EAAkB;IAC1C,MAAM,YAAY,CAAA,GAAA,6JAAA,CAAA,SAAM,AAAD,EAAoB;IAC3C,MAAM,cAAc,CAAA,GAAA,+HAAA,CAAA,iBAAc,AAAD;kDAAE,CAAC,QAAU,MAAM,WAAW;;IAE/D,MAAM,cAAc,MAAM,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC,IAAM,EAAE,IAAI,EAAE,IAAI,CAAC;IAE/D,MAAM,sBAAsB,CAAA,GAAA,6JAAA,CAAA,cAAW,AAAD;uDACpC,CAAC;YACC,MAAM,OAAO,EAAE,aAAa,CAAC,WAAW,IAAI;YAC5C,YAAqB,MAAM,EAAE,EAAE;gBAC7B,SAAS;oBAAC;wBAAE;oBAAK;iBAAE;YACrB;QACF;sDACA;QAAC,MAAM,EAAE;QAAE;KAAY;IAGzB,MAAM,qBAAqB,CAAA,GAAA,6JAAA,CAAA,cAAW,AAAD;sDACnC,CAAC;YACC,YAAqB,MAAM,EAAE,EAAE;gBAC7B,QAAQ,EAAE,MAAM,CAAC,KAAK;YACxB;QACF;qDACA;QAAC,MAAM,EAAE;QAAE;KAAY;IAGzB,qBACE,6LAAC;QAAW,WAAU;kBACpB,cAAA,6LAAC;YAAI,WAAU;;8BACb,6LAAC,uMAAA,CAAA,QAAK;oBAAC,WAAU;;;;;;8BACjB,6LAAC;oBAAI,WAAU;;sCACb,6LAAC;4BACC,KAAK;4BACL,eAAe;4BACf,8BAA8B;4BAC9B,SAAS;4BACT,WAAU;4BACV,MAAK;4BACL,cAAW;sCAEV,6BACC,6LAAC;gCAAK,WAAU;0CAAmD;;;;;;;;;;;sCAKvE,6LAAC;4BAAI,WAAU;;8CACb,6LAAC;8CAAK;;;;;;8CACN,6LAAC;oCACC,KAAK;oCACL,MAAK;oCACL,OAAO,MAAM,IAAI,CAAC,MAAM,IAAI;oCAC5B,UAAU;oCACV,aAAY;oCACZ,WAAU;oCACV,cAAW;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAOzB;GA9DgB;;QAGM,+HAAA,CAAA,iBAAc;;;KAHpB"}},
    {"offset": {"line": 4308, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 4314, "column": 0}, "map": {"version":3,"sources":["file://C%3A/TextOr/src/components/editor/blocks/ListBlock.tsx"],"sourcesContent":["\"use client\";\n\nimport { useCallback } from \"react\";\nimport { useEditorStore } from \"@/stores\";\nimport type { Block, ListItem, ListStyle } from \"@/types\";\nimport { cn, createListItem } from \"@/lib\";\nimport { Plus, Trash2 } from \"lucide-react\";\n\ninterface ListBlockProps {\n  block: Block<\"list\">;\n}\n\nexport function ListBlock({ block }: ListBlockProps) {\n  const updateBlock = useEditorStore((state) => state.updateBlock);\n  const pushToHistory = useEditorStore((state) => state.pushToHistory);\n\n  const { style, items } = block.data;\n\n  const handleItemChange = useCallback(\n    (itemId: string, text: string) => {\n      const newItems = items.map((item) =>\n        item.id === itemId\n          ? { ...item, content: [{ text }] }\n          : item\n      );\n      updateBlock<\"list\">(block.id, { items: newItems });\n    },\n    [block.id, items, updateBlock]\n  );\n\n  const handleCheckboxChange = useCallback(\n    (itemId: string) => {\n      const newItems = items.map((item) =>\n        item.id === itemId\n          ? { ...item, checked: !item.checked }\n          : item\n      );\n      updateBlock<\"list\">(block.id, { items: newItems });\n    },\n    [block.id, items, updateBlock]\n  );\n\n  const handleAddItem = useCallback(\n    (afterItemId?: string) => {\n      pushToHistory(\"Add list item\");\n      const newItem = createListItem(\"\", style === \"checkbox\" ? false : undefined);\n\n      let newItems: ListItem[];\n      if (afterItemId) {\n        const index = items.findIndex((item) => item.id === afterItemId);\n        newItems = [...items];\n        newItems.splice(index + 1, 0, newItem);\n      } else {\n        newItems = [...items, newItem];\n      }\n\n      updateBlock<\"list\">(block.id, { items: newItems });\n    },\n    [block.id, items, style, updateBlock, pushToHistory]\n  );\n\n  const handleDeleteItem = useCallback(\n    (itemId: string) => {\n      if (items.length <= 1) return;\n      pushToHistory(\"Delete list item\");\n      const newItems = items.filter((item) => item.id !== itemId);\n      updateBlock<\"list\">(block.id, { items: newItems });\n    },\n    [block.id, items, updateBlock, pushToHistory]\n  );\n\n  const handleKeyDown = useCallback(\n    (e: React.KeyboardEvent<HTMLInputElement>, itemId: string) => {\n      if (e.key === \"Enter\") {\n        e.preventDefault();\n        handleAddItem(itemId);\n      }\n      if (e.key === \"Backspace\") {\n        const item = items.find((i) => i.id === itemId);\n        if (item && item.content[0]?.text === \"\" && items.length > 1) {\n          e.preventDefault();\n          handleDeleteItem(itemId);\n        }\n      }\n    },\n    [items, handleAddItem, handleDeleteItem]\n  );\n\n  const handleStyleChange = useCallback(\n    (e: React.ChangeEvent<HTMLSelectElement>) => {\n      pushToHistory(\"Change list style\");\n      const newStyle = e.target.value as ListStyle;\n      const newItems = items.map((item) => ({\n        ...item,\n        checked: newStyle === \"checkbox\" ? false : undefined,\n      }));\n      updateBlock<\"list\">(block.id, { style: newStyle, items: newItems });\n    },\n    [block.id, items, updateBlock, pushToHistory]\n  );\n\n  const renderListMarker = (index: number) => {\n    switch (style) {\n      case \"bullet\":\n        return <span className=\"mr-2 text-editor-muted\">‚Ä¢</span>;\n      case \"numbered\":\n        return <span className=\"mr-2 text-editor-muted\">{index + 1}.</span>;\n      case \"checkbox\":\n        return null;\n      default:\n        return null;\n    }\n  };\n\n  return (\n    <div className=\"my-2\">\n      <div className=\"mb-2\">\n        <select\n          value={style}\n          onChange={handleStyleChange}\n          className=\"rounded bg-transparent text-xs text-editor-muted focus:outline-none focus:ring-1 focus:ring-editor-accent\"\n          aria-label=\"List style\"\n        >\n          <option value=\"bullet\">Bullet</option>\n          <option value=\"numbered\">Numbered</option>\n          <option value=\"checkbox\">Checkbox</option>\n        </select>\n      </div>\n\n      <ul className=\"space-y-1\">\n        {items.map((item, index) => (\n          <li\n            key={item.id}\n            className=\"group flex items-center gap-2\"\n          >\n            {style === \"checkbox\" ? (\n              <input\n                type=\"checkbox\"\n                checked={item.checked ?? false}\n                onChange={() => handleCheckboxChange(item.id)}\n                className=\"h-4 w-4 rounded border-editor-border text-editor-accent focus:ring-editor-accent\"\n                aria-label={`Checkbox for item ${index + 1}`}\n              />\n            ) : (\n              renderListMarker(index)\n            )}\n\n            <input\n              type=\"text\"\n              value={item.content.map((s) => s.text).join(\"\")}\n              onChange={(e) => handleItemChange(item.id, e.target.value)}\n              onKeyDown={(e) => handleKeyDown(e, item.id)}\n              className={cn(\n                \"flex-1 bg-transparent outline-none\",\n                style === \"checkbox\" && item.checked && \"text-editor-muted line-through\"\n              )}\n              placeholder=\"List item...\"\n              aria-label={`List item ${index + 1}`}\n            />\n\n            <button\n              onClick={() => handleDeleteItem(item.id)}\n              disabled={items.length <= 1}\n              className=\"opacity-0 group-hover:opacity-50 hover:opacity-100 disabled:hidden\"\n              title=\"Delete item\"\n            >\n              <Trash2 className=\"h-3 w-3 text-red-400\" />\n            </button>\n          </li>\n        ))}\n      </ul>\n\n      <button\n        onClick={() => handleAddItem()}\n        className={cn(\n          \"mt-2 flex items-center gap-1 text-sm text-editor-muted\",\n          \"hover:text-editor-text transition-colors duration-150\"\n        )}\n      >\n        <Plus className=\"h-4 w-4\" />\n        <span>Add item</span>\n      </button>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 4644, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 4650, "column": 0}, "map": {"version":3,"sources":["file://C%3A/TextOr/src/components/editor/blocks/BlockWrapper.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState } from \"react\";\nimport { useEditorStore } from \"@/stores\";\nimport { useI18n } from \"@/hooks\";\nimport type { Block } from \"@/types\";\nimport { cn } from \"@/lib\";\nimport {\n  GripVertical,\n  Plus,\n  Trash2,\n  Copy,\n  ChevronUp,\n  ChevronDown,\n} from \"lucide-react\";\n\ninterface BlockWrapperProps {\n  block: Block;\n  index: number;\n  isFocused: boolean;\n  children: React.ReactNode;\n}\n\nexport function BlockWrapper({\n  block,\n  index,\n  isFocused,\n  children,\n}: BlockWrapperProps) {\n  const { t } = useI18n();\n  const [isHovered, setIsHovered] = useState(false);\n  const setFocusedBlock = useEditorStore((state) => state.setFocusedBlock);\n  const addBlock = useEditorStore((state) => state.addBlock);\n  const deleteBlock = useEditorStore((state) => state.deleteBlock);\n  const duplicateBlock = useEditorStore((state) => state.duplicateBlock);\n  const moveBlock = useEditorStore((state) => state.moveBlock);\n  const document = useEditorStore((state) => state.document);\n  const pushToHistory = useEditorStore((state) => state.pushToHistory);\n\n  const handleFocus = () => {\n    setFocusedBlock(block.id);\n  };\n\n  const handleAddBlock = () => {\n    pushToHistory(\"Add block\");\n    addBlock(\"paragraph\", block.id);\n  };\n\n  const handleDelete = () => {\n    pushToHistory(\"Delete block\");\n    deleteBlock(block.id);\n  };\n\n  const handleDuplicate = () => {\n    pushToHistory(\"Duplicate block\");\n    duplicateBlock(block.id);\n  };\n\n  const handleMoveUp = () => {\n    if (index > 0) {\n      pushToHistory(\"Move block up\");\n      moveBlock(block.id, index - 1);\n    }\n  };\n\n  const handleMoveDown = () => {\n    if (index < document.blocks.length - 1) {\n      pushToHistory(\"Move block down\");\n      moveBlock(block.id, index + 1);\n    }\n  };\n\n  return (\n    <div\n      className={cn(\n        \"editor-block group relative\",\n        isFocused && \"focused\"\n      )}\n      onMouseEnter={() => setIsHovered(true)}\n      onMouseLeave={() => setIsHovered(false)}\n      onFocus={handleFocus}\n    >\n      <div\n        className={cn(\n          \"absolute -left-12 top-0 flex items-center gap-1 opacity-0 transition-opacity\",\n          isHovered && \"opacity-100\"\n        )}\n      >\n        <button\n          onClick={handleAddBlock}\n          className=\"flex h-6 w-6 items-center justify-center rounded text-editor-muted hover:bg-editor-hover hover:text-editor-text\"\n          title=\"Add block\"\n          aria-label=\"Add block below\"\n        >\n          <Plus className=\"h-4 w-4\" />\n        </button>\n        <button\n          className=\"flex h-6 w-6 cursor-grab items-center justify-center rounded text-editor-muted hover:bg-editor-hover hover:text-editor-text\"\n          title=\"Drag to reorder\"\n          aria-label=\"Drag handle\"\n        >\n          <GripVertical className=\"h-4 w-4\" />\n        </button>\n      </div>\n\n      <div\n        className={cn(\n          \"absolute -right-28 top-0 flex items-center gap-1 opacity-0 transition-opacity\",\n          isHovered && \"opacity-100\"\n        )}\n      >\n        <button\n          onClick={handleMoveUp}\n          disabled={index === 0}\n          className=\"flex h-6 w-6 items-center justify-center rounded text-editor-muted hover:bg-editor-hover hover:text-editor-text disabled:opacity-30\"\n          title={t.actions.moveUp}\n          aria-label={t.actions.moveUp}\n        >\n          <ChevronUp className=\"h-4 w-4\" />\n        </button>\n        <button\n          onClick={handleMoveDown}\n          disabled={index === document.blocks.length - 1}\n          className=\"flex h-6 w-6 items-center justify-center rounded text-editor-muted hover:bg-editor-hover hover:text-editor-text disabled:opacity-30\"\n          title={t.actions.moveDown}\n          aria-label={t.actions.moveDown}\n        >\n          <ChevronDown className=\"h-4 w-4\" />\n        </button>\n        <button\n          onClick={handleDuplicate}\n          className=\"flex h-6 w-6 items-center justify-center rounded text-editor-muted hover:bg-editor-hover hover:text-editor-text\"\n          title={t.actions.duplicate}\n          aria-label={t.actions.duplicate}\n        >\n          <Copy className=\"h-4 w-4\" />\n        </button>\n        <button\n          onClick={handleDelete}\n          disabled={document.blocks.length <= 1}\n          className=\"flex h-6 w-6 items-center justify-center rounded text-red-400 hover:bg-red-50 hover:text-red-600 disabled:opacity-30 dark:hover:bg-red-900/20\"\n          title={t.actions.delete}\n          aria-label={t.actions.delete}\n        >\n          <Trash2 className=\"h-4 w-4\" />\n        </button>\n      </div>\n\n      <div className=\"px-2 py-1\">{children}</div>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 4888, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 4894, "column": 0}, "map": {"version":3,"sources":["file://C%3A/TextOr/src/components/editor/BlockRenderer.tsx"],"sourcesContent":["\"use client\";\n\nimport type { Block } from \"@/types\";\nimport { ParagraphBlock } from \"./blocks/ParagraphBlock\";\nimport { HeadingBlock } from \"./blocks/HeadingBlock\";\nimport { CodeBlock } from \"./blocks/CodeBlock\";\nimport { TableBlock } from \"./blocks/TableBlock\";\nimport { CalloutBlock } from \"./blocks/CalloutBlock\";\nimport { EmbedBlock } from \"./blocks/EmbedBlock\";\nimport { DividerBlock } from \"./blocks/DividerBlock\";\nimport { QuoteBlock } from \"./blocks/QuoteBlock\";\nimport { ListBlock } from \"./blocks/ListBlock\";\nimport { BlockWrapper } from \"./blocks/BlockWrapper\";\n\ninterface BlockRendererProps {\n  block: Block;\n  index: number;\n  isFocused: boolean;\n}\n\nexport function BlockRenderer({ block, index, isFocused }: BlockRendererProps) {\n  const renderBlock = () => {\n    switch (block.type) {\n      case \"paragraph\":\n        return <ParagraphBlock block={block as Block<\"paragraph\">} />;\n      case \"heading\":\n        return <HeadingBlock block={block as Block<\"heading\">} />;\n      case \"code\":\n        return <CodeBlock block={block as Block<\"code\">} />;\n      case \"table\":\n        return <TableBlock block={block as Block<\"table\">} />;\n      case \"callout\":\n        return <CalloutBlock block={block as Block<\"callout\">} />;\n      case \"embed\":\n        return <EmbedBlock block={block as Block<\"embed\">} />;\n      case \"divider\":\n        return <DividerBlock block={block as Block<\"divider\">} />;\n      case \"quote\":\n        return <QuoteBlock block={block as Block<\"quote\">} />;\n      case \"list\":\n        return <ListBlock block={block as Block<\"list\">} />;\n      default:\n        return null;\n    }\n  };\n\n  return (\n    <BlockWrapper block={block} index={index} isFocused={isFocused}>\n      {renderBlock()}\n    </BlockWrapper>\n  );\n}\n"],"names":[],"mappings":";;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAZA;;;;;;;;;;;;AAoBO,SAAS,cAAc,EAAE,KAAK,EAAE,KAAK,EAAE,SAAS,EAAsB;IAC3E,MAAM,cAAc;QAClB,OAAQ,MAAM,IAAI;YAChB,KAAK;gBACH,qBAAO,6LAAC,2JAAA,CAAA,iBAAc;oBAAC,OAAO;;;;;;YAChC,KAAK;gBACH,qBAAO,6LAAC,yJAAA,CAAA,eAAY;oBAAC,OAAO;;;;;;YAC9B,KAAK;gBACH,qBAAO,6LAAC,sJAAA,CAAA,YAAS;oBAAC,OAAO;;;;;;YAC3B,KAAK;gBACH,qBAAO,6LAAC,uJAAA,CAAA,aAAU;oBAAC,OAAO;;;;;;YAC5B,KAAK;gBACH,qBAAO,6LAAC,yJAAA,CAAA,eAAY;oBAAC,OAAO;;;;;;YAC9B,KAAK;gBACH,qBAAO,6LAAC,uJAAA,CAAA,aAAU;oBAAC,OAAO;;;;;;YAC5B,KAAK;gBACH,qBAAO,6LAAC,yJAAA,CAAA,eAAY;oBAAC,OAAO;;;;;;YAC9B,KAAK;gBACH,qBAAO,6LAAC,uJAAA,CAAA,aAAU;oBAAC,OAAO;;;;;;YAC5B,KAAK;gBACH,qBAAO,6LAAC,sJAAA,CAAA,YAAS;oBAAC,OAAO;;;;;;YAC3B;gBACE,OAAO;QACX;IACF;IAEA,qBACE,6LAAC,yJAAA,CAAA,eAAY;QAAC,OAAO;QAAO,OAAO;QAAO,WAAW;kBAClD;;;;;;AAGP;KA/BgB"}},
    {"offset": {"line": 5016, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 5022, "column": 0}, "map": {"version":3,"sources":["file://C%3A/TextOr/src/components/editor/SlashMenu.tsx"],"sourcesContent":["\"use client\";\n\nimport { useRef, useEffect, useMemo } from \"react\";\nimport { createPortal } from \"react-dom\";\nimport { useEditorStore } from \"@/stores\";\nimport { useI18n } from \"@/hooks\";\nimport { cn } from \"@/lib\";\nimport type { SlashCommand } from \"@/types\";\nimport {\n  Type,\n  Heading1,\n  Heading2,\n  Heading3,\n  Code2,\n  Table,\n  Info,\n  AlertTriangle,\n  Lightbulb,\n  AlertOctagon,\n  Quote,\n  List,\n  ListOrdered,\n  CheckSquare,\n  Minus,\n  Video,\n} from \"lucide-react\";\n\nexport function SlashMenu() {\n  const { t } = useI18n();\n  const slashMenu = useEditorStore((state) => state.slashMenu);\n  const closeSlashMenu = useEditorStore((state) => state.closeSlashMenu);\n  const addBlock = useEditorStore((state) => state.addBlock);\n  const deleteBlock = useEditorStore((state) => state.deleteBlock);\n  const setSlashMenuSelectedIndex = useEditorStore(\n    (state) => state.setSlashMenuSelectedIndex\n  );\n  const menuRef = useRef<HTMLDivElement>(null);\n\n  const commands: SlashCommand[] = useMemo(\n    () => [\n      {\n        id: \"paragraph\",\n        label: t.slashMenu.commands.paragraph.label,\n        description: t.slashMenu.commands.paragraph.description,\n        icon: \"Type\",\n        keywords: [\"paragraph\", \"text\", \"p\", \"p√°rrafo\"],\n        blockType: \"paragraph\",\n      },\n      {\n        id: \"heading1\",\n        label: t.slashMenu.commands.heading1.label,\n        description: t.slashMenu.commands.heading1.description,\n        icon: \"Heading1\",\n        keywords: [\"heading\", \"h1\", \"title\", \"encabezado\", \"t√≠tulo\"],\n        blockType: \"heading\",\n      },\n      {\n        id: \"heading2\",\n        label: t.slashMenu.commands.heading2.label,\n        description: t.slashMenu.commands.heading2.description,\n        icon: \"Heading2\",\n        keywords: [\"heading\", \"h2\", \"subtitle\", \"encabezado\", \"subt√≠tulo\"],\n        blockType: \"heading\",\n      },\n      {\n        id: \"heading3\",\n        label: t.slashMenu.commands.heading3.label,\n        description: t.slashMenu.commands.heading3.description,\n        icon: \"Heading3\",\n        keywords: [\"heading\", \"h3\", \"encabezado\"],\n        blockType: \"heading\",\n      },\n      {\n        id: \"code\",\n        label: t.slashMenu.commands.code.label,\n        description: t.slashMenu.commands.code.description,\n        icon: \"Code2\",\n        keywords: [\"code\", \"javascript\", \"python\", \"c√≥digo\", \"programaci√≥n\"],\n        blockType: \"code\",\n      },\n      {\n        id: \"table\",\n        label: t.slashMenu.commands.table.label,\n        description: t.slashMenu.commands.table.description,\n        icon: \"Table\",\n        keywords: [\"table\", \"grid\", \"tabla\", \"columnas\"],\n        blockType: \"table\",\n      },\n      {\n        id: \"callout-info\",\n        label: t.slashMenu.commands.calloutInfo.label,\n        description: t.slashMenu.commands.calloutInfo.description,\n        icon: \"Info\",\n        keywords: [\"callout\", \"info\", \"notice\", \"informaci√≥n\", \"aviso\"],\n        blockType: \"callout\",\n      },\n      {\n        id: \"callout-warning\",\n        label: t.slashMenu.commands.calloutWarning.label,\n        description: t.slashMenu.commands.calloutWarning.description,\n        icon: \"AlertTriangle\",\n        keywords: [\"callout\", \"warning\", \"alert\", \"advertencia\", \"alerta\"],\n        blockType: \"callout\",\n      },\n      {\n        id: \"callout-tip\",\n        label: t.slashMenu.commands.calloutTip.label,\n        description: t.slashMenu.commands.calloutTip.description,\n        icon: \"Lightbulb\",\n        keywords: [\"callout\", \"tip\", \"hint\", \"consejo\", \"sugerencia\"],\n        blockType: \"callout\",\n      },\n      {\n        id: \"callout-danger\",\n        label: t.slashMenu.commands.calloutDanger.label,\n        description: t.slashMenu.commands.calloutDanger.description,\n        icon: \"AlertOctagon\",\n        keywords: [\"callout\", \"danger\", \"error\", \"peligro\", \"cr√≠tico\"],\n        blockType: \"callout\",\n      },\n      {\n        id: \"quote\",\n        label: t.slashMenu.commands.quote.label,\n        description: t.slashMenu.commands.quote.description,\n        icon: \"Quote\",\n        keywords: [\"quote\", \"blockquote\", \"cita\", \"frase\"],\n        blockType: \"quote\",\n      },\n      {\n        id: \"bullet-list\",\n        label: t.slashMenu.commands.bulletList.label,\n        description: t.slashMenu.commands.bulletList.description,\n        icon: \"List\",\n        keywords: [\"list\", \"bullet\", \"unordered\", \"lista\", \"vi√±etas\"],\n        blockType: \"list\",\n      },\n      {\n        id: \"numbered-list\",\n        label: t.slashMenu.commands.numberedList.label,\n        description: t.slashMenu.commands.numberedList.description,\n        icon: \"ListOrdered\",\n        keywords: [\"list\", \"numbered\", \"ordered\", \"lista\", \"numerada\"],\n        blockType: \"list\",\n      },\n      {\n        id: \"checkbox-list\",\n        label: t.slashMenu.commands.checkboxList.label,\n        description: t.slashMenu.commands.checkboxList.description,\n        icon: \"CheckSquare\",\n        keywords: [\"list\", \"checkbox\", \"todo\", \"task\", \"tareas\"],\n        blockType: \"list\",\n      },\n      {\n        id: \"divider\",\n        label: t.slashMenu.commands.divider.label,\n        description: t.slashMenu.commands.divider.description,\n        icon: \"Minus\",\n        keywords: [\"divider\", \"separator\", \"hr\", \"divisor\", \"separador\"],\n        blockType: \"divider\",\n      },\n      {\n        id: \"embed\",\n        label: t.slashMenu.commands.embed.label,\n        description: t.slashMenu.commands.embed.description,\n        icon: \"Video\",\n        keywords: [\"embed\", \"youtube\", \"video\", \"spotify\", \"twitter\", \"insertar\"],\n        blockType: \"embed\",\n      },\n    ],\n    [t]\n  );\n\n  const getIcon = (iconName: string) => {\n    const icons: Record<string, React.ComponentType<{ className?: string }>> = {\n      Type,\n      Heading1,\n      Heading2,\n      Heading3,\n      Code2,\n      Table,\n      Info,\n      AlertTriangle,\n      Lightbulb,\n      AlertOctagon,\n      Quote,\n      List,\n      ListOrdered,\n      CheckSquare,\n      Minus,\n      Video,\n    };\n    const Icon = icons[iconName];\n    return Icon ? <Icon className=\"h-5 w-5\" /> : null;\n  };\n\n  const filteredCommands = useMemo(() => {\n    if (!slashMenu.query) return commands;\n    const query = slashMenu.query.toLowerCase();\n    return commands.filter(\n      (cmd) =>\n        cmd.label.toLowerCase().includes(query) ||\n        cmd.keywords.some((kw) => kw.includes(query))\n    );\n  }, [commands, slashMenu.query]);\n\n  useEffect(() => {\n    const handleKeyDown = (e: KeyboardEvent) => {\n      if (!slashMenu.isOpen) return;\n\n      switch (e.key) {\n        case \"ArrowDown\":\n          e.preventDefault();\n          setSlashMenuSelectedIndex(\n            (slashMenu.selectedIndex + 1) % filteredCommands.length\n          );\n          break;\n        case \"ArrowUp\":\n          e.preventDefault();\n          setSlashMenuSelectedIndex(\n            slashMenu.selectedIndex === 0\n              ? filteredCommands.length - 1\n              : slashMenu.selectedIndex - 1\n          );\n          break;\n        case \"Enter\":\n          e.preventDefault();\n          const selectedCommand = filteredCommands[slashMenu.selectedIndex];\n          if (selectedCommand) {\n            handleCommandSelect(selectedCommand);\n          }\n          break;\n        case \"Escape\":\n          e.preventDefault();\n          closeSlashMenu();\n          break;\n      }\n    };\n\n    window.addEventListener(\"keydown\", handleKeyDown);\n    return () => window.removeEventListener(\"keydown\", handleKeyDown);\n  }, [slashMenu, filteredCommands, setSlashMenuSelectedIndex, closeSlashMenu]);\n\n  const handleCommandSelect = (command: SlashCommand) => {\n    if (slashMenu.triggerBlockId) {\n      deleteBlock(slashMenu.triggerBlockId);\n    }\n    addBlock(command.blockType);\n    closeSlashMenu();\n  };\n\n  if (!slashMenu.isOpen) return null;\n\n  return createPortal(\n    <div\n      ref={menuRef}\n      className=\"slash-menu\"\n      style={{\n        top: slashMenu.position.y,\n        left: slashMenu.position.x,\n      }}\n      role=\"listbox\"\n      aria-label={t.slashMenu.title}\n    >\n      <div className=\"mb-2 px-3 py-1 text-xs font-semibold text-editor-muted\">\n        {t.slashMenu.title}\n      </div>\n      <div className=\"max-h-80 overflow-y-auto scrollbar-thin\">\n        {filteredCommands.length === 0 ? (\n          <div className=\"px-3 py-4 text-center text-sm text-editor-muted\">\n            {t.slashMenu.noResults}\n          </div>\n        ) : (\n          filteredCommands.map((command, index) => (\n            <div\n              key={command.id}\n              className={cn(\n                \"slash-menu-item\",\n                index === slashMenu.selectedIndex && \"selected\"\n              )}\n              onClick={() => handleCommandSelect(command)}\n              role=\"option\"\n              aria-selected={index === slashMenu.selectedIndex}\n            >\n              <div className=\"flex h-8 w-8 items-center justify-center rounded-md bg-editor-hover text-editor-muted\">\n                {getIcon(command.icon)}\n              </div>\n              <div className=\"flex flex-col\">\n                <span className=\"text-sm font-medium\">{command.label}</span>\n                <span className=\"text-xs text-editor-muted\">\n                  {command.description}\n                </span>\n              </div>\n            </div>\n          ))\n        )}\n      </div>\n    </div>,\n    document.body\n  );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 5493, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 5499, "column": 0}, "map": {"version":3,"sources":["file://C%3A/TextOr/src/components/editor/EmojiPicker.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useRef, useEffect, useState, useMemo } from \"react\";\r\nimport { createPortal } from \"react-dom\";\r\nimport { useEditorStore } from \"@/stores\";\r\nimport { cn } from \"@/lib\";\r\n\r\ninterface EmojiData {\r\n  emoji: string;\r\n  name: string;\r\n  keywords: string[];\r\n}\r\n\r\nconst COMMON_EMOJIS: EmojiData[] = [\r\n  { emoji: \"üòÄ\", name: \"grinning face\", keywords: [\"happy\", \"smile\", \"feliz\"] },\r\n  { emoji: \"üòÇ\", name: \"face with tears of joy\", keywords: [\"laugh\", \"funny\", \"lol\", \"risa\"] },\r\n  { emoji: \"üòç\", name: \"smiling face with heart-eyes\", keywords: [\"love\", \"heart\", \"amor\"] },\r\n  { emoji: \"ü§î\", name: \"thinking face\", keywords: [\"think\", \"hmm\", \"pensando\"] },\r\n  { emoji: \"üëç\", name: \"thumbs up\", keywords: [\"ok\", \"good\", \"yes\", \"bien\"] },\r\n  { emoji: \"üëé\", name: \"thumbs down\", keywords: [\"bad\", \"no\", \"mal\"] },\r\n  { emoji: \"‚ù§Ô∏è\", name: \"red heart\", keywords: [\"love\", \"heart\", \"coraz√≥n\", \"amor\"] },\r\n  { emoji: \"üî•\", name: \"fire\", keywords: [\"hot\", \"lit\", \"fuego\"] },\r\n  { emoji: \"‚ú®\", name: \"sparkles\", keywords: [\"magic\", \"stars\", \"brillos\"] },\r\n  { emoji: \"üéâ\", name: \"party popper\", keywords: [\"party\", \"celebrate\", \"fiesta\"] },\r\n  { emoji: \"üí°\", name: \"light bulb\", keywords: [\"idea\", \"think\", \"bombilla\"] },\r\n  { emoji: \"‚ö†Ô∏è\", name: \"warning\", keywords: [\"warning\", \"alert\", \"advertencia\"] },\r\n  { emoji: \"‚úÖ\", name: \"check mark\", keywords: [\"done\", \"complete\", \"check\", \"listo\"] },\r\n  { emoji: \"‚ùå\", name: \"cross mark\", keywords: [\"no\", \"wrong\", \"error\", \"cruz\"] },\r\n  { emoji: \"üìù\", name: \"memo\", keywords: [\"note\", \"write\", \"nota\", \"escribir\"] },\r\n  { emoji: \"üìé\", name: \"paperclip\", keywords: [\"attach\", \"clip\", \"adjunto\"] },\r\n  { emoji: \"üîó\", name: \"link\", keywords: [\"link\", \"url\", \"enlace\"] },\r\n  { emoji: \"üìå\", name: \"pushpin\", keywords: [\"pin\", \"important\", \"chincheta\"] },\r\n  { emoji: \"üöÄ\", name: \"rocket\", keywords: [\"fast\", \"launch\", \"cohete\"] },\r\n  { emoji: \"üíª\", name: \"laptop\", keywords: [\"computer\", \"code\", \"computadora\"] },\r\n  { emoji: \"üê∂\", name: \"dog face\", keywords: [\"dog\", \"puppy\", \"perro\"] },\r\n  { emoji: \"üê±\", name: \"cat face\", keywords: [\"cat\", \"kitty\", \"gato\"] },\r\n  { emoji: \"üåü\", name: \"glowing star\", keywords: [\"star\", \"shine\", \"estrella\"] },\r\n  { emoji: \"üåà\", name: \"rainbow\", keywords: [\"rainbow\", \"colors\", \"arco√≠ris\"] },\r\n  { emoji: \"‚òÄÔ∏è\", name: \"sun\", keywords: [\"sun\", \"sunny\", \"sol\"] },\r\n  { emoji: \"üåô\", name: \"moon\", keywords: [\"moon\", \"night\", \"luna\"] },\r\n  { emoji: \"‚≠ê\", name: \"star\", keywords: [\"star\", \"favorite\", \"estrella\"] },\r\n  { emoji: \"üí™\", name: \"flexed biceps\", keywords: [\"strong\", \"power\", \"fuerza\"] },\r\n  { emoji: \"üôè\", name: \"folded hands\", keywords: [\"please\", \"thanks\", \"pray\", \"gracias\"] },\r\n  { emoji: \"üëã\", name: \"waving hand\", keywords: [\"wave\", \"hello\", \"bye\", \"hola\", \"adi√≥s\"] },\r\n];\r\n\r\nexport function EmojiPicker() {\r\n  const emojiPicker = useEditorStore((state) => state.emojiPicker);\r\n  const closeEmojiPicker = useEditorStore((state) => state.closeEmojiPicker);\r\n  const updateBlock = useEditorStore((state) => state.updateBlock);\r\n  const getBlockById = useEditorStore((state) => state.getBlockById);\r\n  const pickerRef = useRef<HTMLDivElement>(null);\r\n  const [selectedIndex, setSelectedIndex] = useState(0);\r\n\r\n  const filteredEmojis = useMemo(() => {\r\n    if (!emojiPicker.query || emojiPicker.query.length < 2) {\r\n      return COMMON_EMOJIS;\r\n    }\r\n    const query = emojiPicker.query.toLowerCase();\r\n    return COMMON_EMOJIS.filter(\r\n      (e) =>\r\n        e.name.includes(query) || e.keywords.some((kw) => kw.includes(query))\r\n    );\r\n  }, [emojiPicker.query]);\r\n\r\n  useEffect(() => {\r\n    setSelectedIndex(0);\r\n  }, [emojiPicker.query]);\r\n\r\n  useEffect(() => {\r\n    const handleKeyDown = (e: KeyboardEvent) => {\r\n      if (!emojiPicker.isOpen) return;\r\n\r\n      switch (e.key) {\r\n        case \"ArrowRight\":\r\n          e.preventDefault();\r\n          setSelectedIndex((prev) => (prev + 1) % filteredEmojis.length);\r\n          break;\r\n        case \"ArrowLeft\":\r\n          e.preventDefault();\r\n          setSelectedIndex((prev) =>\r\n            prev === 0 ? filteredEmojis.length - 1 : prev - 1\r\n          );\r\n          break;\r\n        case \"ArrowDown\":\r\n          e.preventDefault();\r\n          setSelectedIndex((prev) =>\r\n            Math.min(prev + 6, filteredEmojis.length - 1)\r\n          );\r\n          break;\r\n        case \"ArrowUp\":\r\n          e.preventDefault();\r\n          setSelectedIndex((prev) => Math.max(prev - 6, 0));\r\n          break;\r\n        case \"Enter\":\r\n          e.preventDefault();\r\n          const selected = filteredEmojis[selectedIndex];\r\n          if (selected) {\r\n            handleEmojiSelect(selected.emoji);\r\n          }\r\n          break;\r\n        case \"Escape\":\r\n          e.preventDefault();\r\n          closeEmojiPicker();\r\n          break;\r\n      }\r\n    };\r\n\r\n    window.addEventListener(\"keydown\", handleKeyDown);\r\n    return () => window.removeEventListener(\"keydown\", handleKeyDown);\r\n  }, [emojiPicker.isOpen, filteredEmojis, selectedIndex, closeEmojiPicker]);\r\n\r\n  const handleEmojiSelect = (emoji: string) => {\r\n    if (emojiPicker.triggerBlockId) {\r\n      const block = getBlockById(emojiPicker.triggerBlockId);\r\n      if (block && \"content\" in block.data) {\r\n        const currentContent = block.data.content as Array<{ text: string }>;\r\n        const newText =\r\n          currentContent\r\n            .map((s) => s.text)\r\n            .join(\"\")\r\n            .replace(/:[\\w]*$/, \"\") + emoji;\r\n        updateBlock(block.id, {\r\n          content: [{ text: newText }],\r\n        });\r\n      }\r\n    }\r\n    closeEmojiPicker();\r\n  };\r\n\r\n  useEffect(() => {\r\n    const handleClickOutside = (e: MouseEvent) => {\r\n      if (\r\n        pickerRef.current &&\r\n        !pickerRef.current.contains(e.target as Node)\r\n      ) {\r\n        closeEmojiPicker();\r\n      }\r\n    };\r\n\r\n    if (emojiPicker.isOpen) {\r\n      document.addEventListener(\"mousedown\", handleClickOutside);\r\n    }\r\n\r\n    return () => {\r\n      document.removeEventListener(\"mousedown\", handleClickOutside);\r\n    };\r\n  }, [emojiPicker.isOpen, closeEmojiPicker]);\r\n\r\n  if (!emojiPicker.isOpen) return null;\r\n\r\n  return createPortal(\r\n    <div\r\n      ref={pickerRef}\r\n      className=\"emoji-picker\"\r\n      style={{\r\n        top: emojiPicker.position.y,\r\n        left: emojiPicker.position.x,\r\n        maxWidth: \"280px\",\r\n      }}\r\n    >\r\n      <div className=\"grid grid-cols-6 gap-1\">\r\n        {filteredEmojis.map((emojiData, index) => (\r\n          <button\r\n            key={emojiData.emoji}\r\n            onClick={() => handleEmojiSelect(emojiData.emoji)}\r\n            className={cn(\r\n              \"flex h-8 w-8 items-center justify-center rounded-md text-lg\",\r\n              \"hover:bg-editor-hover\",\r\n              \"transition-colors duration-150\",\r\n              index === selectedIndex && \"bg-editor-accent/20 ring-2 ring-editor-accent\"\r\n            )}\r\n            title={emojiData.name}\r\n          >\r\n            {emojiData.emoji}\r\n          </button>\r\n        ))}\r\n      </div>\r\n      {filteredEmojis.length === 0 && (\r\n        <div className=\"p-4 text-center text-sm text-editor-muted\">\r\n          No emojis found\r\n        </div>\r\n      )}\r\n    </div>,\r\n    document.body\r\n  );\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 5985, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 5991, "column": 0}, "map": {"version":3,"sources":["file://C%3A/TextOr/src/components/editor/Editor.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useEditorStore } from \"@/stores\";\r\nimport { BlockRenderer } from \"./BlockRenderer\";\r\nimport { SlashMenu } from \"./SlashMenu\";\r\nimport { EmojiPicker } from \"./EmojiPicker\";\r\nimport { cn } from \"@/lib\";\r\n\r\nexport function Editor() {\r\n  const document = useEditorStore((state) => state.document);\r\n  const focusMode = useEditorStore((state) => state.focusMode);\r\n  const addBlock = useEditorStore((state) => state.addBlock);\r\n\r\n  const handleEditorClick = (e: React.MouseEvent) => {\r\n    if (e.target === e.currentTarget) {\r\n      const lastBlock = document.blocks[document.blocks.length - 1];\r\n      if (lastBlock && lastBlock.type !== \"paragraph\") {\r\n        addBlock(\"paragraph\");\r\n      }\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div\r\n      className={cn(\r\n        \"relative min-h-[70vh] pb-32\",\r\n        focusMode.isActive && \"focus-mode-active\"\r\n      )}\r\n      onClick={handleEditorClick}\r\n    >\r\n      {focusMode.isActive && <div className=\"focus-mode-overlay\" />}\r\n\r\n      <div className=\"space-y-1\">\r\n        {document.blocks.map((block, index) => (\r\n          <BlockRenderer\r\n            key={block.id}\r\n            block={block}\r\n            index={index}\r\n            isFocused={\r\n              focusMode.isActive\r\n                ? focusMode.focusedBlockId === block.id\r\n                : false\r\n            }\r\n          />\r\n        ))}\r\n      </div>\r\n\r\n      <SlashMenu />\r\n      <EmojiPicker />\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;AAEA;AACA;AACA;AACA;AACA;AAJA;AAIA;;;AANA;;;;;;AAQO,SAAS;;IACd,MAAM,WAAW,CAAA,GAAA,+HAAA,CAAA,iBAAc,AAAD;2CAAE,CAAC,QAAU,MAAM,QAAQ;;IACzD,MAAM,YAAY,CAAA,GAAA,+HAAA,CAAA,iBAAc,AAAD;4CAAE,CAAC,QAAU,MAAM,SAAS;;IAC3D,MAAM,WAAW,CAAA,GAAA,+HAAA,CAAA,iBAAc,AAAD;2CAAE,CAAC,QAAU,MAAM,QAAQ;;IAEzD,MAAM,oBAAoB,CAAC;QACzB,IAAI,EAAE,MAAM,KAAK,EAAE,aAAa,EAAE;YAChC,MAAM,YAAY,SAAS,MAAM,CAAC,SAAS,MAAM,CAAC,MAAM,GAAG,EAAE;YAC7D,IAAI,aAAa,UAAU,IAAI,KAAK,aAAa;gBAC/C,SAAS;YACX;QACF;IACF;IAEA,qBACE,6LAAC;QACC,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,+BACA,UAAU,QAAQ,IAAI;QAExB,SAAS;;YAER,UAAU,QAAQ,kBAAI,6LAAC;gBAAI,WAAU;;;;;;0BAEtC,6LAAC;gBAAI,WAAU;0BACZ,SAAS,MAAM,CAAC,GAAG,CAAC,CAAC,OAAO,sBAC3B,6LAAC,gJAAA,CAAA,gBAAa;wBAEZ,OAAO;wBACP,OAAO;wBACP,WACE,UAAU,QAAQ,GACd,UAAU,cAAc,KAAK,MAAM,EAAE,GACrC;uBAND,MAAM,EAAE;;;;;;;;;;0BAYnB,6LAAC,4IAAA,CAAA,YAAS;;;;;0BACV,6LAAC,8IAAA,CAAA,cAAW;;;;;;;;;;;AAGlB;GA3CgB;;QACG,+HAAA,CAAA,iBAAc;QACb,+HAAA,CAAA,iBAAc;QACf,+HAAA,CAAA,iBAAc;;;KAHjB"}},
    {"offset": {"line": 6086, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 6092, "column": 0}, "map": {"version":3,"sources":["file://C%3A/TextOr/src/components/ui/Button.tsx"],"sourcesContent":["\"use client\";\n\nimport React, { forwardRef } from \"react\";\nimport { cn } from \"@/lib\";\n\ninterface ButtonProps extends React.ButtonHTMLAttributes<HTMLButtonElement> {\n  variant?: \"default\" | \"ghost\" | \"outline\" | \"primary\" | \"danger\";\n  size?: \"sm\" | \"md\" | \"lg\" | \"icon\";\n}\n\nexport const Button = forwardRef<HTMLButtonElement, ButtonProps>(\n  ({ className, variant = \"default\", size = \"md\", ...props }, ref) => {\n    return (\n      <button\n        ref={ref}\n        className={cn(\n          \"inline-flex items-center justify-center rounded-md font-medium transition-colors\",\n          \"focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-editor-accent\",\n          \"disabled:pointer-events-none disabled:opacity-50\",\n          {\n            \"bg-editor-bg text-editor-text hover:bg-editor-hover\":\n              variant === \"default\",\n            \"bg-transparent text-editor-text hover:bg-editor-hover\":\n              variant === \"ghost\",\n            \"border border-editor-border bg-transparent text-editor-text hover:bg-editor-hover\":\n              variant === \"outline\",\n            \"bg-editor-accent text-white hover:bg-editor-accent/90\":\n              variant === \"primary\",\n            \"bg-red-500 text-white hover:bg-red-600\": variant === \"danger\",\n          },\n          {\n            \"h-8 px-3 text-xs\": size === \"sm\",\n            \"h-10 px-4 text-sm\": size === \"md\",\n            \"h-12 px-6 text-base\": size === \"lg\",\n            \"h-8 w-8 p-0\": size === \"icon\",\n          },\n          className\n        )}\n        {...props}\n      />\n    );\n  }\n);\n\nButton.displayName = \"Button\";\n"],"names":[],"mappings":";;;;AAEA;AACA;AAAA;AAHA;;;;AAUO,MAAM,uBAAS,CAAA,GAAA,6JAAA,CAAA,aAAU,AAAD,OAC7B,CAAC,EAAE,SAAS,EAAE,UAAU,SAAS,EAAE,OAAO,IAAI,EAAE,GAAG,OAAO,EAAE;IAC1D,qBACE,6LAAC;QACC,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,oFACA,oFACA,oDACA;YACE,uDACE,YAAY;YACd,yDACE,YAAY;YACd,qFACE,YAAY;YACd,yDACE,YAAY;YACd,0CAA0C,YAAY;QACxD,GACA;YACE,oBAAoB,SAAS;YAC7B,qBAAqB,SAAS;YAC9B,uBAAuB,SAAS;YAChC,eAAe,SAAS;QAC1B,GACA;QAED,GAAG,KAAK;;;;;;AAGf;;AAGF,OAAO,WAAW,GAAG"}},
    {"offset": {"line": 6133, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 6139, "column": 0}, "map": {"version":3,"sources":["file://C%3A/TextOr/src/components/ui/Input.tsx"],"sourcesContent":["\"use client\";\n\nimport React, { forwardRef } from \"react\";\nimport { cn } from \"@/lib\";\n\ninterface InputProps extends React.InputHTMLAttributes<HTMLInputElement> {\n  error?: boolean;\n}\n\nexport const Input = forwardRef<HTMLInputElement, InputProps>(\n  ({ className, error, ...props }, ref) => {\n    return (\n      <input\n        ref={ref}\n        className={cn(\n          \"flex w-full rounded-md border border-editor-border bg-editor-bg px-3 py-2\",\n          \"text-sm text-editor-text placeholder:text-editor-muted\",\n          \"focus:border-editor-accent focus:outline-none focus:ring-1 focus:ring-editor-accent\",\n          \"disabled:cursor-not-allowed disabled:opacity-50\",\n          error && \"border-red-500 focus:border-red-500 focus:ring-red-500\",\n          className\n        )}\n        {...props}\n      />\n    );\n  }\n);\n\nInput.displayName = \"Input\";\n"],"names":[],"mappings":";;;;AAEA;AACA;AAAA;AAHA;;;;AASO,MAAM,sBAAQ,CAAA,GAAA,6JAAA,CAAA,aAAU,AAAD,OAC5B,CAAC,EAAE,SAAS,EAAE,KAAK,EAAE,GAAG,OAAO,EAAE;IAC/B,qBACE,6LAAC;QACC,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,6EACA,0DACA,uFACA,mDACA,SAAS,0DACT;QAED,GAAG,KAAK;;;;;;AAGf;;AAGF,MAAM,WAAW,GAAG"}},
    {"offset": {"line": 6169, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 6175, "column": 0}, "map": {"version":3,"sources":["file://C%3A/TextOr/src/components/ui/Dropdown.tsx"],"sourcesContent":["\"use client\";\n\nimport { useEffect, useRef, useState } from \"react\";\nimport { createPortal } from \"react-dom\";\nimport { cn } from \"@/lib\";\n\ninterface DropdownProps {\n  trigger: React.ReactNode;\n  children: React.ReactNode;\n  align?: \"left\" | \"right\";\n}\n\nexport function Dropdown({ trigger, children, align = \"left\" }: DropdownProps) {\n  const [isOpen, setIsOpen] = useState(false);\n  const [position, setPosition] = useState({ top: 0, left: 0 });\n  const triggerRef = useRef<HTMLDivElement>(null);\n  const dropdownRef = useRef<HTMLDivElement>(null);\n\n  useEffect(() => {\n    const handleClickOutside = (event: MouseEvent) => {\n      if (\n        dropdownRef.current &&\n        !dropdownRef.current.contains(event.target as Node) &&\n        triggerRef.current &&\n        !triggerRef.current.contains(event.target as Node)\n      ) {\n        setIsOpen(false);\n      }\n    };\n\n    if (isOpen) {\n      document.addEventListener(\"mousedown\", handleClickOutside);\n    }\n\n    return () => {\n      document.removeEventListener(\"mousedown\", handleClickOutside);\n    };\n  }, [isOpen]);\n\n  const handleTriggerClick = () => {\n    if (triggerRef.current) {\n      const rect = triggerRef.current.getBoundingClientRect();\n      setPosition({\n        top: rect.bottom + 4,\n        left: align === \"right\" ? rect.right : rect.left,\n      });\n    }\n    setIsOpen(!isOpen);\n  };\n\n  return (\n    <>\n      <div ref={triggerRef} onClick={handleTriggerClick}>\n        {trigger}\n      </div>\n      {isOpen &&\n        createPortal(\n          <div\n            ref={dropdownRef}\n            style={{\n              position: \"fixed\",\n              top: position.top,\n              left: align === \"right\" ? \"auto\" : position.left,\n              right: align === \"right\" ? window.innerWidth - position.left : \"auto\",\n            }}\n            className={cn(\n              \"z-50 min-w-[180px] rounded-lg border border-editor-border\",\n              \"bg-editor-bg p-1 shadow-lg\",\n              \"animate-slide-up\"\n            )}\n          >\n            {children}\n          </div>,\n          document.body\n        )}\n    </>\n  );\n}\n\ninterface DropdownItemProps {\n  children: React.ReactNode;\n  icon?: React.ReactNode;\n  onClick?: () => void;\n  disabled?: boolean;\n  destructive?: boolean;\n}\n\nexport function DropdownItem({\n  children,\n  icon,\n  onClick,\n  disabled,\n  destructive,\n}: DropdownItemProps) {\n  return (\n    <button\n      onClick={onClick}\n      disabled={disabled}\n      className={cn(\n        \"flex w-full items-center gap-2 rounded-md px-3 py-2 text-sm\",\n        \"transition-colors duration-150\",\n        disabled && \"cursor-not-allowed opacity-50\",\n        destructive\n          ? \"text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20\"\n          : \"text-editor-text hover:bg-editor-hover\"\n      )}\n    >\n      {icon && <span className=\"h-4 w-4\">{icon}</span>}\n      {children}\n    </button>\n  );\n}\n\nexport function DropdownSeparator() {\n  return <div className=\"my-1 h-px bg-editor-border\" />;\n}\n"],"names":[],"mappings":";;;;;;AAEA;AACA;AACA;AAAA;;;AAJA;;;;AAYO,SAAS,SAAS,EAAE,OAAO,EAAE,QAAQ,EAAE,QAAQ,MAAM,EAAiB;;IAC3E,MAAM,CAAC,QAAQ,UAAU,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IACrC,MAAM,CAAC,UAAU,YAAY,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;QAAE,KAAK;QAAG,MAAM;IAAE;IAC3D,MAAM,aAAa,CAAA,GAAA,6JAAA,CAAA,SAAM,AAAD,EAAkB;IAC1C,MAAM,cAAc,CAAA,GAAA,6JAAA,CAAA,SAAM,AAAD,EAAkB;IAE3C,CAAA,GAAA,6JAAA,CAAA,YAAS,AAAD;8BAAE;YACR,MAAM;yDAAqB,CAAC;oBAC1B,IACE,YAAY,OAAO,IACnB,CAAC,YAAY,OAAO,CAAC,QAAQ,CAAC,MAAM,MAAM,KAC1C,WAAW,OAAO,IAClB,CAAC,WAAW,OAAO,CAAC,QAAQ,CAAC,MAAM,MAAM,GACzC;wBACA,UAAU;oBACZ;gBACF;;YAEA,IAAI,QAAQ;gBACV,SAAS,gBAAgB,CAAC,aAAa;YACzC;YAEA;sCAAO;oBACL,SAAS,mBAAmB,CAAC,aAAa;gBAC5C;;QACF;6BAAG;QAAC;KAAO;IAEX,MAAM,qBAAqB;QACzB,IAAI,WAAW,OAAO,EAAE;YACtB,MAAM,OAAO,WAAW,OAAO,CAAC,qBAAqB;YACrD,YAAY;gBACV,KAAK,KAAK,MAAM,GAAG;gBACnB,MAAM,UAAU,UAAU,KAAK,KAAK,GAAG,KAAK,IAAI;YAClD;QACF;QACA,UAAU,CAAC;IACb;IAEA,qBACE;;0BACE,6LAAC;gBAAI,KAAK;gBAAY,SAAS;0BAC5B;;;;;;YAEF,wBACC,CAAA,GAAA,oKAAA,CAAA,eAAY,AAAD,gBACT,6LAAC;gBACC,KAAK;gBACL,OAAO;oBACL,UAAU;oBACV,KAAK,SAAS,GAAG;oBACjB,MAAM,UAAU,UAAU,SAAS,SAAS,IAAI;oBAChD,OAAO,UAAU,UAAU,OAAO,UAAU,GAAG,SAAS,IAAI,GAAG;gBACjE;gBACA,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,6DACA,8BACA;0BAGD;;;;;sBAEH,SAAS,IAAI;;;AAIvB;GAjEgB;KAAA;AA2ET,SAAS,aAAa,EAC3B,QAAQ,EACR,IAAI,EACJ,OAAO,EACP,QAAQ,EACR,WAAW,EACO;IAClB,qBACE,6LAAC;QACC,SAAS;QACT,UAAU;QACV,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,+DACA,kCACA,YAAY,iCACZ,cACI,0DACA;;YAGL,sBAAQ,6LAAC;gBAAK,WAAU;0BAAW;;;;;;YACnC;;;;;;;AAGP;MAxBgB;AA0BT,SAAS;IACd,qBAAO,6LAAC;QAAI,WAAU;;;;;;AACxB;MAFgB"}},
    {"offset": {"line": 6302, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 6308, "column": 0}, "map": {"version":3,"sources":["file://C%3A/TextOr/src/components/ui/LanguageSelector.tsx"],"sourcesContent":["\"use client\";\n\nimport { useI18n } from \"@/hooks\";\nimport { cn } from \"@/lib\";\nimport { Languages } from \"lucide-react\";\nimport type { Language } from \"@/i18n\";\n\nexport function LanguageSelector() {\n  const { language, setLanguage, t } = useI18n();\n\n  const handleChange = (e: React.ChangeEvent<HTMLSelectElement>) => {\n    setLanguage(e.target.value as Language);\n  };\n\n  return (\n    <div className=\"relative flex items-center gap-2\">\n      <Languages className=\"h-4 w-4 text-editor-muted\" />\n      <select\n        value={language}\n        onChange={handleChange}\n        className={cn(\n          \"appearance-none rounded-md border border-editor-border bg-editor-bg\",\n          \"px-3 py-1.5 pr-8 text-sm text-editor-text\",\n          \"focus:border-editor-accent focus:outline-none focus:ring-1 focus:ring-editor-accent\",\n          \"cursor-pointer\"\n        )}\n        aria-label=\"Select language\"\n      >\n        <option value=\"en\">{t.language.en}</option>\n        <option value=\"es\">{t.language.es}</option>\n      </select>\n      <div className=\"pointer-events-none absolute right-2 top-1/2 -translate-y-1/2\">\n        <svg\n          className=\"h-4 w-4 text-editor-muted\"\n          fill=\"none\"\n          stroke=\"currentColor\"\n          viewBox=\"0 0 24 24\"\n        >\n          <path\n            strokeLinecap=\"round\"\n            strokeLinejoin=\"round\"\n            strokeWidth={2}\n            d=\"M19 9l-7 7-7-7\"\n          />\n        </svg>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;AAEA;AACA;AADA;AAEA;AADA;;;AAHA;;;;AAOO,SAAS;;IACd,MAAM,EAAE,QAAQ,EAAE,WAAW,EAAE,CAAC,EAAE,GAAG,CAAA,GAAA,0HAAA,CAAA,UAAO,AAAD;IAE3C,MAAM,eAAe,CAAC;QACpB,YAAY,EAAE,MAAM,CAAC,KAAK;IAC5B;IAEA,qBACE,6LAAC;QAAI,WAAU;;0BACb,6LAAC,+MAAA,CAAA,YAAS;gBAAC,WAAU;;;;;;0BACrB,6LAAC;gBACC,OAAO;gBACP,UAAU;gBACV,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,uEACA,6CACA,uFACA;gBAEF,cAAW;;kCAEX,6LAAC;wBAAO,OAAM;kCAAM,EAAE,QAAQ,CAAC,EAAE;;;;;;kCACjC,6LAAC;wBAAO,OAAM;kCAAM,EAAE,QAAQ,CAAC,EAAE;;;;;;;;;;;;0BAEnC,6LAAC;gBAAI,WAAU;0BACb,cAAA,6LAAC;oBACC,WAAU;oBACV,MAAK;oBACL,QAAO;oBACP,SAAQ;8BAER,cAAA,6LAAC;wBACC,eAAc;wBACd,gBAAe;wBACf,aAAa;wBACb,GAAE;;;;;;;;;;;;;;;;;;;;;;AAMd;GAzCgB;;QACuB,0HAAA,CAAA,UAAO;;;KAD9B"}},
    {"offset": {"line": 6412, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 6418, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":""}},
    {"offset": {"line": 6426, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 6444, "column": 0}, "map": {"version":3,"sources":["file://C%3A/TextOr/src/components/editor/Toolbar.tsx"],"sourcesContent":["\"use client\";\n\nimport { useEditorStore } from \"@/stores\";\nimport { useI18n } from \"@/hooks\";\nimport { Button } from \"@/components/ui\";\nimport { cn } from \"@/lib\";\nimport {\n  Undo2,\n  Redo2,\n  Bold,\n  Italic,\n  Underline,\n  Strikethrough,\n  Code,\n  Link,\n  Focus,\n  BarChart3,\n} from \"lucide-react\";\n\nexport function Toolbar() {\n  const { t } = useI18n();\n  const undo = useEditorStore((state) => state.undo);\n  const redo = useEditorStore((state) => state.redo);\n  const canUndo = useEditorStore((state) => state.canUndo);\n  const canRedo = useEditorStore((state) => state.canRedo);\n  const toggleFocusMode = useEditorStore((state) => state.toggleFocusMode);\n  const focusMode = useEditorStore((state) => state.focusMode);\n  const toggleWordDensityPanel = useEditorStore(\n    (state) => state.toggleWordDensityPanel\n  );\n  const wordDensityPanelOpen = useEditorStore(\n    (state) => state.wordDensityPanelOpen\n  );\n\n  const toolbarButtons = [\n    {\n      icon: Undo2,\n      label: t.toolbar.undo,\n      action: undo,\n      disabled: !canUndo(),\n    },\n    {\n      icon: Redo2,\n      label: t.toolbar.redo,\n      action: redo,\n      disabled: !canRedo(),\n    },\n    { type: \"separator\" as const },\n    { icon: Bold, label: t.toolbar.bold, action: () => {}, shortcut: \"Ctrl+B\" },\n    {\n      icon: Italic,\n      label: t.toolbar.italic,\n      action: () => {},\n      shortcut: \"Ctrl+I\",\n    },\n    {\n      icon: Underline,\n      label: t.toolbar.underline,\n      action: () => {},\n      shortcut: \"Ctrl+U\",\n    },\n    {\n      icon: Strikethrough,\n      label: t.toolbar.strikethrough,\n      action: () => {},\n    },\n    { type: \"separator\" as const },\n    { icon: Code, label: t.toolbar.code, action: () => {} },\n    { icon: Link, label: t.toolbar.link, action: () => {} },\n    { type: \"separator\" as const },\n    {\n      icon: Focus,\n      label: t.toolbar.focusMode,\n      action: toggleFocusMode,\n      active: focusMode.isActive,\n    },\n    {\n      icon: BarChart3,\n      label: t.toolbar.wordDensity,\n      action: toggleWordDensityPanel,\n      active: wordDensityPanelOpen,\n    },\n  ];\n\n  return (\n    <div className=\"border-b border-editor-border bg-editor-bg px-4 py-2\">\n      <div className=\"mx-auto flex max-w-6xl items-center gap-1\">\n        {toolbarButtons.map((item, index) => {\n          if (\"type\" in item && item.type === \"separator\") {\n            return (\n              <div\n                key={`sep-${index}`}\n                className=\"mx-1 h-6 w-px bg-editor-border\"\n              />\n            );\n          }\n\n          const Icon = item.icon;\n          return (\n            <Button\n              key={item.label}\n              variant=\"ghost\"\n              size=\"icon\"\n              onClick={item.action}\n              disabled={\"disabled\" in item ? item.disabled : false}\n              className={cn(\n                \"toolbar-button\",\n                \"active\" in item && item.active && \"active\"\n              )}\n              title={\n                \"shortcut\" in item\n                  ? `${item.label} (${item.shortcut})`\n                  : item.label\n              }\n              aria-label={item.label}\n            >\n              <Icon className=\"h-4 w-4\" />\n            </Button>\n          );\n        })}\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 6635, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 6641, "column": 0}, "map": {"version":3,"sources":["file://C%3A/TextOr/src/components/editor/ReadingStats.tsx"],"sourcesContent":["\"use client\";\n\nimport { memo } from \"react\";\nimport { useI18n, useTextAnalysis } from \"@/hooks\";\nimport { Clock, Type, BarChart2 } from \"lucide-react\";\n\nfunction ReadingStatsInner() {\n  const { t } = useI18n();\n  const { stats } = useTextAnalysis();\n\n  return (\n    <div className=\"flex items-center gap-4 rounded-lg bg-editor-bg px-4 py-2 text-sm\">\n      <div className=\"flex items-center gap-1.5 text-editor-muted\" title={t.stats.words}>\n        <Type className=\"h-4 w-4\" />\n        <span>{stats.wordCount}</span>\n      </div>\n      <div className=\"flex items-center gap-1.5 text-editor-muted\" title={t.stats.readingTime}>\n        <Clock className=\"h-4 w-4\" />\n        <span>{stats.readingTime} min</span>\n      </div>\n      <div className=\"flex items-center gap-1.5 text-editor-muted\" title={t.stats.characters}>\n        <BarChart2 className=\"h-4 w-4\" />\n        <span>{stats.characterCount}</span>\n      </div>\n    </div>\n  );\n}\n\nexport const ReadingStats = memo(ReadingStatsInner);\n"],"names":[],"mappings":";;;;AAEA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;;;AAJA;;;;AAMA,SAAS;;IACP,MAAM,EAAE,CAAC,EAAE,GAAG,CAAA,GAAA,0HAAA,CAAA,UAAO,AAAD;IACpB,MAAM,EAAE,KAAK,EAAE,GAAG,CAAA,GAAA,kIAAA,CAAA,kBAAe,AAAD;IAEhC,qBACE,6LAAC;QAAI,WAAU;;0BACb,6LAAC;gBAAI,WAAU;gBAA8C,OAAO,EAAE,KAAK,CAAC,KAAK;;kCAC/E,6LAAC,qMAAA,CAAA,OAAI;wBAAC,WAAU;;;;;;kCAChB,6LAAC;kCAAM,MAAM,SAAS;;;;;;;;;;;;0BAExB,6LAAC;gBAAI,WAAU;gBAA8C,OAAO,EAAE,KAAK,CAAC,WAAW;;kCACrF,6LAAC,uMAAA,CAAA,QAAK;wBAAC,WAAU;;;;;;kCACjB,6LAAC;;4BAAM,MAAM,WAAW;4BAAC;;;;;;;;;;;;;0BAE3B,6LAAC;gBAAI,WAAU;gBAA8C,OAAO,EAAE,KAAK,CAAC,UAAU;;kCACpF,6LAAC,mOAAA,CAAA,YAAS;wBAAC,WAAU;;;;;;kCACrB,6LAAC;kCAAM,MAAM,cAAc;;;;;;;;;;;;;;;;;;AAInC;GApBS;;QACO,0HAAA,CAAA,UAAO;QACH,kIAAA,CAAA,kBAAe;;;KAF1B;AAsBF,MAAM,6BAAe,CAAA,GAAA,6JAAA,CAAA,OAAI,AAAD,EAAE"}},
    {"offset": {"line": 6762, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 6768, "column": 0}, "map": {"version":3,"sources":["file://C%3A/TextOr/src/components/editor/WordDensityPanel.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState, useCallback } from \"react\";\nimport { useI18n, useTextAnalysis } from \"@/hooks\";\nimport { BarChart3, Smile, Meh, Frown, X } from \"lucide-react\";\nimport { cn } from \"@/lib\";\n\nconst SENTIMENT_ICONS = {\n  positive: Smile,\n  neutral: Meh,\n  negative: Frown,\n};\n\nconst SENTIMENT_CLASSES = {\n  positive: \"text-green-500\",\n  neutral: \"text-yellow-500\",\n  negative: \"text-red-500\",\n};\n\nexport function WordDensityPanel() {\n  const { t } = useI18n();\n  const { wordFrequency, sentiment } = useTextAnalysis();\n  const [isOpen, setIsOpen] = useState(false);\n\n  const topWords = wordFrequency.slice(0, 10);\n  const maxCount = topWords[0]?.count ?? 1;\n\n  const SentimentIcon = SENTIMENT_ICONS[sentiment.label];\n\n  const togglePanel = useCallback(() => setIsOpen((prev) => !prev), []);\n\n  return (\n    <>\n      <button\n        onClick={togglePanel}\n        className=\"flex items-center gap-1.5 rounded-lg bg-editor-bg px-3 py-2 text-sm text-editor-muted hover:bg-editor-hover\"\n        title={t.wordDensity.title}\n      >\n        <BarChart3 className=\"h-4 w-4\" />\n        <span>{t.wordDensity.title}</span>\n      </button>\n\n      {isOpen && (\n        <div className=\"fixed right-4 top-20 z-50 w-80 rounded-lg border border-editor-border bg-editor-bg shadow-xl\">\n          <div className=\"flex items-center justify-between border-b border-editor-border p-3\">\n            <h3 className=\"font-medium\">{t.wordDensity.title}</h3>\n            <button\n              onClick={togglePanel}\n              className=\"rounded p-1 hover:bg-editor-hover\"\n              aria-label=\"Close panel\"\n            >\n              <X className=\"h-4 w-4\" />\n            </button>\n          </div>\n\n          <div className=\"p-4\">\n            <div className=\"mb-4 rounded-lg bg-editor-hover p-3\">\n              <div className=\"mb-2 flex items-center justify-between\">\n                <span className=\"text-sm font-medium\">{t.wordDensity.sentiment}</span>\n                <div className={cn(\"flex items-center gap-1\", SENTIMENT_CLASSES[sentiment.label])}>\n                  <SentimentIcon className=\"h-5 w-5\" />\n                  <span className=\"text-sm capitalize\">{sentiment.label}</span>\n                </div>\n              </div>\n              <div className=\"flex items-center gap-2\">\n                <div className=\"h-2 flex-1 rounded-full bg-editor-border\">\n                  <div\n                    className={cn(\n                      \"h-full rounded-full transition-all\",\n                      sentiment.score >= 0 ? \"bg-green-500\" : \"bg-red-500\"\n                    )}\n                    style={{\n                      width: `${Math.abs(sentiment.score * 100)}%`,\n                      marginLeft: sentiment.score < 0 ? \"auto\" : 0,\n                    }}\n                  />\n                </div>\n                <span className=\"text-xs text-editor-muted\">\n                  {sentiment.score.toFixed(2)}\n                </span>\n              </div>\n            </div>\n\n            <h4 className=\"mb-2 text-sm font-medium\">{t.wordDensity.topWords}</h4>\n            {topWords.length === 0 ? (\n              <p className=\"text-sm text-editor-muted\">No words yet...</p>\n            ) : (\n              <ul className=\"space-y-2\">\n                {topWords.map((item) => (\n                  <li key={item.word} className=\"flex items-center gap-2\">\n                    <span className=\"w-20 truncate text-sm\">{item.word}</span>\n                    <div className=\"flex-1\">\n                      <div className=\"h-2 rounded-full bg-editor-border\">\n                        <div\n                          className=\"h-full rounded-full bg-editor-accent\"\n                          style={{ width: `${(item.count / maxCount) * 100}%` }}\n                        />\n                      </div>\n                    </div>\n                    <span className=\"text-xs text-editor-muted\">{item.count}</span>\n                  </li>\n                ))}\n              </ul>\n            )}\n          </div>\n        </div>\n      )}\n    </>\n  );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 7062, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 7068, "column": 0}, "map": {"version":3,"sources":["file://C%3A/TextOr/src/components/editor/SaveIndicator.tsx"],"sourcesContent":["\"use client\";\n\nimport { useEditorStore } from \"@/stores\";\nimport { useI18n } from \"@/hooks\";\nimport { Cloud, CloudOff } from \"lucide-react\";\n\nexport function SaveIndicator() {\n  const { t } = useI18n();\n  const saveStatus = useEditorStore((state) => state.saveState.status);\n  const isSaved = saveStatus === \"saved\" || saveStatus === \"idle\";\n\n  return (\n    <div className=\"flex items-center gap-1.5 text-sm\">\n      {isSaved ? (\n        <>\n          <Cloud className=\"h-4 w-4 text-green-500\" />\n          <span className=\"text-green-500\">{t.save.saved}</span>\n        </>\n      ) : (\n        <>\n          <CloudOff className=\"h-4 w-4 text-editor-muted\" />\n          <span className=\"text-editor-muted\">{t.save.saving}</span>\n        </>\n      )}\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;AAEA;AACA;AAAA;AADA;AAEA;AAAA;;;AAJA;;;;AAMO,SAAS;;IACd,MAAM,EAAE,CAAC,EAAE,GAAG,CAAA,GAAA,0HAAA,CAAA,UAAO,AAAD;IACpB,MAAM,aAAa,CAAA,GAAA,+HAAA,CAAA,iBAAc,AAAD;oDAAE,CAAC,QAAU,MAAM,SAAS,CAAC,MAAM;;IACnE,MAAM,UAAU,eAAe,WAAW,eAAe;IAEzD,qBACE,6LAAC;QAAI,WAAU;kBACZ,wBACC;;8BACE,6LAAC,uMAAA,CAAA,QAAK;oBAAC,WAAU;;;;;;8BACjB,6LAAC;oBAAK,WAAU;8BAAkB,EAAE,IAAI,CAAC,KAAK;;;;;;;yCAGhD;;8BACE,6LAAC,iNAAA,CAAA,WAAQ;oBAAC,WAAU;;;;;;8BACpB,6LAAC;oBAAK,WAAU;8BAAqB,EAAE,IAAI,CAAC,MAAM;;;;;;;;;;;;;AAK5D;GApBgB;;QACA,0HAAA,CAAA,UAAO;QACF,+HAAA,CAAA,iBAAc;;;KAFnB"}},
    {"offset": {"line": 7148, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 7154, "column": 0}, "map": {"version":3,"sources":["file://C%3A/TextOr/src/components/editor/ExportMenu.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useState, useCallback, useRef, useEffect } from \"react\";\r\nimport { useEditorStore } from \"@/stores\";\r\nimport { useI18n } from \"@/hooks\";\r\nimport {\r\n  exportToMarkdown,\r\n  exportToJSON,\r\n  exportToHTML,\r\n  exportToPDF,\r\n} from \"@/lib\";\r\nimport { Download, ChevronDown, FileText, Code, FileJson, FileCode } from \"lucide-react\";\r\nimport { cn } from \"@/lib\";\r\n\r\ntype ExportFormat = \"pdf\" | \"markdown\" | \"json\" | \"html\";\r\n\r\nexport function ExportMenu() {\r\n  const { t } = useI18n();\r\n  const [isOpen, setIsOpen] = useState(false);\r\n  const [isExporting, setIsExporting] = useState(false);\r\n  const menuRef = useRef<HTMLDivElement>(null);\r\n\r\n  const title = useEditorStore((state) => state.document.title);\r\n  const blocks = useEditorStore((state) => state.document.blocks);\r\n\r\n  useEffect(() => {\r\n    const handleClickOutside = (e: MouseEvent) => {\r\n      if (menuRef.current && !menuRef.current.contains(e.target as Node)) {\r\n        setIsOpen(false);\r\n      }\r\n    };\r\n\r\n    document.addEventListener(\"mousedown\", handleClickOutside);\r\n    return () => document.removeEventListener(\"mousedown\", handleClickOutside);\r\n  }, []);\r\n\r\n  const toggleMenu = useCallback(() => {\r\n    setIsOpen((prev) => !prev);\r\n  }, []);\r\n\r\n  const handleExport = useCallback(\r\n    async (format: ExportFormat) => {\r\n      setIsExporting(true);\r\n      setIsOpen(false);\r\n\r\n      try {\r\n        const filename = title.replace(/[^a-z0-9]/gi, \"_\").toLowerCase() || \"document\";\r\n\r\n        switch (format) {\r\n          case \"markdown\": {\r\n            const content = exportToMarkdown(blocks);\r\n            downloadFile(content, `${filename}.md`, \"text/markdown\");\r\n            break;\r\n          }\r\n          case \"json\": {\r\n            const content = exportToJSON(blocks, title);\r\n            downloadFile(content, `${filename}.json`, \"application/json\");\r\n            break;\r\n          }\r\n          case \"html\": {\r\n            const content = exportToHTML(blocks, title);\r\n            downloadFile(content, `${filename}.html`, \"text/html\");\r\n            break;\r\n          }\r\n          case \"pdf\": {\r\n            await exportToPDF(blocks, title);\r\n            break;\r\n          }\r\n        }\r\n      } catch (error) {\r\n        console.error(\"Export failed:\", error);\r\n      } finally {\r\n        setIsExporting(false);\r\n      }\r\n    },\r\n    [blocks, title]\r\n  );\r\n\r\n  return (\r\n    <div ref={menuRef} className=\"relative\">\r\n      <button\r\n        onClick={toggleMenu}\r\n        disabled={isExporting}\r\n        className={cn(\r\n          \"flex items-center gap-1.5 rounded-lg px-3 py-2 text-sm\",\r\n          \"bg-editor-accent text-white hover:bg-editor-accent/90\",\r\n          \"disabled:cursor-not-allowed disabled:opacity-50\"\r\n        )}\r\n      >\r\n        <Download className=\"h-4 w-4\" />\r\n        <span>{isExporting ? \"Exporting...\" : t.export.title}</span>\r\n        <ChevronDown className={cn(\"h-4 w-4 transition-transform\", isOpen && \"rotate-180\")} />\r\n      </button>\r\n\r\n      {isOpen && (\r\n        <div className=\"absolute right-0 top-full z-50 mt-1 w-48 rounded-lg border border-editor-border bg-editor-bg py-1 shadow-xl\">\r\n          <button\r\n            onClick={() => handleExport(\"pdf\")}\r\n            className=\"flex w-full items-center gap-2 px-3 py-2 text-sm hover:bg-editor-hover\"\r\n          >\r\n            <FileText className=\"h-4 w-4 text-red-500\" />\r\n            <span>{t.export.pdf}</span>\r\n          </button>\r\n          <button\r\n            onClick={() => handleExport(\"markdown\")}\r\n            className=\"flex w-full items-center gap-2 px-3 py-2 text-sm hover:bg-editor-hover\"\r\n          >\r\n            <Code className=\"h-4 w-4 text-blue-500\" />\r\n            <span>{t.export.markdown}</span>\r\n          </button>\r\n          <button\r\n            onClick={() => handleExport(\"json\")}\r\n            className=\"flex w-full items-center gap-2 px-3 py-2 text-sm hover:bg-editor-hover\"\r\n          >\r\n            <FileJson className=\"h-4 w-4 text-yellow-500\" />\r\n            <span>{t.export.json}</span>\r\n          </button>\r\n          <button\r\n            onClick={() => handleExport(\"html\")}\r\n            className=\"flex w-full items-center gap-2 px-3 py-2 text-sm hover:bg-editor-hover\"\r\n          >\r\n            <FileCode className=\"h-4 w-4 text-orange-500\" />\r\n            <span>{t.export.html}</span>\r\n          </button>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction downloadFile(content: string, filename: string, mimeType: string) {\r\n  const blob = new Blob([content], { type: mimeType });\r\n  const url = URL.createObjectURL(blob);\r\n  const link = document.createElement(\"a\");\r\n  link.href = url;\r\n  link.download = filename;\r\n  document.body.appendChild(link);\r\n  link.click();\r\n  document.body.removeChild(link);\r\n  URL.revokeObjectURL(url);\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 7432, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 7438, "column": 0}, "map": {"version":3,"sources":["file://C%3A/TextOr/src/app/page.tsx"],"sourcesContent":["\"use client\";\n\nimport { EditorProvider } from \"@/components/editor/EditorProvider\";\nimport { Editor } from \"@/components/editor/Editor\";\nimport { Toolbar } from \"@/components/editor/Toolbar\";\nimport { ReadingStats } from \"@/components/editor/ReadingStats\";\nimport { WordDensityPanel } from \"@/components/editor/WordDensityPanel\";\nimport { SaveIndicator } from \"@/components/editor/SaveIndicator\";\nimport { ExportMenu } from \"@/components/editor/ExportMenu\";\nimport { LanguageSelector } from \"@/components/ui/LanguageSelector\";\nimport { useI18n } from \"@/hooks/useI18n\";\n\nexport default function HomePage() {\n  const { t } = useI18n();\n\n  return (\n    <EditorProvider>\n      <div className=\"min-h-screen bg-editor-bg\">\n        <header className=\"sticky top-0 z-30 border-b border-editor-border bg-editor-bg/80 backdrop-blur-sm\">\n          <div className=\"mx-auto flex max-w-6xl items-center justify-between px-4 py-3\">\n            <div className=\"flex items-center gap-4\">\n              <h1 className=\"text-xl font-bold text-editor-text\">TextOr</h1>\n              <span className=\"rounded-full bg-editor-accent/10 px-2 py-0.5 text-xs text-editor-accent\">\n                {t.editor.beta}\n              </span>\n            </div>\n            <div className=\"flex items-center gap-2\">\n              <LanguageSelector />\n              <ExportMenu />\n            </div>\n          </div>\n          <Toolbar />\n        </header>\n\n        <main className=\"editor-container\">\n          <Editor />\n        </main>\n\n        <SaveIndicator />\n        <ReadingStats />\n        <WordDensityPanel />\n      </div>\n    </EditorProvider>\n  );\n}\n"],"names":[],"mappings":";;;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAVA;;;;;;;;;;AAYe,SAAS;;IACtB,MAAM,EAAE,CAAC,EAAE,GAAG,CAAA,GAAA,0HAAA,CAAA,UAAO,AAAD;IAEpB,qBACE,6LAAC,iJAAA,CAAA,iBAAc;kBACb,cAAA,6LAAC;YAAI,WAAU;;8BACb,6LAAC;oBAAO,WAAU;;sCAChB,6LAAC;4BAAI,WAAU;;8CACb,6LAAC;oCAAI,WAAU;;sDACb,6LAAC;4CAAG,WAAU;sDAAqC;;;;;;sDACnD,6LAAC;4CAAK,WAAU;sDACb,EAAE,MAAM,CAAC,IAAI;;;;;;;;;;;;8CAGlB,6LAAC;oCAAI,WAAU;;sDACb,6LAAC,+IAAA,CAAA,mBAAgB;;;;;sDACjB,6LAAC,6IAAA,CAAA,aAAU;;;;;;;;;;;;;;;;;sCAGf,6LAAC,0IAAA,CAAA,UAAO;;;;;;;;;;;8BAGV,6LAAC;oBAAK,WAAU;8BACd,cAAA,6LAAC,yIAAA,CAAA,SAAM;;;;;;;;;;8BAGT,6LAAC,gJAAA,CAAA,gBAAa;;;;;8BACd,6LAAC,+IAAA,CAAA,eAAY;;;;;8BACb,6LAAC,mJAAA,CAAA,mBAAgB;;;;;;;;;;;;;;;;AAIzB;GAhCwB;;QACR,0HAAA,CAAA,UAAO;;;KADC"}},
    {"offset": {"line": 7587, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}